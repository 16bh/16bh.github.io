<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[2018读书总结]]></title>
    <url>%2F2019%2F01%2F21%2F2018-reading-list%2F</url>
    <content type="text"><![CDATA[2018年共看了 有的人的书不用看就知道是精品，比如龙应台、严歌苓 、是枝裕和 打分标准如下： 极差 ★ 较差 ★★ 还行 ★★★ 推荐 ★★★★ 力荐 ★★★★★ 8月 《如父如子》是枝裕和 ★★★★★ 《证明》松本清张 ★★★ 《上瘾》尼尔埃亚尔 ★★★★ 《创业小败局》★★★★ 《山茶文具店》小川糸 ★★★★★ 《人工智能》李开复 ★★★★ 《一个女人的史诗》严歌苓 ★★★★ 9月 《斗罗大陆》唐家三少 ★★★ 《牧羊少年奇幻之旅》保罗柯艾略 ★★★ 《围城》钱钟书 ★★★★★ 《许三观卖血记》余华 ★★★★ 《活着》余华 ★★★★ 《半小时漫画中国史》二愣子 ★★★★ 《半小时漫画中国史2》二愣子 ★★★★ 《半小时漫画中国史3》二愣子 ★★★★ 《半小时漫画世界史》二愣子 ★★★★ 《在细雨中呐喊》余华 ★★★★ 《奥吉和我》RJ帕拉西奥 ★★★★ 《金刚经心经》鸠摩罗什 玄奘 ★★★★★ 《菩提树下的微笑》蔡志忠 ★★★★ 《一禅小和尚》★★★★ 《成人如迷》莎拉安徒生 ★★★★ 《一个人散步》韩旭君 ★★ 《镖人卷一》许先哲 ★★★★ 《镖人卷二》许先哲 ★★★★ 《我很好啊你怎么样》 莎拉安徒生 ★★★★ 《浮生六记》沈复 ★★★★★ 《妈妈让我卖茄子》原田刚 ★★★★ 《心经解密》蔡志忠 ★★★★ 10月 《目送》龙应台 ★★★★★ 《野火集》龙应台 ★★★★★ 《人间便利店》村田沙耶香 ★★★ 《早晨型人更易成功》中岛孝志 ★★★ 《高效阅读》渡边康弘 ★★★ 《刺杀骑士团长》村上春树 ★★★★ 《愿无岁月可回头》回忆专用小马甲 ★★★ 《我的职业是小说家》村上春树 ★★★★ 《人间失格》太宰治 ★★★★ 《草房子》曹文轩 ★★★★★ 11月 《咏远有李》李咏 ★★★★ 《射雕英雄传》金庸 ★★★★★ 《1984》乔治奥威尔 ★★★★★ 《我是猫》夏目漱石 ★★★★★ 《未来简史》尤瓦尔赫拉利 ★★★★★ 《小王子纯美电影原图珍藏版》安东尼 ★★★★★ 《偷影子的人》马克李维 ★★★ 《动物农场》乔治奥威尔 ★★★★★ 《情人》玛格丽特杜兰特 ★★★★★ 《我可以咬一口吗》 利兹克里莫 ★★★★★ 《皮囊》蔡崇达 ★★★★ 《人性的弱点》戴尔卡耐基 ★★★★ 《看见》柴静 ★★★★★ 《天才地久：给美君的信》龙应台 ★★★★★ 《小狗钱钱》博多舍费尔 ★★★★★ 《心经解读》比尔波特 ★★★★★ 《亮剑》都梁 ★★★★★ 12月 《富爸爸穷爸爸》罗伯特清崎 ★★★★★ 《我的天才女友》 埃莱娜费兰特 ★★★★★ 《新名字的故事》埃莱娜费兰特 ★★★★★ 《离开的，留下的》埃莱娜费兰特 ★★★★★ 《失踪的孩子》埃莱娜费兰特 ★★★★★ 《哈利波特与密室纪念版》JK罗琳 ★★★★★ 《神奇动物在哪里》 JK罗琳 ★★★★ 《神奇的魁地奇球》JK罗琳 ★★★★ 《哈利波特与密室纪念版》JK罗琳 ★★★★★ 《一只名叫鲍勃的猫》詹姆斯鲍文 ★★★★ 《禅者的初心》铃木俊隆 ★★★★★]]></content>
      <categories>
        <category>Read</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[hexo blog中怎么插入歌曲]]></title>
    <url>%2F2018%2F11%2F12%2F%20add-music-to-blog%2F</url>
    <content type="text"><![CDATA[如何将音乐添加到文章? https://music.163.com/#/outchain/2/63738/m/use/html 生成外链即可]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>music</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[读书笔记：如何快速阅读]]></title>
    <url>%2F2018%2F10%2F17%2Ffast-read-skill%2F</url>
    <content type="text"><![CDATA[最近看了一些关于阅读技巧的书，作者本人都是爱读书并且看书贼快的，一天可以看好几本那种。 以下是书单，点击可跳转到对应的豆瓣链接： 《高效阅读》，[日]渡边康弘 《如何高效阅读》，[美]彼得·孔普 《快速阅读术》，[日]印南敦史 总结一下，怎样看书才又快又好呢？ ​ 几本书有一个共同的观点，那就是读书不应该逐字逐句的阅读，要扫视、通读。 ​ 《快速阅读术》举了个例子，人在听音乐的时候，并没有仔细去听每一个音符，最后总能大体get到歌曲要表达的意思。因此，作者提出了名为“流水式”的阅读方法，让文字从你眼前很自然的流过，留下来的就是你掌握了的。 ​ 《高效阅读》提到用纸笔来辅助阅读，有点麻烦。但是提到了一个“共振阅读法”，阅读的时候想象自己同作者对话，有点意思 ​ 《如何高效阅读》提到了几点我觉得很有用： 1. 用手指辅助阅读，可以防止回读 2. 避免默读，加快阅读速度，快到你的大脑来不及默读 3. 带着目的去阅读，读这本书想收获什么 4. 最重要的一点，读书不是目的，读完之后的行动才是重点。]]></content>
      <categories>
        <category>Reading</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[一款比man更好用的工具：tldr]]></title>
    <url>%2F2018%2F10%2F16%2Fa-command-more-powerful-than-man%2F</url>
    <content type="text"><![CDATA[感谢duang duang给我介绍的一款实用的小工具:tldr tldr的官网介绍 tldr = too long don’t read 通常我们碰到一个陌生或很长时间没用过的command命令的时候不会用，会用man来查看这个命令的用法，但是man的介绍太详细了，如下所示： 以下是截取的一部分命令介绍： 12345678910111213141516171819202122232425262728293031BSDTAR(1) BSD General Commands Manual BSDTAR(1)NAME tar -- manipulate tape archivesSYNOPSIS tar [bundled-flags &lt;args&gt;] [&lt;file&gt; | &lt;pattern&gt; ...] tar &#123;-c&#125; [options] [files | directories] tar &#123;-r | -u&#125; -f archive-file [options] [files | directories] tar &#123;-t | -x&#125; [options] [patterns]DESCRIPTION tar creates and manipulates streaming archive files. This implementation can extract from tar, pax, cpio, zip, jar, ar, and ISO 9660 cdrom images and can create tar, pax, cpio, ar, and shar archives. The first synopsis form shows a ``bundled&apos;&apos; option word. This usage is provided for compatibility with historical implementations. See COMPATI- BILITY below for details. The other synopsis forms show the preferred usage. The first option to tar is a mode indicator from the following list: -c Create a new archive containing the specified items. -r Like -c, but new entries are appended to the archive. Note that this only works on uncompressed archives stored in regular files. The -f option is required. -t List archive contents to stdout. -u Like -r, but new entries are added only if they have a modifica- tion date newer than the corresponding entry in the archive. Note that this only works on uncompressed archives stored in reg- ular files. The -f option is required. 急等着一个命令用的时候，真的是欲仙欲死。 比较一下，用tldr查询tar的结果： 1234567891011121314151617181920212223242526272829303132➜ ~ tldr tarLocal data is older than two weeks, use --update to update it.tarArchiving utility.Often combined with a compression method, such as gzip or bzip.- Create an archive from files: tar cf target.tar file1 file2 file3- Create a gzipped archive: tar czf target.tar.gz file1 file2 file3- Extract an archive in a target folder: tar xf source.tar -C folder- Extract a gzipped archive in the current directory: tar xzf source.tar.gz- Extract a bzipped archive in the current directory: tar xjf source.tar.bz2- Create a compressed archive, using archive suffix to determine the compression program: tar caf target.tar.xz file1 file2 file3- List the contents of a tar file: tar tvf source.tar- Extract files matching a pattern: tar xf source.tar --wildcards "*.html" 根据示例，立马就知道这个命令的常见用法了。 最后，把tldr设置成man的alias别名，更方便日常的使用 1alias man="tldr"]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用jupyter来学习python]]></title>
    <url>%2F2018%2F10%2F16%2Fthe-best-way-to-learn-python-using-jupyter-notebook%2F</url>
    <content type="text"><![CDATA[之前一直是通过brew安装python的，后面发现有一种更简便的方法，如下: 通过miniconda安装python和jupyter 然后通过jupyter notebook学习python知识 安装conda、python和jupyter点击进入miniconda下载页面 下载miniconda之后，通过conda命令来安装python和jupyter 12conda install pythonconda install jupyter 查看是否安装成功 1234567891011➜ ~ conda list|grep pythoncondaipython 6.5.0 py36_0ipython_genutils 0.2.0 py36h241746c_0python 3.6.5 hc167b69_1python-dateutil 2.7.3 py36_0python.app 2 py36_8➜ ~ conda list | grep jupyterjupyter 1.0.0 py36_4jupyter_client 5.2.3 py36_0jupyter_console 5.2.0 py36_1jupyter_core 安装成功了 使用jupyter在终端输入以下命令启动 1jupyter notebook 启动过程： 1234567➜ ~ jupyter notebook[W 22:27:59.899 NotebookApp] WARNING: The notebook server is listening on all IP addresses and not using encryption. This is not recommended.[I 22:27:59.919 NotebookApp] Serving notebooks from local directory: /Users/jimxu/jupyter[I 22:27:59.919 NotebookApp] 0 active kernels[I 22:27:59.919 NotebookApp] The Jupyter Notebook is running at:[I 22:27:59.919 NotebookApp] http://192.168.1.11:8888/[I 22:27:59.919 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation). 会直接通过默认浏览器打开本地jupyter服务器页面 jupyter notebook中默认的文件格式是ipynb 刚进入的时候应该只有一个类似helloworld.ipynb的文件,上图中的文件都是我自己新建的 认识ipynb文件打开一个ipynb文件，如下图所示 文档内容以cell的格式展示，你可以选择cell的样式，jupyter提供以下样式 Markdown Code Raw NBConvert Heading … 其中，以Markdown和Code的cell最常用 如果只是这样的话，jupyter只能算是个高级的markdown笔记本了 最神奇的是，你可以直接在文档中运行cell里的python代码 jupyter的配置jupyter的配置文件是~/.jupyter/jupyter_notebook_config.py]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>jupyter</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一种酷炫的博客实践方式：hexo+typora]]></title>
    <url>%2F2018%2F10%2F15%2Fa-cool-way-to-blog-by-hexo-and-typora%2F</url>
    <content type="text"><![CDATA[博客的图片不能上传到七牛云了，也懒得去折腾那些在线的图床了，还是放在本地最安心 最近发现了mac上超好用又免费的一款markdown工具Typora，Typora自带的图片工具可以将本地图片直接复制到md文件中，并放在自定义的路径中，例如与当前md文件同名的文件夹中 这种格式以方便可以被编辑器Typora识别并预览 另一方面刚好也是hexo支持并可以预览的 于是，就产生了一种比较好的博客实践方式，即hexo+typora，详情见正文 将博客中的图片从七牛云中下载到本地详见本文 配置hexo支持本地图片hexo3的一个新特性，是可以支持本地图片 有两种支持方式，参考官方文章： 方法1直接把图片放到source/images目录下,然后就可以通过images/图片名称的方式来使用图片了 也可以放到source/_posts/images目录下，两者的区别在于放soure/images目录中_posts和_drafts里的文章都可以用，放在_posts/images目录只有posts可以用了。一般drafts草稿文件夹用不上，所以区别不大 需要注意的是这种方式只支持一级目录，不能在images文件夹中再建立文件夹了。此时typora虽然可以识别，但是hexo渲染的时候会报错 方法2每篇文章都单独建立文件夹存放图片 修改配置文件*.github.io/_config.yml 1 post_asset_folder: true 这样每次之后，每次新建一篇md博文的时候，都会同时新建一个同名的文件夹用于存储该文章的图片 配置typora上述的两种方式typora都支持 对于第2种方法 按如下方式配置typora，这样当你在md文件中插入一张图片的时候，刚好会被typora复制到hexo生成的文件文件夹中 如上图，我截图并复制到markdown文件中后，就会被自动替换成下面的路径 1![image-20181015213318141](a-cool-way-to-blog-by-hexo-and-typora/image-20181015213318141.png) 其中,a-cool-way-to-blog-by-hexo-and-typora是本文的标题 对于第1种方法 把上面的自定义路径修改为./images即可 tips有一篇文章指出的一点我觉得很好 图片能省则省，不要滥用图片，占用空间 其他关于hexo的使用，请参考以下文章：hexo系列]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>typora</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[七牛测试域名过期后批量下载图片到本地]]></title>
    <url>%2F2018%2F10%2F15%2Fbatch-download-image-from-qiniu%2F</url>
    <content type="text"><![CDATA[收到邮件，七牛云的测试域名过期了，之前都是免费试用的，看来七牛是发现太多人在白嫖了 博客的图片都是上传到七牛云的域名的 需要迁移出来 在网上查询了一下，七牛云的网站上是不支持直接下载所有的图片的，需要借助他们的qshell工具来批量下载图片 文档在此： https://developer.qiniu.com/kodo/tools/1302/qshell 下载后解压，包含以下文件 12345678910 jim@jims-mac-mini.local  /Users/jim/Downloads/qshell-v2.1.8   ll  18:13:40total 99824drwxr-xr-x@ 8 jim staff 256 Oct 15 18:13 .drwx------+ 102 jim staff 3264 Oct 15 17:45 ..-rwxr-xr-x@ 1 jim staff 9119260 Feb 2 2018 qshell-darwin-x64-rwxr-xr-x@ 1 jim staff 8021196 Feb 4 2018 qshell-linux-arm-rwxr-xr-x@ 1 jim staff 9215268 Feb 2 2018 qshell-linux-x64-rwxr-xr-x@ 1 jim staff 7893862 Feb 2 2018 qshell-linux-x86-rwxr-xr-x@ 1 jim staff 9057792 Feb 2 2018 qshell-windows-x64.exe-rwxr-xr-x@ 1 jim staff 7790592 Feb 2 2018 qshell-windows-x86.exe 我们的系统是mac，所以用其中qshell-darwin-x64命令行就可以了，如果是windows系统可以参考上面的文档页面，有详细的操作 1.根据要求将命令行工具需改名称为qshell，并修改权限 12cp qshell-darwin-x64 qshellchmod +x qshell 登录七牛账号，其中AccessKey和SecretKey可以在你的七牛云网站中查到，不赘述 1./qshell &#123;AccessKey&#125; &#123;SecretKey&#125; 可以用buckets和domins命令查看bucket和domin 1234567 jim@jims-mac-mini.local  /Users/jim/Downloads/qshell-v2.1.8   ./qshell buckets  17:39:512018/10/15 17:39:53 [I] Load account from /Users/jim/.qshell/account.jsonj***u jim@jims-mac-mini.local  /Users/jim/Downloads/qshell-v2.1.8   ./qshell domains j***u  17:40:092018/10/15 17:40:13 [I] Load account from /Users/jim/.qshell/account.json***.bkt.clouddn.com 其中，bucket对应的就是我们的存储空间，也即我们需要下载图片的地方 创建爱你下载配置并下载 我们通过qdownload命令来下载，该命令的详细用法 大概的思路就是创建一个下载配置文件qdisk_down.conf，然后指定qdownload命令通过这个配置下载就ok了 随便找个地方创建这个文件，编辑如下： 12345&#123; &quot;dest_dir&quot; : &quot;/Users/***/qiniu&quot;, &quot;bucket&quot; : &quot;j***u&quot;, &quot;cdn_domain&quot; : &quot;***.bkt.clouddn.com&quot;&#125; 这里的bucket和cdn_domain就是我们上面查询得到的玩意儿了 dset_dir是你指定下载的目录，其它的用默认配置就ojbk了 最后运行 1qshell qdownload 10 qdisk_down.conf 搞定了 ps，如果用的blog是hexo框架的 那么，把下载的图片文件夹重命名为assets，copy到16bh.github.io/source/_posts目录，然后找个编辑器批量替换_posts中所有的图片地址，将七牛的前缀修改为assets就ok啦]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>qiniu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[博客域名切回github]]></title>
    <url>%2F2018%2F10%2F10%2Fchange-back-to-github-io-domin%2F</url>
    <content type="text"><![CDATA[域名过期，换回原来的github的域名但是访问16bh.github.io仍然跳转到原来配置的域名。 解决方案：删除source文件夹下的CNAME文件里配置的域名]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[如何在Mac上安装Windows]]></title>
    <url>%2F2018%2F05%2F28%2Fhow-to-install-windows-on-mac%2F</url>
    <content type="text"><![CDATA[如何在 Mac 上通过“启动转换”安装 Windows 1.准备一个U盘，插到电脑上 U盘会被格式化 2.下载Windows镜像文件， 选择版本 选择语言 选择64位 3.运行MAC自带的软件 Boot Camp 助理 软件在应用程序的实用工具里 3.1 打开助手界面,点继续 3.2 选择任务，如果不需要]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>mac</tag>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpstorm可编辑的Rest客户端]]></title>
    <url>%2F2018%2F05%2F07%2Fphpstorm-editor-based-Rest-Client%2F</url>
    <content type="text"><![CDATA[看了一篇文章快速测试 API 接口的新技能,说的是IDEA自带了Rest客户端，可以模拟接口请求我就看看phpstorm能不能用的上 结果当然用的上啦n(≧▽≦)n 基本上，postman能实现的功能这里都可以搞定 版本支持新建了个.http文件，发现根本识别不了 丫的，原来我的正版phpstorm还是2017.3的版本，速度升级到最新版，然后就支持了，bingo! 建一个api试试在新建的http文件中编辑如下一个api，注意起始一行一定要用###打头 123456###GET localhost/api/test/indexAccept : application/jsonContent-Type: application/json;charset=UTF-8Authorization:Cookie: 点击api左边的绿色三角，就可以模拟这个api了 post请求123456789101112###POST localhost/api/test/indexAccept : application/jsonContent-Type: application/json;charset=UTF-8Authorization:Cookie:&#123;"a":1,"b":2,"c":"hello world"&#125; 能不能支持xdebug呢？google的app版本的Postman刚开始也支持不了xdebug，后来在同事的指点下，发现在cookie里加入以下内容就可以了 XDEBUG_SESSION=PHPSTORM; 在这里应该也可以，编辑以下请求： 123456### testGET localhost/api/test/indexAccept : application/jsonContent-Type: application/json;charset=UTF-8Authorization:Cookie: XDEBUG_SESSION=PHPSTORM 开启phpstorm的xdebug功能，果然成功了！ 支持多环境新建一个rest-client.env.json 1234567891011121314151617181920&#123; "dev": &#123; "host":"", "Accept":"application/json", "Content-Type":"application/json;charset=UTF-8", "Cookie":"XDEBUG_SESSION=PHPSTORM" &#125;, "test":&#123; "host":"", "Accept":"", "Content-Type":"", "Cookie":"" &#125;, "prod":&#123; "host":"", "Accept":"", "Content-Type":"", "Cookie":"" &#125;&#125; 上面的api可以改写成： 123456### testGET &#123;&#123;host&#125;&#125;/api/test/indexAccept : &#123;&#123;Accept&#125;&#125;Content-Type: &#123;&#123;Content_Type&#125;&#125;Authorization:Cookie: &#123;&#123;Cookie&#125;&#125; 此时，点运行的时候，就会让你选择环境来运行了。]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
        <tag>api</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用pecl终端命令安装php扩展]]></title>
    <url>%2F2018%2F04%2F27%2Fbrew-php-7-0-and-pecl-install-php-extension%2F</url>
    <content type="text"><![CDATA[brew不支持php70扩展的安装了，改用pecl 12345➜ conf.d brew search php70==&gt; Searching local taps...==&gt; Searching taps on GitHub...==&gt; Searching blacklisted, migrated and deleted formulae...It was migrated from josegonzalez/php to homebrew/core. 安装PHP@7.01brew install php@7.0 安装完要配置环境变量,加入.zshrc文件 12export PATH="$(brew --prefix php@7.0)/sbin:$PATH"export PATH="/usr/local/bin:/usr/local/sbin:$PATH" 启动关闭的命令也变了 12345//启动php-fpmsudo php-fpm//关闭php-fpmsudo pkill php-fpm 安装pear参考一下的教程，安装pear，安装完之后就可以使用pecl命令安装管理php扩展了 在Mac上安装pecl pecl命令 pecl search xxxx 查找扩展 pecl install xxxx 安装扩展 pecl list xxxx 查看已安装扩展列表 扩展的配置以前brew安装php70的扩展都是放在conf.d文件夹下的，而现在php@7.0的扩展安装完之后之前会自动在php.ini文件中开启 以protobuf扩展为例，我们通过pecl install protobuf安装完成之后,在终端日志最后可以看到以下内容 1234Build process completed successfullyInstalling '/usr/local/Cellar/php@7.0/7.0.29_1/pecl/20151012/protobuf.so'install ok: channel://pecl.php.net/protobuf-3.5.1.1Extension protobuf enabled in php.ini /usr/local/Cellar/php@7.0/7.0.29_1/pecl/20151012/protobuf.so是扩展所在的目录 打开php.ini文件,第一行新增了 1extension="protobuf.so" 将其注释掉 在conf.d目录下新建文件ext-protobuf.ini，编辑如下： 12[protobuf]extension="/usr/local/Cellar/php@7.0/7.0.29_1/pecl/20151012/protobuf.so" php的配置brew安装的php70时，php.ini文件是不生效的但是brew安装php@7.0，php.ini文件是生效的 obcache默认打开了obcache，影响本地测试，需要关闭 修改php.ini 123[opcache]; Determines if Zend OPCache is enabledopcache.enable=0]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>pecl</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2017阅读总结]]></title>
    <url>%2F2018%2F03%2F05%2F2017-reading-list%2F</url>
    <content type="text"><![CDATA[2017阅读记录 2017阅读关键字 推荐阅读top10 2017阅读记录❏ 风雨平生 ❏ 哈利波特8 ❏ 浪潮之巅（下） ❏ 人类简史（下） ❏ 未来简史 ❏ 我的职业是小说家 ✔ 程序员修炼之道 - 亨特 作者的水平太高了，只能看懂一部分，光这一部分就受益匪浅了 ✔ 人类简史（上） - 尤瓦尔赫拉利 推荐，作者很博学，很贴心的引用了很多中国的典故，有趣的人类史 ✔ 第七棵柳树 - 矫健 有年代感的一本书，微信群里别人送的，还可以，就当了解历史吧，故事发生的背景已经不为年轻人所知了 ✔ 摆渡人 - 克莱尔麦克福尔 名气很大的一本书，个人觉得名不副实，摆渡人是按照人的梦中情人的样子出现的，然后女主就爱上了她的梦中情人，从此，摆渡人成了她的至爱她的所有，可能因为性别的原因，无法理解这种感情 ✔ 我可以咬一口吗 - 利兹克里莫 推荐，萌萌哒漫画 ✔ 比特币：一个虚幻而真实的金融世界 - 李钧 长铗 一般，就当科普的书看了 ✔ 你也是蘑菇吗 - 安定医院郝医生 挺有意思的一本书，讲述精神病人的小故事 ✔ 世界上的所有童话都是写给大人看的 - 陈湛 其实还可以，可能是我看的那本排版太差了，好多重复的 ✔ 小姨多鹤 - 严歌苓 推荐，精彩 ✔ 芳华 - 严歌苓 推荐，代表作，电影很好看，书比电影还好看 ✔ 第九个寡妇 - 严歌苓 推荐，通过《芳华》认识的严歌苓，发现其他作品也都很精彩 ✔ 十一字杀人 - 东野圭吾 一般 ✔ 你今天真好看 - 利兹克里莫 推荐，很有趣温馨的漫画，看了可以让人开心起来 ✔ 妈妈离婚记 - 毛冷瞪 推荐，可以给感情生活带来启发的一本书，文笔非常有意思 ✔ 无终仙境 - 天下霸唱 浪费时间的一本书 ✔ 西游日记 - 今何在 西游三部曲之二，神作，推荐 ✔ 风雪追击 - 东野圭吾 滑雪 ✔ 湖畔 - 东野圭吾 推荐，高质量的一本 ✔ 大型网站技术架构：核心原理与案例分析 - 李智慧 后端开发必看，深入浅出 ✔ 淘宝技术这十年 - 子柳 挺好，干货满满 ✔ 阿里巴巴：天下没有难做的生意 - 郑作时 一般 ✔ 新参者 - 东野圭吾 新题材，温馨的风格，刚看还好，后面就觉得套路了，强行每个故事都有个煽情的结局，就跟午夜食堂似的，看了开头就知道结尾 ✔ 恋爱的贡多拉 - 东野圭吾 滑雪 ✔ 恶意 - 东野圭吾 好看，代表作之一 ✔ 分身 - 东野圭吾 一般 ✔ 仿徨之刃 - 东野圭吾 高质量 ✔ 金色的茅草 - 曹文轩 推荐，非常好的一本童话书，这才叫给成人看的童话 ✔ 创京东：刘强东亲述创业之路 洗脑作，名不符实，不推荐，被《腾讯做》甩了一万条街，概括成一句话：刘强东讲义气，你好好干不会亏待你 ✔ 放学后 - 东野圭吾 质量还行 ✔ 时生 - 东野圭吾 东野煽情作，跟韩寒的《乘风破浪》很类似的一本书，如果看过这部作品就很容易猜到剧情，按照时间顺序，应该是韩寒借鉴了《时生》和《新难兄难弟》吧 ✔ 刑警手记之异案侦缉组 - 风雪如书 跳过，浪费时间的一本书 ✔ 梦幻花 - 东野圭吾 一般 ✔ 信 - 东野圭吾 东野的好书一般都会揭露一些社会问题，比如这本 ✔ 妞妞 - 周国平 催人泪下，可以看出来周国平对妞妞的感情之深，失去挚爱那种痛彻心扉的感受 ✔ 沉睡的人鱼之家 - 东野圭吾 一般 ✔ 疾风回旋曲 - 东野圭吾 滑雪题材你懂的，作者可能一没钱就写这种书，然后就有钱去滑雪了吧 ✔ 岛上书店 - 加布瑞埃拉泽文 神作，看完立马推荐给身边所有人，太好看了 ✔ 别担心，我会陪你一起老 - 影山直美 推荐，喜欢猫狗题材的作品，作者养了两只狗狗 ✔ 周鸿祎自述：我的互联网方法论 - 周鸿祎 推荐，挺好看的一本书，周鸿祎真性情 ✔ 假面饭店 - 东野圭吾 故事一般，男主女主挺有意思的，适合拍片的一本书 ✔ 人生只有一次，去做自己喜欢的事 - 摩西奶奶 Derek推荐看的一本书，还阔以，第一次看摩西奶奶的书，老人家的生活方式值得学习 ✔ 拉普拉斯的魔女 - 东野圭吾 期待很久的一本书，结果一般，东野普通的一本书 ✔ 守夜者 - 法医秦明 故事还行，文笔一般，不推荐了 ✔ 腾讯传 - 吴晓波 推荐神作，讲述了腾讯的发家史，比《创京东》好看一万倍 ✔ 就是想看你笑的样子 - 懒兔子 作者是个自学中医的自学漫画的中年女人，还挺好看的 ✔ 急诊科女超人 - 于莺 随便看看就好，就是把网红的微博整到一起了，连编辑整理都没有，不走心 ✔ 就喜欢你看不惯我又干不掉我的样子2 - 白茶 推荐，好玩的宠物题材漫画书，吾皇万岁 ✔ 影响力 - 罗伯特·B.西奥迪尼 神作，营销必看，了解人性 ✔ 小王子 - 圣埃克苏佩里 神作，你可以读给孩子听的童话故事 ✔ 虚无的十字架 - 东野圭吾 质量还不错 ✔ 无人生还 - 阿加莎克里斯蒂 推荐，阿加莎本格推理代表作，结局有点略牵强 ✔ 无证之罪 - 紫金陈 故事还行，文笔略差了一点，结局太突兀，可以凑合看看 ✔ 不散的宴席 - 一个工作室 不推荐 ✔ 东方快车谋杀案 - 阿加莎克里斯蒂 推荐，阿加莎代表作之一 ✔ 黄金时代 - 王小波 推荐，王小波作品，看了挺久的一本书，伤痕文学，喜剧的核心是悲剧，为作者的乐观精神打call 2017阅读关键字东野圭吾、严歌苓、阿加莎、侦探、互联网 2017推荐阅读top 岛上书店 [加布瑞埃拉泽文] 影响力 [罗伯特] 腾讯传 [吴晓波] 我的互联网方法论 [周鸿祎] 芳华 [严歌苓] 妞妞 [周国平] 东方快车谋杀案 [阿加莎] 恶意 [东野圭吾] 虚无的十字架 [东野圭吾] 大型网站技术架构 [李智慧] 小姨多鹤 [严歌苓] 陆犯焉识 [严歌苓] 小王子 [安托万] 妈妈离魂记 [毛冷瞪] 就喜欢你看不惯我又干不掉我的样子2 [白茶] kindle资源我在kindlepush网站上建了个书单，包含了值得推荐的一些书，可以直接下载，也可以设置后直接推送到你的kindle]]></content>
      <categories>
        <category>Reading</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[charles支持https]]></title>
    <url>%2F2018%2F03%2F02%2Fcharles-support-https%2F</url>
    <content type="text"><![CDATA[安装好charles之后，设置以支持https抓包。 第一步 设置ssl proxyingProxy/SSL Proxying Settings 将Host和Port都设置为*，就可以抓取所有的https请求 第二步 安装证书Help/SSL Proxying/Install Charles Root Certificate 点击后，会安装到钥匙串中 在所有项目中搜索charles，选中证书，双击打开，将信任设置为“始终信任” 如果不安装证书，访问https网站时会报错“您的连不是私密连接” 手机抓包设置wifi的代理并访问chls.pro/ssl下载证书到手机上即可 tips:在安卓模拟器上也可以抓包]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>charles</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[用Photos管理你的相册]]></title>
    <url>%2F2018%2F03%2F01%2Fhow-to-manage-your-photos-with-Photos%2F</url>
    <content type="text"><![CDATA[从iphone导入照片。 从其他地方导入。 照片的整理。 从iphone导入照片 用数据线连接你的iphone和mac 解锁iphone 打开Photos 左侧设备一栏会出现你的手机，点击后，会出现你手机上所有的照片，上面是已导入的，下面是未导入的新照片，可以选择右上角的导入所有新照片导入全部，也可以勾选想要导入的照片再导入 注意：（1）右上角有个选项叫导入后删除项目，若勾选这一项，会将手机中的照片删掉（2）导入之后，在Photos软件中修改或删除照片，不会影响手机中存储的照片（3）导入的时候可以指定某个相簿，若未指定，则导入到照片中 从其他地方导入安卓手机或下载到某个文件夹中的照片也可以导入Photos中选择文件/导入，选择照片存储的文件夹，之后的导入方式跟从iphone中导入完全一致。不需要导入重复的照片，软件会将重复的照片自动识别为已导入的 照片的整理加入相册右击某张照片，选择添加到/新建相册（或某个已存在的相册） 之后可以在左侧的相簿/我的相簿中查看 编辑再带编辑功能，可以进行调整或滤镜或裁剪操作]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>photos</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[多台mac之间的数据同步问题]]></title>
    <url>%2F2018%2F02%2F28%2Fhow-to-sync-data-on-your-macs%2F</url>
    <content type="text"><![CDATA[ps:这是我本人比较喜欢的一篇文章,非常实用 当你在办公室和家里有多台mac时，数据如何保持同步可以做到无缝切换电脑的效果 同步的基本思想是：将常用的配置或文件保存在坚果云中，实现跨设备的同步 笔记同步 文件同步 书签同步 postman同步 密码同步 hosts同步 代码同步 Atom配置同步 粘贴板同步 笔记同步 【推荐】使用mac自带的备忘录记笔记，会自动通过iCloud同步，免费.缺点是不支持markdown和分类 使用Bear订阅功能，通过iCloud同步所有的笔记，收费10元/月 印象笔记，免费版只支持两台设备,目前也支持markdown了 文件同步使用云盘 【推荐】坚果云，免费版一周可以用1G流量 Dropbox（可能存在网络问题） 百度云盘，无法自动同步，免费版下载速度慢 金山快盘，已关闭 书签同步☆☆☆☆☆ 【推荐】safari chrome（须登录，可能存在网络问题） 【推荐】基于chrome的homely扩展，结合坚果云的同步功能实现效果预览： 实现方式： 下载homely扩展并安装 配置你的书签页面 将配置文件导出到坚果云，默认只能导出到Download目录，需要自己拷贝到坚果云文件夹中 同步完成后，在另一台设备中导入配置文件 导入导出的入口在: postman同步postman是模拟api接口请求的工具用相同的账号登录了postman之后，你请求的历史记录和收藏的api都可以自动同步 密码同步 【推荐】LastPass，支持软件版和主流的浏览器的插件版 1Password 钥匙串 2018-10-15：最新的ios12系统钥匙串功能得到了极大的提升 Hosts同步☆☆☆☆☆ SwitchHosts，须手动备份 使用文件/导出功能将hosts文件导出到坚果云 注意：只有显示了Dock图标才能看到文件/导出功能另一台电脑直接从坚果云中导入，即可 代码同步git或svn Atom同步如果你用的是Atom编辑器,可以下载Sync setting插件对你的插件、设置等进行备份 只需要在设置里填写你的Personal Access Token和Gist Id就可以了这两个都在github上申请，获取方式如下： Personal Access Token：https://github.com/settings/tokens Gist Id：https://gist.github.com/ 粘贴板同步需求不大 1.mac的通用剪切板功能可以实现 Paste]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>备份</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac无法读取移动硬盘]]></title>
    <url>%2F2018%2F02%2F28%2Fmac-can-not-read-mobile-HDD%2F</url>
    <content type="text"><![CDATA[提示 无法识别{你的硬盘名称}，无法找到原身 原因是无法识别ntfs格式的硬盘 解决方案： 下载Paragon NTFS for Mac，该软件是收费的，但是有10天的试用期 打开Paragon NTFS for Mac 选中你的硬盘，点击认证 重启mac后生效 也可以使用其它软件，如Tuxera]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>mac</tag>
        <tag>ntfs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[echo字符串时字符串头部出现空格bug]]></title>
    <url>%2F2018%2F02%2F06%2Fauto-add-whitespace-at-the-start-of-string-when-echo%2F</url>
    <content type="text"><![CDATA[echo字符串时字符串头部出现了未知的空格如果是单纯的展示问题不大但是如果作为接口的返回值，调用方判断字符串时多出的空格就会报错 以下面的代码为例， 123 &lt;?phpecho 2233; 输出结果为： 2233 注意2233前面多了个空格，其实是把php文件的头部&lt;?php之前的空格打印出来了 上面只是个简单的示例，实际情况可能更加复杂：比如use了别的文件或者使用了别的类的方法，那么别的文件头部的字符也会被打印出来 可以通过下面的命令检查项目中所有文件的头部是否有多余的空格 12cd /project_rootfind . *|xargs grep &quot;^ &lt;?php&quot;]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jupyter support php]]></title>
    <url>%2F2017%2F11%2F20%2Fjupyter-support-php%2F</url>
    <content type="text"><![CDATA[ignore: not used now As we know, jupyter support python originally. It can also support other language like php.U need to install specific kenerl. envirenement php7 zeromq php-zmq jupyter composer just run brew install zeromq to install zeromq on mac php7.0 don’t support php-zmq,must upgrade to php7.1,then brew install php71-zmq install jupyter-PHPdownload here https://litipk.github.io/Jupyter-PHP-Installer/ noticewhile installing, if you see error below: You are running PHP-CLI with xdebug enabled. This will have a major impact on the kernel’s performance. it means that you have’t install zeromq]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>jupyter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[git Error: Permission denied (publickey)]]></title>
    <url>%2F2017%2F10%2F16%2Fgit-Error-Permission-denied-publickey%2F</url>
    <content type="text"><![CDATA[执行ssh-add id_rsa 进阶：把上述命令写到脚本里，开机运行]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpstorm生成函数调用关系]]></title>
    <url>%2F2017%2F10%2F16%2Fphpstorm-generate-Call-Hierarchy%2F</url>
    <content type="text"><![CDATA[知乎上有人提问如何生成函数调用路程图 原问题见：https://www.zhihu.com/question/34495043/answer/244410441 phpstorm也有检查函数调用这个功能 在偏好设置中搜索关键字 Call Hierarchy 找到快捷键 ctrl+alt+h 使用效果如下： 选中一个函数array_slice，按快捷键，在右边生成了该函数所有的调用关系 与查看用例find usage不同的是，Call Hierarchy功能会递归的寻找用例的用例，直到找到没有入口函数为止]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpstorm忽略拼写错误]]></title>
    <url>%2F2017%2F08%2F21%2Fphpstorm-ignore-spell-error%2F</url>
    <content type="text"><![CDATA[phpstorm会检查拼写单词的拼写错误但是有时候会给我们造成困扰，比如我们公司的名称不是一个正规的单词就会报错 打开偏好设置 Editor &gt; Spelling 将要忽略的单词添加到Accepted Words中]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[postman模拟图片上传]]></title>
    <url>%2F2017%2F08%2F10%2Fpostman-test-image-upload%2F</url>
    <content type="text"><![CDATA[Headers留空，Body添加一个key，key的属性选file]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>postman</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用composer]]></title>
    <url>%2F2017%2F08%2F04%2Fusing-composer%2F</url>
    <content type="text"><![CDATA[安装composer1brew install composer 修改源方法一： 修改 composer 的全局配置文件（推荐方式）打开命令行窗口（windows用户）或控制台（Linux、Mac 用户）并执行如下命令： 1composer config -g repo.packagist composer https://packagist.phpcomposer.com 方法二： 修改当前项目的 composer.json 配置文件：打开命令行窗口（windows用户）或控制台（Linux、Mac 用户），进入你的项目的根目录（也就是 composer.json 文件所在目录），执行如下命令： 1composer config repo.packagist composer https://packagist.phpcomposer.com 上述命令将会在当前项目中的 composer.json 文件的末尾自动添加镜像的配置信息（你也可以自己手工添加）：123456"repositories": &#123; "packagist": &#123; "type": "composer", "url": "https://packagist.phpcomposer.com" &#125;&#125; composer使用12345678910111213141516A package-based dependency manager for PHP projects.- Add a package as a dependency for this project, adding it to `composer.json`: composer require user/package-name- Install all the dependencies in this project's `composer.json`: composer install- Uninstall a package from this project, removing it as a dependency from `composer.json`: composer remove user/package-name- Update all the dependencies in this project's `composer.json`: composer update- Update composer to the latest version: composer self-update]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>composer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[go学习笔记 - 语法]]></title>
    <url>%2F2017%2F07%2F31%2Fgo-study-note-grammar%2F</url>
    <content type="text"><![CDATA[记录学习go语言过程中的一些语法知识。 特点 语法简易 自动格式化代码，保证所有人代码风格一致 并发处理 垃圾回收 函数多返回值，返回错误 代码规范 要有main包和main函数 变量必须要使用，引入的包必须要使用 表达式可以省略括号，不能省略花括号，左花括号必须在行尾 123456789101112package mainimport ( "fmt")func main() &#123; a := 3 if a &gt; 1 &#123; fmt.Printf("%T,%v", a, a) &#125;&#125; 包引入多个包 123456package mainimport ( "fmt" "math") 不可以import未被使用的包 变量123var a int8 = 4var a = 4a := 8 //:=只能用在函数内 byte: unit8 rune: int32 自增不能前置，不能用作表达式 123a++; //right++a; //wrongif (a++) &#123; //wrong 数组及遍历12345678package mainfunc main() &#123; a := [3]int&#123;1, 2, 3&#125; for i, s := range a &#123; println(i, s) &#125;&#125; 指针指针不能运算 1234567package mainfunc main() &#123; a := 3 var p *int = &amp;a print(*p)&#125; switch对比下php和go的swithc语句 1234567891011121314&lt;?php$a = 1switch ($a) &#123; case 1: case 2: echo 1; break; case 3: echo 3; break; default: echo 'default'; break;&#125; 输出为1 123456789101112131415package mainfunc main() &#123; a := 1 switch a &#123; case 1: case 2: println(1) break case 3: println(3) default: break &#125;&#125; 输出为空 go会自动在语句为空的case后面补上break，相当于没有执行任何操作 要实现php中的多个case执行相同的语句，应该使用下面的写法： 123case 1,2: println(1) break for初始语句和结束语句可以省略 123for sum &lt; 1000 &#123; sum += sum&#125; 函数需指定入参和出参的类型，可以返回多个值 1234//x后面的int可省略，根据王垠的博客说的最好保留func add(x int, y int) int &#123; return x + y&#125; defer123456789package mainimport "fmt"func main() &#123; defer fmt.Println("world") fmt.Println("hello")&#125; 输出结果： hello world struct用点号.访问结构体中的字段 1234type Vertex struct &#123; X int Y int&#125; slice12345678910s := []int&#123;2, 3, 5, 7, 11, 13&#125;//slice长度len(s)//slice转string,第二个参数是分隔符strings.Join(s,'_')//打印slicefmt.Printf("%v", s) map函数函数可以作为函数的入参 闭包 Go 函数可以是一个闭包。闭包是一个函数值，它引用了函数体之外的变量。 这个函数可以对这个引用的变量进行访问和赋值；换句话说这个函数被“绑定”在这个变量上。 并发goroutinechannel 12ch &lt;- v // 将 v 送入 channel chv := &lt;-ch // 从 ch 接收，并且赋值给 v 错误处理gc参考 官网tutorial 《Go语言学习笔记》，雨痕著 王垠：对Go语言的综合评价]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>go</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo中添加github组件]]></title>
    <url>%2F2017%2F07%2F27%2Fhexo-yelee-add-github-widget%2F</url>
    <content type="text"><![CDATA[Hexo的yelee支持添加github组件。 如何开启修改主题配置文件 {path_to_hexo}/themes/yelee/_config.yml, 开启此功能 1github_widget: true 如何使用在文章中想要添加github组件的地方添加如下代码: {user_name} github作者名{project_name} github项目名称 1&lt;div class=&quot;github-widget&quot; data-repo=&quot;&#123;user_name&#125;/&#123;project_name&#125;&quot;&gt;&lt;/div&gt; 示例例如： 1&lt;div class=&quot;github-widget&quot; data-repo=&quot;hustcc/GitHub-Repo-Widget.js&quot;&gt;&lt;/div&gt; 会显示如下效果：]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Permanently added the RSA host key for IP address to the list of known hosts]]></title>
    <url>%2F2017%2F07%2F26%2FPermanently-added-the-RSA-host-key-for-IP-address-to-the-list-of-known-hosts%2F</url>
    <content type="text"><![CDATA[将Hexo项目托管到Coding.net后，使用hexo g -d提交代码后报下面的Warning Permanently added the RSA host key for IP address ‘123.59.85.105’ to the list of known hosts. 123.59.85.105为域名coding.net的ip地址 猜测可能的原因是hexo命令deploy时不会检查~/.ssh/known_hosts文件 编辑config文件 ~/.ssh/config: 1234Host coding.net HostName 123.59.85.105 IdentityFile &#123;path_to_private_key&#125; User &#123;user_name&#125; 此时提交就没有warning了]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>git</tag>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maximum function nesting level of 256 reached]]></title>
    <url>%2F2017%2F07%2F26%2FMaximum-function-nesting-level-of-256-reached%2F</url>
    <content type="text"><![CDATA[Maximum function nesting level of ‘256’ reached, aborting!函数递归深度超过256 php本身并没有限制函数递归深度，其实是xdebug扩展报的错 检查php的xdebug配置 修改xdebug配置/usr/local/etc/php/7.0/conf.d/ext-xdebug.ini 1xdebug.max_nesting_level=512 重启 php-fpm,生效]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>xdebug</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[yaf学习笔记 - request类和respose类]]></title>
    <url>%2F2017%2F07%2F26%2Fyaf-study-note-request-and-respose%2F</url>
    <content type="text"><![CDATA[Yaf-Request-Abstract123456789101112131415161718192021222324252627282930/* Methods */public void getActionName ( void )public void getBaseUri ( void )public void getControllerName ( void )public void getEnv ( string $name [, string $default ] )public void getException ( void )public void getLanguage ( void )public void getMethod ( void )public void getModuleName ( void )public void getParam ( string $name [, string $default ] )public void getParams ( void )public void getRequestUri ( void )public void getServer ( string $name [, string $default ] )public void isCli ( void )public void isDispatched ( void )public void isGet ( void )public void isHead ( void )public void isOptions ( void )public void isPost ( void )public void isPut ( void )public void isRouted ( void )public void isXmlHttpRequest ( void )public void setActionName ( string $action )public bool setBaseUri ( string $uir )public void setControllerName ( string $controller )public void setDispatched ( void )public void setModuleName ( string $module )public void setParam ( string $name [, string $value ] )public void setRequestUri ( string $uir )public void setRouted ([ string $flag ] ) Yaf-Response-Abstract12345678910111213141516/* Methods */public bool appendBody ( string $content [, string $key ] )public bool clearBody ([ string $key ] )public void clearHeaders ( void )private void __clone ( void )public __construct ( void )public void __destruct ( void )public mixed getBody ([ string $key ] )public void phpgetHeader ( void )public bool prependBody ( string $content [, string $key ] )public void response ( void )protected void setAllHeaders ( void )public bool setBody ( string $content [, string $key ] )public void setHeader ( void )public void setRedirect ( void )private void __toString ( void ) 引用 Yaf-Response-Abstract Yaf-Request-Abstract]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>yaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用php对接prometheus监控系统]]></title>
    <url>%2F2017%2F07%2F25%2Fprometheus-on-php%2F</url>
    <content type="text"><![CDATA[什么是prometheus 监控系统 报警机制 时间序列数据 支持Java,Go，PHP等 prometheus_client_phpA prometheus client library written in PHP 对接prometheus系统第一步 将监控数据写入适配器，如redis、apc第二步 提供接口供prometheus系统调用 四种数据类型 counter 计时器 只能增加value值，适合记录持续增长的，如接接口调用次数、请求总数、页面访问次数等 gauge 尺度盘 可以任意修改value值,适合记录瞬时数据，如CPU使用率、内存使用情况、磁盘空间等 histogram 直方图 用来度量数据中值的分布情况，如程序执行时间：0-100ms、100-200ms、200-300ms、&gt;300ms 的分布情况 summary adapter 存储介质三种adapter apc redis in-memory 12345678if ($adapter === 'redis') &#123; Redis::setDefaultOptions(array('host' =&gt; isset($_SERVER['REDIS_HOST']) ? $_SERVER['REDIS_HOST'] : '127.0.0.1')); $adapter = new Prometheus\Storage\Redis();&#125; elseif ($adapter === 'apc') &#123; $adapter = new Prometheus\Storage\APC();&#125; elseif ($adapter === 'in-memory') &#123; $adapter = new Prometheus\Storage\InMemory();&#125; register 注册器方法列表： registerCounter getCounter getOrRegisterCounter registerGauge getGauge getOrRegisterGauge registerHistogram getHistogram getOrRegisterHistogram 1234$registry = new CollectorRegistry($adapter);//或者，获取默认的registry$registry = \Prometheus\CollectorRegistry::getDefault(); 供prometheus调用的接口123456$registry = new CollectorRegistry($adapter);$renderer = new RenderTextFormat();$result = $renderer-&gt;render($registry-&gt;getMetricFamilySamples());header('Content-type: ' . RenderTextFormat::MIME_TYPE);echo $result; 清除测试数据测试的时候想要清除在apc中存储的prometheus数据，可以调用下面的方法 12$adapter = new Prometheus\Storage\APC();$adapter-&gt;flushAPC(); 同理，清除redis和memory 12345$adapter = new Prometheus\Storage\Redis();$adapter-&gt;flushRedis();$adapter = new Prometheus\Storage\InMemory();$adapter-&gt;flushMemory(); counter用法12$counter = $registry-&gt;getOrRegisterCounter('aaa', 'bbb', 'ccc', ['color']);$counter-&gt;incBy(1, ['red']); 结果为： 123# HELP aaa_bbb ccc# TYPE aaa_bbb counteraaa_bbb&#123;color=&quot;red&quot;&#125; 1 当然也可以同时设置两个label 12$counter = $registry-&gt;getOrRegisterCounter('aaa', 'bbb', 'ccc', ['color', 'size']);$counter-&gt;incBy(1, ['red', 10]); 结果为： 123# HELP aaa_bbb ccc# TYPE aaa_bbb counteraaa_bbb&#123;color=&quot;red&quot;,size=10&#125; 1 gauge12$gauge = $registry-&gt;getOrRegisterGauge('test', 'some_gauge', 'it sets', ['type']);$gauge-&gt;set(2.5, ['blue']); histogram12$histogram = $registry-&gt;getOrRegisterHistogram('test', 'some_histogram', 'it observes', ['type'], [0.1, 1, 2, 3.5, 4, 5, 6, 7, 8, 9]);$histogram-&gt;observe(3.5, ['blue']);]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>promotheus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关闭mac自动大写单词首字母功能]]></title>
    <url>%2F2017%2F07%2F25%2Fdisable-auto-ucfirst-word-on-mac%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[安装xdebug后var_dump显示问题]]></title>
    <url>%2F2017%2F07%2F24%2Fxdebug-var-dump-display-error%2F</url>
    <content type="text"><![CDATA[安装了xdebug之后，使用var_dump打印输出时显示错误 错误如下： 在网上查询了一下，有人说先检查一下php的配置中html_errors这项是否是开启的，如果是Off的就把它设置为On php手册中关于html_errors的介绍： html_errors boolean在错误信息中关闭HTML标签。这种新的HTML格式的错误信息是可以点击，它引导用户前往描述该错误或者导致该错误发生的函数的参考信息页面。 这些参考与 docref_root 和 docref_ext 的设置有关。 检查的方法是在终端输入以下命令 1php -i | grep html_errors 好了，先检查一下 果然是关闭的，去php.ini里开启它吧 若还未生效查看php设置的xdebug.overload_var_dump这一项，将其设置为0 改好了重启php-fpm服务 参考 http://www.cnblogs.com/huangye-dream/p/4182803.html]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
        <tag>xdebug</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[美区apple账号的申请和使用]]></title>
    <url>%2F2017%2F07%2F21%2Fapple-usa-account%2F</url>
    <content type="text"><![CDATA[iphone上部分app只有美区账号才可以下载，因此申请一个美区账号很有必要。 申请美区账号 先选择一款免费的软件点击下载（必须要有这一步，否则选择付款方式的时候不会出现none的选项) 申请账号，地点选择美国，下一步 输入邮箱账号，密码，下一步 输入姓，名，安全问题，下一步 付款方式处选“None”，填写详细地址，下一步 验证邮箱，成功！ 快速切换中区账号和美区账号使用workflow实现https://workflow.is/workflows/9f3eb6c502b14181a5abd690b16338ec]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>apple</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[译]改善编程的七个习惯]]></title>
    <url>%2F2017%2F07%2F19%2Ftranslate-seven-userfun-programming-habits%2F</url>
    <content type="text"><![CDATA[作者：BinarForge 原文链接：https://dev.to/binarforge/seven-useful-programming-habits This short entry was also published on my personal website 这篇短文发布在我的个人网站上 I have been reading some good books on forming habits recently. After digesting these, my mind started drifting further and I started thinking what my current habits are. Some of them are applicable to life in general, some relate only to work. Without surprise, some of them happen to be strongly related to programming, which I think might be a good thing to share. 我阅读了很多关于培养习惯的优质书籍。读完之后，我就开始想啊想，想什么呢？当然是我自己平时的习惯啦。其中一些生活方面的习惯，另一些是工作相关的。作为程序猿，跟工作相关的当然就是指编程方面的习惯咯，我觉得可以分享给大家共勉。 Uncontrolled auto save. This one has been accompanying me for ages. Even though many modern IDEs do not even require saving a file, I am relentlessly squeezing “Ctrl + S” combination to its last…drop. If I recall correctly, I am doing it thoughtlessly every time I stop typing. Weird but it actually saved my day more times than it caused a smirk on my colleagues faces. 第一个习惯：没事保存一下这是我很早就培养出来的习惯了，即使现在很多高级的IDE甚至都不需要保存文件了，我还是要自己按Ctrl+S组合键保存，除非这两个键被我按爆了。每次敲完最后一下停顿的时候，想都不想”啪”的一下保存了再说。看着是有点奇怪，甚至身边的同事看了还会偷笑，笑你妹啊，你根本不知道这一招救了我多少次(哼╭(╯^╰)╮)，等什么时候断电死机了你就该苦了; Some devs tend to say being in “the zone” is like being in Nirvana or finally reaching the Valhalla. The way I see it is more like Berserk mode. It is great for some time but then you should take a break to recover. So basically short zone bursts are great for performance but make sure you take regular stops. Being in a zone for too long can actually numb your senses and make your mind more vulnerable to get stuck in a loop. (no pun intended!) 第二个习惯：张弛有度有些开发人员喜欢一刻不停的码字，码的飘飘欲仙，放佛身处极乐世界或者到达了瓦尔哈拉殿堂（注：挪威神话中奥丁神接待战死者英灵的殿堂）。照我看来，这也太疯了。持续一小段时间专心码字当然是极好的，但是每隔一段时间一定要停下来让你的精气神恢复到最佳状态。短时间爆发一下，确实能出好活，但是一定要定期休息啊老铁。爆发时间长了，你的感官会麻木，你的脑子会僵死，你的人可能就走进了死胡同原地打转了。 Make sure you kill all the sources of disturbance. When I work on something really important I will turn my phone off, avoid social medias or any medias in general with a slight exception for music. Apply everything in healthy limits though. If you have got kids and need to focus, locking them up in a basement might sound appealing but it is not really a good solution in longer term. 第三个习惯：排除干扰确保你身边没有任何可以干扰你的东西。当我开始进行非常重要的工作的时候，我会把我的手机弄到飞行模式，放上音乐，避免自己被社交媒体干扰。确保自己健康得到保障。如果你有孩子需要看着的话，把他们关到地下室去？开玩笑，这可不是个长久有效的好办法。 Always try to start with an end in your mind. Some people say the power of visualisation is priceless. It helps me determining realistic list of goals for today and eventually leads to reducing or removing frustration and disappointment at the end of the day. So anytime you work on something, make sure you know exactly what is it that you want to create. It might sound obvious but it is really one of those steps being skipped way too often. 第四个习惯 知道你在干嘛永远记得开始之前估计一下结果。正如一些人说：可视化的力量是无价的。它有助于我确定今天要做的目标，减少甚至避免日后的沮丧、失望。所以当你要干一件事的时候，确保你自己清楚你在干啥，最终会产出什么。听上去很理所当然的样子，但是很多人就是会忽视它。 One good habit for me is regular training. Even though going to the gym is another great habit, in this case I am more worried about one’s actual programming skills. I enjoy solving occasional programming exercises in order to keep my saw sharp all the time. It might not pay your bills but will definitely pay back in future. 第五个习惯 训练编程技巧我有一个好习惯，没事就锻个练。我在这里指的是锻炼一个人的编程技巧，当然咯，去健身房锻炼身体也算是一个好习惯。偶尔我会给自己整个编程的题目，解题让我很爽，同时能让我的头脑保持活力。虽然提升自己的编程水平目前来看是捞不着钱，但日后肯定会给你丰厚的回报。 One of my most recent ones is trying to start writing any code from forming some test cases. This one is sort of related to one of my earlier points as it helps me seeing my destination before starting. It obviously makes the end result safer but as a bonus it often helps designing and documenting the code. I am actually surprised so few developers can appreciate this point of view. 第六个习惯 测试用例我最近长干的一件事，那就是在写代码之前先把测试用例整出来。就像第四个习惯说的那样，这么做可以帮我提前知道我想要我的代码实现怎样的功能。很明显，测试用例可以让代码更安全，同时也有助于记录代码设计过程和文档记录。你看好处这么多，别的程序员咋就是想不到这么干呢。 Another fresh one for me which is to avoid “future programming”. Start small and grow later. In my earlier days while coding anything I wanted to make it perfect from the very first day, cover all the possible edge cases and almost prepare it for my descendants to use. With time I realised it often leads to overcomplicated codebase, high time consumption and in most cases my program is doing everything and nothing at the same time! 第七个习惯 避免“未来式编程”这是个我最近学会的一点。啥叫未来式编程，就是一开始就往大了设计。而正道应该是从一个小的项目开始，慢慢把它做大。以前我年轻的时候不懂事，写代码就想要写出来就很完美，考虑所有的边界条件，给以后所有的扩展留好位置。随着时间的推移，我慢慢发现我之前在代码库里写的都是啥啊，这么复杂的一大坨，耗时又那么长。大部分情况下，我的代码干了所有的事情，其实也啥都没干成。 So here, take any of these for yourself if you feel like it. These I have found insanely useful on my programming path but forming them is not an overnight change. The best and only way to implement a habit in your life is to just start using it and it will settle down before you realise.Ah, do not forget to let me know about other habits that worked for you! 最后，觉得什么习惯好你们就挑什么哈。这些习惯我觉得对于编程都很好用，但没有什么习惯是一日而就的。最好的培养习惯的现在就开始尝试，不知不觉就掌握了。 要是有什么习惯对你们有用，别忘了给我留言哦（https://dev.to/binarforge/seven-useful-programming-habits）。]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>翻译</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mysql datetime默认值设置为0000-00-00 00:00:00时报错]]></title>
    <url>%2F2017%2F07%2F13%2Fmysql-error-datetime-dafault-value-0000-00-00-00-00-00%2F</url>
    <content type="text"><![CDATA[出错原因：mysql5.7之后的版本默认设置不允许日期为空 解决方法: 修改mysql的sql mode 默认值设置为非空值 查看sql mode12SELECT @@GLOBAL.sql_mode;SELECT @@SESSION.sql_mode; sql_mode常用值 ONLY_FULL_GROUP_BY：对于GROUP BY聚合操作，如果在SELECT中的列，没有在GROUP BY中出现，那么这个SQL是不合法的，因为列不在GROUP BY从句中 NO_AUTO_VALUE_ON_ZERO：该值影响自增长列的插入。默认设置下，插入0或NULL代表生成下一个自增长值。如果用户 希望插入的值为0，而该列又是自增长的，那么这个选项就有用了。 STRICT_TRANS_TABLES：在该模式下，如果一个值不能插入到一个事务表中，则中断当前的操作，对非事务表不做限制 NO_ZERO_IN_DATE：在严格模式下，不允许日期和月份为零 NO_ZERO_DATE：设置该值，mysql数据库不允许插入零日期，插入零日期会抛出错误而不是警告。 ERROR_FOR_DIVISION_BY_ZERO：在INSERT或UPDATE过程中，如果数据被零除，则产生错误而非警告。如 果未给出该模式，那么数据被零除时MySQL返回NULL NO_AUTO_CREATE_USER：禁止GRANT创建密码为空的用户 NO_ENGINE_SUBSTITUTION：如果需要的存储引擎被禁用或未编译，那么抛出错误。不设置此值时，用默认的存储引擎替代，并抛出一个异常 PIPES_AS_CONCAT：将”||”视为字符串的连接操作符而非或运算符，这和Oracle数据库是一样的，也和字符串的拼接函数Concat相类似 ANSI_QUOTES：启用ANSI_QUOTES后，不能用双引号来引用字符串，因为它被解释为识别符 设置sql mode12SET GLOBAL sql_mode = &apos;modes...&apos;;SET SESSION sql_mode = &apos;modes...&apos;;]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[crontab入门]]></title>
    <url>%2F2017%2F07%2F12%2Fget-started-to-crontab%2F</url>
    <content type="text"><![CDATA[crontab用来定时执行脚本 为什么要定时执行脚本： 异步处理，如下单赠品，计算用户会员等 自动化，如整点时间让用户可以签到，凌晨五点恢复游戏内体力等。 crontab文件格式1分钟 小时 日 月 星期 [command] 一条crontab执行的shell脚本分为6部分 分钟,默认* 小时,默认* 日,默认* 月,默认* 星期,默认* 命令 前面五个部分用于指定脚本的执行时间和频率，默认* * * * *代表每分钟执行一次 123456//输入精确时间3 * * * * do_sth //每3分钟执行一次//输入范围* 5-23 * * * do_sth //从凌晨5点到晚上11点每分钟执行一次（普通人作息时间）//输入可选项* * * * 6,7 //在周六和周日每分钟执行一次 启用cron新建一个cron文件 $HOME/jimcron编辑如下： 12#log time every min* * * * * /bin/echo date &gt; ~/cron.log 然后执行下面的命令启用cron 1crontab $HOME/jimcron 查看所有cron1crontab -l cron备份与恢复12crontab -l &gt; $HOME/jimcron //备份croncrontab $HOME/jimcron //恢复cron 编辑当前用户的cron1crontab -e 删除cron文件1crontab -r ubuntu下cron命令123sudo /etc/init.d/cron start //启动sudo /etc/init.d/cron stop //关闭sudo /etc/init.d/cron restart //重启 crontab模拟工具https://tool.lu/crontab]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>crontab</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用mtr工具检测网络]]></title>
    <url>%2F2017%2F07%2F12%2Fuse-mtr-detect-network-status%2F</url>
    <content type="text"><![CDATA[mtr集成了traceroute、ping、nslookup功能 安装mtr1brew install mtr 使用mtr1mtr ip/host_name mtr -h #提供帮助命令mtr -v #显示mtr的版本信息mtr -r #已报告模式显示mtr -s #用来指定ping数据包的大小mtr –no-dns #不对IP地址做域名解析mtr -a #来设置发送数据包的IP地址 这个对一个主机由多个IP地址是有用的mtr -i #使用这个参数来设置ICMP返回之间的要求默认是1秒mtr -4 #IPv4mtr -6 #IPv6 使用mtr检测域名 jimxu.me这个域名通过DNSPod分别解析到了16bh.github.io(国外)和jimxu.coding.me(国内) 对比下托管在国内外的两个Pages服务的网络状态 可见国内网络时托管在coding.net的网站比托管在github的网站有了大幅的提速]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>mtr</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[将Hexo网站托管到Coding.net]]></title>
    <url>%2F2017%2F07%2F12%2Fusing-Coding-host-website-code%2F</url>
    <content type="text"><![CDATA[使用Coding提供的pages服务，将网站的代码备份一份在Coding.net修改域名解析，访问网站时国内用户访问github pages，国内用户访问coding pages 新建Coding的pages仓库只需要注册coding.net,然后建立一个名为用户名+coding.me的仓库即可，需要注意的是 coding.net的pages仓库只能有一个master分支 开始使用 Coding Pages官方帮助文档 Coding Pages 分为「用户 Pages」与「项目 Pages」两种类型。查看详细介绍 如果您希望创建「用户 Pages」（直接访问 {user_name}.coding.me 即可抵达您网站），只需要新建一个名为 {user_name}.coding.me 的项目即可。{user_name} 指代您本人的个性后缀，使用其他人的个性后缀不会被归为「用户 Pages」类型。 除 {user_name}.coding.me 项目外，每一个项目都可以创建「项目 Pages」，无需额外操作。 Coding Pages 设置选项在每个项目的「代码 -&gt; Pages 服务」中。 设置hexo deploy的时候提交到coding.net修改站点配置文件_config.yml 123repository: coding: git@git.coding.net:&#123;user_name&#125;/&#123;user_name&#125;.coding.me.git,master github: git@github.com:16bh/&#123;user_name&#125;.github.io.git,master 设置DNSPod域名解析 最后，为了看是否生效，可以使用mtr检测域名的网络状态]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[尝试jekyll]]></title>
    <url>%2F2017%2F07%2F11%2Fhow-to-use-jekyll%2F</url>
    <content type="text"><![CDATA[jekyll是和hexo一样的静态博客框架 12345brew install ruby //安装ruby环境gem install jekyll //安装jekylljekyll new blog //新建一个本地站点cd blogjekyll server 启动本地服务器 一篇关于jekyll的不完全攻略，因为后面还是用的hexo，只是简单尝试一下 启动本地服务器后，终端显示如下： 12345678910Configuration file: /Users/jim/jimxu-blog/_config.yml Deprecation: The &apos;gems&apos; configuration option has been renamed to &apos;plugins&apos;. Please update your config file accordingly. Source: /Users/jim/jimxu-blog Destination: /Users/jim/jimxu-blog/_site Incremental build: disabled. Enable with --incremental Generating... done in 0.39 seconds. Auto-regeneration: enabled for &apos;/Users/jim/jimxu-blog&apos; Server address: http://127.0.0.1:4000/ Server running... press ctrl-c to stop. 此时访问http://127.0.0.1:4000/预览生成的网站按ctrl+c关闭本地服务器 初始效果： 安装时如果报jekyll 3.5.0 | Error: bundler的错误: 1gem install jekyll bundler 启动server时报Operation not supported on socket @ rb_sysopen - /Users/jim/Library/Application Support/Google/Chrome/App Shim Socket错误： 需要先进入生成的项目目录再执行jekyll server命令]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>jekyll</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[解决重启后私钥失效的问题]]></title>
    <url>%2F2017%2F07%2F07%2Ffix-invalid-private-key-after-reboot%2F</url>
    <content type="text"><![CDATA[通过ssh-add的方式添加私钥后，重启后会导致私钥无效，需要重新添加 原因是ssh-add的方法是将private key加入到ssh-agent中，而ssh-agent是用来临时存储私钥的session服务 整理了一下解决方法 设置脚本自动添加私钥现在解决之前遇到的重启后私钥失效的问题 使用mac自带的Automator工具 新建一个应用程序 选择运行shell脚本 在脚本中添加如下命令 12ssh-add id_rsa.gitlabssh-add id_rsa.github 保存，命名为ssh-add private keys，会生成一个app，设置开机启动该app即可 永久添加私钥 原文见 Mac 上 ssh-add 永久将私钥添加到 Keychain 如果不想使用下面的脚本,可以用下面的命令添加私钥 ssh-agent 是一个用于存储私钥的临时性的 session 服务将私钥存储在Keychain中就可以永久使用了 1ssh -add -K id_rsa.github github关于ssh的说明：https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac电脑上同时使用多个git平台]]></title>
    <url>%2F2017%2F07%2F07%2Fhow-to-use-github-and-gitlab-same-time%2F</url>
    <content type="text"><![CDATA[用ssh的方式使用git平台的时候，需要先预先生成秘钥，在git平台设置了公钥，才可以使用 我们可以同时使用了多个git平台，如github和gitlab 只需要为他们生成不同的秘钥就可以了 生成秘钥，指定秘钥的名称123456//生成gitlab的秘钥ssh-keygen -t rsa -f ~/.ssh/id_rsa.gitlab -C &quot;test_aaa@126.com&quot;//生成github的秘钥ssh-keygen -t rsa -f ~/.ssh/id_rsa.github -C &quot;test_bbb@126.com&quot; 执行完上述的操作的时候，在~/.ssh目录就可以看到如下的4个文件 1234id_rsa.gitlab gitlab的私钥id_rsa.gitlab.pub gitlab的公钥id_rsa.github github的私钥id_rsa.github.pub github的公钥 将私钥添加到 ssh-agent 中12ssh-add id_rsa.gitlabssh-add id_rsa.github 这种添加是临时性的，重启之后需要再次添加，解决方法见解决重启后私钥失效的问题 将公钥添加到git平台中以github为例，在Personal settings/SSH and GPG keys中就可以添加ssh key了，如下图所示 测试ssh执行下面的命令测试ssh 1ssh -T git@github.com 若出现类似下面的提示，说明ssh可用 然后就可以使用ssh的方式使用git平台了]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ssh连接服务器更简单一点]]></title>
    <url>%2F2017%2F07%2F07%2Fssh-connect-server-without-password%2F</url>
    <content type="text"><![CDATA[用ssh连接服务器，通常是下面这样的 1ssh user@127.0.0.1 然后按提示输入密码就连上了 其实，可以更简单一点，我们不需要输入用户名，不需要输入服务器ip地址，甚至不需要输入密码！ 简化1：不需要输入用户名和host那么多的服务器，每个服务器登录的用户名和host还不一样 谁记的住呀 直接修改你本地的.ssh/config文件（没有就新建一个） 编辑如下： 123Host test HostName 172.0.0.1 User user 然后就可以用 1ssh test 来连接服务器了，但是还是要输入密码的 简化2： 不需要输入密码先生成秘钥 1ssh-keygen -t rsa 过程中会提示你输入密语，密语可以为空，按确认就好（安全性降低了，但可以避免以后一直询问你密语） 这样在你的.ssh目录下就应该生成了下面两个文件 12id_rsa 私有秘钥(私钥)id_rsa.pub 公有秘钥(公钥) 用scp命令将生成的公钥copy到服务器，为了防止文件名重复改个名字 1scp ~/.ssh/id_rsa.pub user@172.0.0.1:~/.ssh/unique_id_rsa.pub 按提示输入密码（以后就不用输了） 最后，登录服务器,进入~/.ssh目录 应该能看到下面两个文件 12authorized_keys 存储了很多公钥的文件unique_id_rsa.pub 我们刚才copy过来的 执行下面的操作 1234//将我们的公钥加入到文件的末尾cat unique_id_rsa.pub &gt;&gt; authorized_keys//然后删除无用的公钥rm unique_id_rsa.pub 退出服务器 执行1ssh test 就可以直连服务器啦 注意一点: 生成的一定要是默认的秘钥名（id_rsa），如果生成秘钥的时候你指定了其他的名字如 id_rsa.different,那么连接服务器的时候就要用下面的命令 1ssh -i id_rsa.different test enjoy it]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[php开发者mac必装软件 - 终极版本]]></title>
    <url>%2F2017%2F06%2F28%2Fmac-must-install-software%2F</url>
    <content type="text"><![CDATA[最新的一版mac软件列表 Xcode 笔记：Bear [免费，订阅] 浏览器（调试工具）：chrome [免费] 调试POST接口：Postman [免费] 终端：iterm2+oh my zsh [免费] 阅读：Pocket，配合浏览器插件 [免费] 阅读：Reeder，配合Pocker扩展 MySQL可视化工具：SequelPro Redis可视化工具：Medis 免费解压：The unarchiver 免费卸载工具：App cleaner 调节屏幕亮度：Flux 清单：WunderList奇妙清单 TodoList 文件暂存：Yonik 粘贴板工具：Paste 复制粘贴助手：PopClip hosts可视化管理：iHosts Phpstorm 上传图片到七牛并生成md链接：PicU markdown编辑器：Macdown 截图（使用外接显示器时）：TeamPaper Snap 截图：腾讯的snip 技术文档：Dash 让屏幕不会自动休眠：Caffeine 片段管理：aText git可视化工具：sourceTree 软件自动隐藏或退出：Quitter 第三方日历：TinyCal小历 编辑器：Sublime 密码管理：LastPass 日程提示：PixelScheduler 音乐播放：网易云音乐 菜单栏管理: Bartender 笔记： Evernote]]></content>
      <categories>
        <category>Software</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[设置使用sublime打开项目文件夹]]></title>
    <url>%2F2017%2F06%2F22%2Fuse-sublime-open-project%2F</url>
    <content type="text"><![CDATA[Mac下想要快速查看一个project内容的时候，右击发现菜单里根本没有满足条件的选项。 可以用自带的automator工具实现右击项目时可以选择用sublime打开 finder中右键选择用sublime打开设置： 效果： 终端使用sublime命令打开项目1alias sublime="/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl" 然后就可以执行 sublime dir打开一个目录]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>sublime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpstorm修改php文件头模板]]></title>
    <url>%2F2017%2F06%2F21%2Fphpstorm-php-file-header%2F</url>
    <content type="text"><![CDATA[phpstorm设置新建php文件时的头文件，一个帅气的头文件是不是让你码字的心情都更好了呢 Editor/ File and Code Templates / includes / PHP File Header 可以在模板中使用一下变量： ${FILE_NAME}:current file name ${USER}:current user system login name ${DATE}:current system date ${TIME}:current system time ${YEAR}:current year ${MONTH}:current month ${DAY}:current day of the month ${HOUR}:current hour ${MINUTE}:current minute ${PRODUCT_NAME}:current IDE name ${PROJECT_NAME}:current project name 你也可以自定义变量 1#set( $MAIL = &quot;xxx@test.com&quot; ) 然后就可以在模板中使用${MAIL}变量了]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[yaf学习笔记 - 模块]]></title>
    <url>%2F2017%2F06%2F13%2Fyaf-study-note-module%2F</url>
    <content type="text"><![CDATA[模块是什么？设计模式的一条准则是“高内聚，低耦合”。模块是高内聚的一种实现手段 建立模块当我们访问application/controllers/IndexController的时候，相当于访问了默认的Index模块，这是由配置决定的 application.ini1application.dispatcher.defaultModule = Index 我们要实现一个博客网站，文章可以作为一个模块在application目录下新建modules目录，建立Post文件夹，在Post下面依次建立models,views,controllers,在Post/controllers下建立List.php文件，内容如下： 12345678&lt;?php class ListController extends Yaf_Controller_Abstract &#123; public function viewAction() &#123; &#125; &#125; Post/views下面建立list文件夹，新建view.phtml文件 12&lt;?phpecho 2333; Post模块的结构如下所示： 模块的配置这时候我们访问 1yaf.com/post/list/view 看到下面的报错信息： 报错的原因是因为我们没有将新建的模块加到配置文件中编辑conf/application.ini文件，将下面两句代码加入common分组下面 12application.modules = &quot;Index,Post&quot; //模块application.dispatcher.defaultModule = Index //默认模块 再次访问，就可以了]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>yaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[yaf学习笔记 - MVC模式]]></title>
    <url>%2F2017%2F06%2F12%2Fyaf-study-note-mvc%2F</url>
    <content type="text"><![CDATA[当我们访问demo项目的时候，在页面上展示了Hello World! I am Stranger，其实是通过MVC模式实现的 运行流程如下图所示（摘自鸟哥文档）： Yaf运行流程(摘自鸟哥文档) 当我们访问yaf.com网站的时候，先走到入口文件index.php，然后经过bootstrap初始化，router路由，因为没有指定controller，会使用默认控制器IndexController的默认方法IndexAction，即下面的几种访问方式都是可以的： 1234yaf.comyaf.com/indexyaf.com/index/indexyaf.com/index/index/index 最后一种访问方式里：第一个index是Module模块名，第二个index是Controller控制器名，第三个index是Action方法名 访问结果如下： IndexController的indexAction的代码如下： ~/test/application/controllers/Index.php1234567891011121314public function indexAction($name = "Stranger") &#123; //1. fetch query $get = $this-&gt;getRequest()-&gt;getQuery("get", "default value"); //2. fetch model $model = new SampleModel(); //3. assign $this-&gt;getView()-&gt;assign("content", $model-&gt;selectSample()); $this-&gt;getView()-&gt;assign("name", $name); //4. render by Yaf, 如果这里返回FALSE, Yaf将不会调用自动视图引擎Render模板 return TRUE;&#125; 注意： $name默认值是Stranger，我们可以通过下面的方式指定$name的值 1yaf.com/index/index/index/name/jimxu 申明SampleModel类的一个对象，通过selectSample方法获取$content的值 ~/test/application/models/Sample.php123public function selectSample() &#123; return 'Hello World!'; &#125; 将$name和$content传到view 12$this-&gt;getView()-&gt;assign("content", $model-&gt;selectSample());$this-&gt;getView()-&gt;assign("name", $name); 在view对应的phtml中可以使用$name和$content变量的值 ~/test/application/views/index/index.phtml1echo $content, " I am ", $name; 通过MVC设计模式，以控制器为中介，在模型文件中进行复杂的业务逻辑处理，在视图文件中渲染效果，实现了模型和视图的低耦合]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>yaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[yaf学习笔记 - 配置]]></title>
    <url>%2F2017%2F06%2F09%2Fyaf-study-note-config%2F</url>
    <content type="text"><![CDATA[yaf的配置有两种， 一是Yaf自身的配置 二是生成的项目自己的配置，如项目所用的数据库、缓存配置等 修改yaf设置在路径/usr/local/etc/php/7.0/conf.d下存放了各个扩展的配置文件 ex-yaf.ini文件即为yaf模块的配置文件，用vim命令打开该文件，内容如下所示 12[yaf]extension="/usr/local/opt/php70-yaf/yaf.so" //扩展位置 我们直接在后面添加配置内容，修改后如下 1234[yaf]extension="/usr/local/opt/php70-yaf/yaf.so" //扩展位置yaf.use_namespace = 1 //启用名字空间yaf.environ = "dev" //设置环境为本地开发环境 修改后重启php-fpm 打印phpinfo(),yaf.use_namespace的值已经变成ON了，说明修改成功 yaf的配置项一览 项目配置项目的配置文件为./conf/application.ini默认配置如下： 12345678910111213141516[common]application.directory = APPLICATION_PATH "/application"application.dispatcher.catchException = TRUE[dev : common]database.type = mysqldatabase.read_host = 127.0.0.1database.read_port = 3306database.read_user = rootdatabase.read_pwd = rootdatabase.name = yafdatabase.db_prefix = tbl_[test : common][product : common] 注意，配置是分组的，common为通用配置，dev表示本地环境，test表示测试环境，product表示生产环境，后面的：common表示继承了common分组。我们之前已经修改了yaf.environ的值为dev，表示使用[dev : common]分组下的设置 我们在dev分组下对mysql数据库进行了配置 获取配置文件中的值如要获取上述配置文件中application.directory的值，可以通过下面的方式获取 12$config = Yaf_Application::app()-&gt;getConfig()echo $config-&gt;application-&gt;directory;]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>yaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[yaf学习笔记 - 项目结构]]></title>
    <url>%2F2017%2F06%2F08%2Fyaf-study-note-structure%2F</url>
    <content type="text"><![CDATA[框架文件目录以刚刚通过gc生成的demo项目为例，我们在终端执行tree命令,可以看到项目的目录结果如下所示： 注：tree命令不是自带的，有需要可以通过brew install tree安装 ./index.php 是项目的入口文件，也可以新建一个public文件夹，将index.php放到public目录下，同时修改nginx配置 ./conf 是配置项./conf/application.ini 项目的配置文件 ./application./application/Bootstrap.php 启动文件，主要用于初始化操作，如初始化设置、注册插件、加载全局基础类库等./application/controllers 控制器./application/library 类库./application/models 模型./application/plugins 插件./application/views 视图]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>yaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[斐波那契数列问题]]></title>
    <url>%2F2017%2F06%2F08%2Ffibonacci-algorithm%2F</url>
    <content type="text"><![CDATA[斐波那契数列： 11,1,2,3,5,8,13,21... ... 可以用来解决诸如下面的问题： 有n个台阶，你每次只能跨一阶或两阶，上楼有几种方法？ 第一个月初有一对刚诞生的兔子第二个月之后（第三个月初）它们可以生育每月每对可生育的兔子会诞生下一对新兔子兔子永不死去 123456&lt;?phpfunction Fibo($n)&#123; return n&lt;2 ? 1 : Fibo(n-1)+Fibo(n-2);&#125;]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[微信领红包问题]]></title>
    <url>%2F2017%2F06%2F08%2Fwechat-raffle-algorithm%2F</url>
    <content type="text"><![CDATA[参考：https://www.zhihu.com/question/22625187 需求：每个人领到的红包大小相近，每次点击领取红包时计算 微信红包原理是每次领取红包在（0.01，剩下的钱/剩下的人*2）之间随机 12345678910111213141516171819202122232425262728293031&lt;?php//随机小数function randomFloat($min = 0, $max = 1) &#123; return $min + mt_rand() / mt_getrandmax() * ($max - $min);&#125;function raffle()&#123; $total = 100; $num = 10; $leftTotal = 100; $leftNum = 10; $minLimit = 0.01; for($i=0;$i&lt;$num;$i++) &#123; if (1 == $leftNum) &#123; $money = $leftTotal; echo $money."\n"; break; &#125; $money = randomFloat($minLimit,$leftTotal/$leftNum*2); echo $money."\n"; $leftTotal -= $money; $leftNum --; &#125;&#125;raffle();]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[回收饮料瓶问题]]></title>
    <url>%2F2017%2F06%2F08%2Frecycle-bottle-algorithm%2F</url>
    <content type="text"><![CDATA[x瓶饮料，喝完了每y个空瓶可以兑换一瓶新的饮料（y&lt;x）,求总共可以喝多少瓶饮料？ 如x=10,y=2时， 第一次喝10瓶，得到10个空瓶，换5瓶 第二次喝5瓶，得到5个空瓶，换2瓶，剩1个空瓶 第三次喝2瓶，得到2个空瓶，加上之前剩的共3个空瓶，换1瓶，剩1个空瓶 第四次喝1瓶，得到1个空瓶，加上之前剩的共2个空瓶，换1瓶 第五次喝1瓶，得到1个空瓶，没的换 1234567891011121314151617&lt;?phpfunction getTotalNum($num,$step)&#123; $total = $num; $left = 0; while ($num &gt;= $step) &#123; $left = $num % $step; //记录没有兑换的空瓶 $num = floor($num/$step); $total += $num; $num += $left; //将没有兑换的空瓶放到喝剩下的空瓶一起 &#125; return $total;&#125;echo getTotalNum(10,2);//19echo getTotalNum(20,3);//29]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[yaf学习笔记 - mac环境下的安装运行]]></title>
    <url>%2F2017%2F06%2F08%2Fyaf-study-note-install%2F</url>
    <content type="text"><![CDATA[基于macos系统，PHP版本7.0.19 yaf介绍Yaf = yet another framework 鸟哥用C语言编写的一个PHP扩展，致力于解决框架影响性能这一经典问题 Yaf框架 = 最不像框架的框架 = 对高性能有要求时选择 安装yaf扩展1brew install php70-yaf --build-from-source 根据自己的php版本下载对应的扩展，如你的版本是php5.6那么就通过brew下载php56-yaf 在终端运行php -m,能看到yaf，说明扩展安装成功（或打印phpinfo()） 12➜ ~ php -m | grep yafyaf 建立demo项目用yaf的代码生成器cg快速生成一个demo project 123456下载https://github.com/laruence/yaf后解压cd toolscd cgphp yaf_cg testcd outputcp -R test ~/test 设置虚拟主机 修改server_name域名，root项目根目录 12345678910111213141516171819202122232425server &#123; listen 80; server_name yaf.com; location / &#123; root ~/test; index index.html index.htm index.php; try_files $uri $uri/ /index.php; &#125; error_page 404 /404.html; error_page 500 502 503 504 /50x.html; location = /50x.html &#123; root ~/test; &#125; location ~ \.php &#123; root ~/test; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; &#125;&#125; 修改hosts文件，加入下面的内容 1127.0.0.1 yaf.com 这样就可以通过访问域名yaf.com访问到demo项目了 测试访问yaf.com,能看到Hello World! I am Stranger，说明安装配置成功]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>yaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2017年4月php面试]]></title>
    <url>%2F2017%2F05%2F26%2Fphp-review-note-on-2017-06%2F</url>
    <content type="text"><![CDATA[已面试5家公司，记录一些有代表性的面试题 美吉生物 cookie对称加密 (跨域)单点登录 扫一扫登录的原理 如何判断添加索引是否生效explain sql sql如何优化 趣头条 php7 什么原因导致服务器负载过高 各个框架的特点，为什么要用Yii和Laravel 如何解决高并发 分红包100元，10人分，每人6-12​ 迭代 递归 钱生乾* get post delete put option 跨域 * linux * http 301 302 重定向 * laravel为什么优雅 * yii的ORM * php7 * Mysql引擎 * mysql基于唯一索引加锁 * php -m -i * 內聚耦合 * explain sql * 服务器负载过高 * fpm和fastCGi * Restful * 联合索引a.b.c生效的场景 * 通过headers里的字段判断返回的数据类型 闪电降价 如何导出数据库中几十万条数据 前端拖拽功能 算法 东方福利 通过ip防刷的不足 同一家公司ip一致的原理 Headers里有哪些内容 策略模式 算法 session原理不用cookie怎么设计session redis数据类型 Php和nginx交互原理 输入网址到页面展示的详细过程 Laravel的依赖注入]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>review</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Laravel目录结构]]></title>
    <url>%2F2017%2F05%2F17%2Flaravel-project-tree%2F</url>
    <content type="text"><![CDATA[laravel目录 routes 路由 app 模型 resources/views blade视图 app/Http/Controllers 控制器 config 配置文件 database 数据库 database/factory 数据库工厂，和seeds一道生成测试数据 database/migrations 数据库迁移 public/css css资源 public/js js资源 resources/lang/en 语言包 tests 单元测试]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>laravel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[从零搭建mac开发环境]]></title>
    <url>%2F2017%2F05%2F10%2Frebuild-mac-develop-environment%2F</url>
    <content type="text"><![CDATA[从零安装开发环境 系统设置 登录apple账号 将不常用的app折叠到文件夹中 设置快捷键 设置触摸板（三指拖拽功能在辅助功能中设置） 设置触发角 下载已购项目 设置dock 置于左侧将窗口最小化为应用程序图标 环境搭建安装homebrew1ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" 通过homebrew安装homebrew-cask1brew tap caskroom/cask 正常的软件通过appstore多dmg安装文件安装，正常渠道无法安装的采用brew cask shadowsocksx和chrome1brew cask install shadowsocksx 开启shadowsocksx,登录chrome浏览器，同步书签和插件 安装alfred并安装chrome书签的workflow git 安装xcode 安装git 安装了xcode后，在终端输入git命令即可安装git 怎样在一台电脑上同时使用公司 GitLab 和 Github 的服务 iterm2和oh my zsh 下载安装iterm2 https://www.iterm2.com/downloads.html 安装oh my zsh 1sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)" 安装wd和zsh-wakatime插件 下载powerline主题 1234git clone git://github.com/jeremyFreeAgent/oh-my-zsh-powerline-theme ~/.ohmyzsh-powerlinecd ~/.ohmyzsh-powerlinecp powerline.zsh-theme ~/.oh-my-zsh/themes/powerline.zsh-themerm -rf ~/.ohmyzsh-powerline 设置主题 安装powerline等宽字体 1234git clone https://github.com/powerline/fonts.gitcd fonts./install.shcd .. &amp;&amp; rm -rf fonts 设置等宽字体Profiles - Text - Font iterm2也可以使用robbyrussell主题和Arthur配色方案（Laravel作者推荐） 使用zsh 1chsh -s /bin/zsh 编译安装vim安装nginxinstall nginx```1234567- 配置servers文件- 设置pid和log路径## 安装php ```brew install php70 设置环境变量 设置pid和log路径 安装扩展 编译安装 安装phpstorm 下载安装 导入配置（安装前导出备份） 安装必要的插件 安装redis install redis```1234- 查看启动命令 ```brew info redis 设置pid和log路径 关闭持久化 建议pid和log目录pid: /usr/local/var/runlog: /usr/local/var/log 安装mysql 下载 下载安装：http://www.cnblogs.com/macro-cheng/archive/2011/10/25/mysql-001.html 注意：安装的某一步中会给出mysql的密码，要记录一下，用户后面登录cli并修改密码 安装配置：http://www.jianshu.com/p/fd3aae701db9 修改mysql密码 tree 安装tree brew install tree node 安装node brew install node 用淘宝的源npm install -g cnpm --registry=https://registry.npm.taobao.org然后就可以用cnpm代替npm安装包了 重要软件 安装reeder，登录inoreader账号 安装quiver、paste、yonik、bartender、moom、dash等常用软件 设置开启启动app系统偏好设置-用户和群组-登录项 其他 安装hexo 前提是安装了node 迁移hexo]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>环境</tag>
        <tag>mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpstorm安装Atom主题]]></title>
    <url>%2F2017%2F04%2F27%2Fphpstorm-use-atom-theme%2F</url>
    <content type="text"><![CDATA[下载atom主题icls文件https://github.com/jesusOmar/one-dark-phpstorm 拷贝到/Users/jim/Library/Preferences/PhpStorm2016.2/colors路径 设置主题Editor/Colors &amp; Fonts/ webstorm也可以使用atom主题:https://github.com/yurtaev/idea-one-dark-theme]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
        <tag>atom</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[后端开发技能树]]></title>
    <url>%2F2017%2F04%2F20%2Fbackend-develop-skill-tree%2F</url>
    <content type="text"><![CDATA[后端开发分为几个阶段： 给前端提供接口，负责接口的设计、开发、优化等 数据库、缓存、性能 高并发、大数据 架构 计算机基础 PHP 基础语法 各版本新特性 PHP7升级 php-fpm与FastCGI 常用框架 Yii1/Yii2 CI thinkphp Laravel magento 扩展 GO 和其他语言比较 goroutine和channel nginx/apache curl(get/post) json 前端知识 html5 css3 node.js js debug 单元测试 memecached redis 数据类型 与memecached比较，与memecached共同使用 缓存穿透 原子性 操作系统 windows macos linux 数据库 SQL 常用命令 索引 index 事务 transaction 优化 存储过程 引擎: 种类，使用场景 MongoDB Hive （2018-10-16） 面向对象 继承 组合(接口) 设计模式 23种设计模式 异步 ajax 队列 queue 微服务化 服务间通信 日志 工具 git soureTree phpStorm phpunit phpcs phpmd 大数据时代 用户画像 机器学习 推荐]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[部分书单]]></title>
    <url>%2F2017%2F04%2F15%2Fbook-list-before-2017%2F</url>
    <content type="text"><![CDATA[2017 [x] 浪潮之巅 上篇 [x] 大型网站技术架构 [x] 黄金时代 [x] 巨人的陨落 [ ] Go语言学习笔记 2016 [x] PHP与Mysql开发 [x] 黑客与画家 [x] 人月神话 [x] PHP对象、设计与实践 [x] 程序员修炼之道：从小工到专家 [x] 解忧杂货铺 [x] 白夜行 [x] 悟空传 [x] 嫌疑人X的献身 [x] 余罪 long long ago [x] 四大名著 [x] 茶花女 [x] 简爱 [x] 牛虻 [x] 神秘岛 [x] 地心游记 [x] 八十天环游地球 [x] 海底两万里 [x] 小王子 [x] 哈利波特 [x] 魔戒三部曲 [x] 诛仙 [x] 盘龙 [x] 凡人修仙传 [x] 三体 [x] 重生于康熙末年 [x] 新宋 [x] 庆余年 [x] 一座城池 [x] 长安乱 future技术 [ ] Head First 设计模式 [ ] 高性能MySQL 选读部分章节 [ ] 尽在双11 阿里巴巴技术演进与超越 [ ] 架构即未来：现代企业可扩展的Web架构 [ ] 设计模式 [ ] 重构 改善既有代码的设计 [ ] 代码整洁之道- 设计模式 [ ] 算法导论 [ ] 编程之美 [ ] 深入理解计算机系统 [ ] 啊哈，算法 [ ] Redis实战 [ ] 亿级流量网站架构核心技术 [ ] 软件随想录 阮一峰译 [ ] 编程珠玑 [ ] NoSql精粹 [ ] 编码：隐匿在计算机软硬件背后的语言 [ ] 大话数据结构 [ ] 图解HTTP 非技术 [ ] 数学之美 [ ] 硅谷之谜 [ ] 从0到1 开启商业与未来的秘密 [x] 人类简史 [x] 未来简史 [x] 巨人的陨落 [ ] 晓松奇谈 世界卷 [ ] 白说 [ ] 人名的名义 [x] 拉普拉斯的魔女 [x] 我是猫 [x] 黄金时代 [ ] 四书五经 [ ] 史记 参考 一个合格的程序员应该读过哪些书 亚马逊发布2017年「年中图书排行榜」，你错过这些好书了吗？&amp;version=12020810&amp;nettype=WIFI&amp;fontScale=100&amp;pass_ticket=rv0%2BqdK7p3KYwRpkx7OD6umvDwQE8y%2BHU37tvE92RVIUiI7QwLnMlQbXVbqM75ra) 有什么适合碎片时间看的计算机基础书籍推荐？]]></content>
      <categories>
        <category>Reading</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[通过package安装包安装mysql]]></title>
    <url>%2F2017%2F04%2F13%2Finstall-mysql-via-package%2F</url>
    <content type="text"><![CDATA[通过brew安装mysql是很简单的，但是在使用的时候经常出现奇怪的错误，比如这样的The server quit without updating PID file,或者这样的 改用package安装 下载安装包 访问MySQL的官网http://www.mysql.com/downloads/ 然后在页面中会看到“MySQL Community Server”下方有一个“download”点击 设置新密码1set PASSWORD = PASSWORD(&apos;new_password&apos;); 通过pkg安装的mysql会在mac的偏好设置面板里出现哦]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[mysql error]The server quit without updating PID file]]></title>
    <url>%2F2017%2F04%2F12%2Fmysql-error-The-server-quit-without-updating-PID-file%2F</url>
    <content type="text"><![CDATA[mysql是通过homebrew安装的,重启电脑后启动mysql报错 update: 2017年7月11日17:42 终极解决方案：用brew安装mysql经常会碰到这些问题，直接用安装包安装后，从未复现 debug前须知：mysql配置文件依次读取：123/etc/my.cnf/etc/mysql/my.cnf~/my.cnf 网上提供的解决方法： 查看报错信息，有两处报错err文件位于/usr/local/var/mysql/data - Can&apos;t open the mysql.plugin table. Please run mysql_upgrade to create it. 按照提示运行`mysql_upgrade`报错 ​ &gt;mysql_upgrade: Got error: 2002: Can’t connect to local MySQL server through socket ‘/tmp/mysql.sock’ (2) while connecting to the MySQL serverUpgrade process encountered error and will not continue. - Fatal error: Can&apos;t open and lock privilege tables: Table &apos;mysql.user&apos; doesn&apos;t exist 检查是否有实例正在运行1ps -ef | grep mysql 结果：没有 删除.err文件结果：无效 改变权限1sudo chown -R _mysql:mysql /usr/local/var/mysql 结果：无效 重新初始化12unset TMPDIRmysql_install_db --verbose --user=`whoami` --basedir=&quot;$(brew --prefix mysql)&quot; --datadir=/usr/local/var/mysql/data --tmpdir=/tmp 因为/usr/local/var/mysql/data目录不为空，所以没法初始化，那么先清空目录，再初始化 1234unset TMPDIRcd /usr/local/var/mysql/datasudo rm *mysql_install_db 再运行sudo mysql.server start命令启动，依然报错，查看目录文件权限，原来初始化的时候又改变权限了 1sudo chown -R _mysql:mysql /usr/local/var/mysql DONE！ brew services start mysql与mysql.server start 2017-04-12T12:00:55.701485Z 1 [Note] A temporary password is generated for root@localhost: ZCBp1r-K0RlE If you lose this password, please consult the section How to Reset the Root Password in the MySQL reference manual.]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpStorm快捷键个人设置]]></title>
    <url>%2F2017%2F04%2F12%2Fphpstorm-key-maps%2F</url>
    <content type="text"><![CDATA[自定义phpstorm快捷键，类sublime风格 将phpstorm快捷键设置为其它编辑器的从以下编辑器切换到phpstorm的可以直接使用原先的快捷键： 自定义快捷键直接搜索快捷键的关键字修改 atom风格快捷键： 打开项目Project command+\ 在项目中定位当前文件Scroll From Source(需要先安装Scorll From Source插件) command+shift+\ sublime风格快捷键: 查找文件Navigate-File command+p 复制行 Duplicate Line or Slection command+shift+d 查找下一重复项 Add Selection for Next Occurrence command+d 查找所有重复项 Select All Occurrences command+ctrl+g vim风格快捷键 代码片段展开 Expand Live Template / Emmet Abbreviation ctrl+j 格式化代码 Refomat Code ctrl+alt+l phpstorm其它常用快捷键 查找并替换 Edit - Find - Replace command+r Edit - Find - Find in Path 全局搜索代码 command+shift+f search everywhere shift+shift 查找用例 alt+F7 重命名 shift+F6 修改为F2 打开终端 command + - 在Dash中查找 alt+d]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于缓存的一些思考]]></title>
    <url>%2F2017%2F04%2F12%2Fmy-thinking-about-redis%2F</url>
    <content type="text"><![CDATA[性能有问题怎么办，加机器，做缓存 redis和memcached区别：memcached只支持简单的key-value格式，redis支持更多的格式，如hash, 什么时候要用到缓存列表页、详情页等经常请求而且变化频率不高的场景 缓存基本用法 从缓存中取数据 缓存命中，直接返回 缓存miss，从db中取数据，将数据存入缓存，返回 缓存穿透指的是访问缓存中的某个不存在的key，没有命中，然后直接请求db，同时因为返回的结果为空，不会存入缓存中，故而下次还是无法命中的场景 解决方案：将不存在的key也存入缓存中，value设置为null 持久化这个好像是运维做的，生产环境没有试过 不过在设计技术方案的时候，都要考虑redis挂掉的风险 缓存并发redis有原子性操作，可以防止并发的时候读写出错 缓存过期时间存入缓存时可以设置缓存的过期时间 有一个要注意的地方在于如果有一批过期时间相同的key同时过期并请求db时，会使db的压力骤增，如果扛不住，就会导致缓存雪崩 处理方法：设置过期时间时加上一个随机的小数字 缓存是否过期是否给缓存设置过期时间，也是个值得思考的问题？ 一般有两种思路：一种是设置过期时间，到期后重新生成新的db另一种是不设置过期时间，手动更新缓存 一般是采用第一种，因为redis存储的空间是有限的 此外，一些需要持久的缓存是不会设置过期时间的，如最新的订单号等 redis缓存的其他应用场景队列使用redis可以构建简单的一对一的队列，简单的说，就是使用lpush入列，rpop出列（也可以右进左出） 数据库是的，你没有看错，redis除了当缓存使用，作为NoSql的成员之一，它还可以当独立的数据库使用 代理开源的tw框架 参考 缓存穿透、并发和失效，来自一线架构师的解决方案 如何解决常见的缓存穿透、并发和失效问题？]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[go学习笔记：用vscode搭建go开发环境]]></title>
    <url>%2F2017%2F04%2F11%2Fgo-study-note-vscode%2F</url>
    <content type="text"><![CDATA[用vsc开发go。 安装Go插件 修改配置command+,打开偏好设置 12&quot;go.gopath&quot;: &quot;/Users/&#123;user_name&#125;/go&quot;,&quot;go.goroot&quot;: &quot;/usr/local/opt/go/libexec&quot; 安装 golang debug 插件 delve1brew install go-delve/delve/delve 否则使用vscode的调试功能的时候会报错：Failed to continue: “Cannot find Delve debugger. Install from https://github.com/derekparker/delve &amp; ensure it is in your “GOPATH/bin” or “PATH”.” 安装依赖当vocode提示缺少以下依赖的时候，选择安装若安装失败，在终端运行对应的命令123456789go get -u -v github.com/nsf/gocodego get -u -v github.com/rogpeppe/godefgo get -u -v github.com/golang/lint/golintgo get -u -v github.com/lukehoban/go-outlinego get -u -v sourcegraph.com/sqs/goreturnsgo get -u -v golang.org/x/tools/cmd/gorenamego get -u -v github.com/tpng/gopkgsgo get -u -v github.com/newhook/go-symbolsgo get -u -v golang.org/x/tools/cmd/guru 调试调试 - 添加配置 修改program为文件路径 /Users/jim/Documents/code/go/.vscode/launch.json12345678910111213&#123; "version": "0.2.0", "configurations": [ &#123; "name": "Launch file", "type": "go", "request": "launch", "mode": "debug", "program": "/Users/jim/go" &#125; ], "compounds": []&#125; 开始调试：]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>go</tag>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sublime搭建go-lang开发环境]]></title>
    <url>%2F2017%2F04%2F11%2Fsublime-build-golang-develop-environment%2F</url>
    <content type="text"><![CDATA[安装GoSublime插件package control安装 设置GoSublime插件123456&#123; &quot;env&quot;: &#123; &quot;GOPATH&quot;: &quot;/Users/jim/Documents/code/go&quot;, &quot;GOROOT&quot;: &quot;/usr/local/opt/go/libexec&quot; &#125;&#125; build system]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>go</tag>
        <tag>sublime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sublime报错There are no packages available for installation]]></title>
    <url>%2F2017%2F04%2F11%2Fsublime-error-There-are-no-packages-available-for-installation%2F</url>
    <content type="text"><![CDATA[There are no packages available for installation报错可能只是你自己网络有问题 Package Control There are no packages available for installation Please see https://packagecontrol.io/docs/troubleshooting for help&gt; 网上的解决方案： IPV6,修改hosts json 重装 后来发现只是网络问题，只要使用科学上网法就可以解决了 如上图，开始使用的是自动代理模式，可能没有应用到sublime，设置成全局代理就ok了]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>sublime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[go学习笔记：安装并运行hello world]]></title>
    <url>%2F2017%2F04%2F11%2Fgo-study-note-install-on-mac%2F</url>
    <content type="text"><![CDATA[homebrew安装go 配置环境变量 在终端运行go程序。 通过homebrew安装go12brew updatebrew install go 查看安装的路径： 12➜ ~ which go/usr/local/bin/go 添加环境变量编辑~/.zshrc 123export GOROOT=/usr/local/opt/go/libexecexport GOPATH=$HOME/goexport PATH=$PATH:$GOROOT/bin:$GOPATH/bin 保存后执行 1source ~/.zshrc 在终端环境运行go程序新建文件hello.go，编辑如下并保存~/code/go/src/hello.go1234567// hello.gopackage mainimport "fmt"func main() &#123; fmt.Printf("Hello, world!")&#125; go run在终端执行12cd ~/code/go/src/hello.gogo run hello.go go build也可以先用build命令编译，再执行 12go build hello.go //生成可执行文件hello./hello go tool objdump 查看执行过程 https://golang.org/cmd/objdump/Objdump prints a disassembly of all text symbols (code) in the binary. If the -s option is present, objdump only disassembles symbols with names matching the regular expression. 12go build hello.gogo tool objdump -s &quot;main\.main&quot; hello 参考 https://golang.org/doc/install?download=go1.8.1.darwin-amd64.pkg]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>go</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[go语言入门知识点]]></title>
    <url>%2F2017%2F04%2F11%2Fgo-study-note%2F</url>
    <content type="text"><![CDATA[初步学习go语言，为GopherChina大会作准备 GO入门指南GO语言圣经 day 1 大神开发 google线上使用 C过时，早晚淘汰 C编译太慢，需要一门低级语言代替它 GO吸收了包括C和JAVA等在内的语言的优势 自行解决内存问题 统一自动格式化gofmt 运行前编译 效率比脚本需要高的多 可以调用c语言中的方法 关键字少，代码简洁 语句不用分号结束，多个语句放在一行才要用分号 其实编译时自行加上分号 包的引入 包的后缀pkg go文件的后缀go 编译后可执行文件的后缀a 在第一行申明文件的pkg 一个go文件只能属于一个pkg,一个pkg可以包含多个go文件 有且必须要有有一个main包 包的依赖关系影响编译的顺序 import 多个包时可以将多个包名放在数组中 以大写字母打头的标识符类似public，以小写字母打头的标识符类似private import 一个包不使用它会报错 go中没有不必要的代码 和C一样有个main函数，入口执行函数 main包中没有main函数会报错 main函数没有参数和返回值，有就报错 函数的开始花括号必须和函数申明在同一行，否则报错 而函数的结束化括号必须紧接函数体 上面两句总结成一句话：跟psr一样 返回值列表在参数列表后面 大写字母开头的方法名遵循Pascal命名法 输出方法print,println 程序正常结束返回0，程序异常终止返回1 注释有通用的单行注释和多行注释 注释可以通过godoc文档化 方法的注释应该以方法名开头 结构化类型的默认值是nil，跟Object-C一致 go没有类型继承 type关键字自定义类型 函数可以有多个返回值，类似js,lua 类型可以强制转换 const定义常量 变量的类型可以不指定，会自动判断 day 2 $GOROOT是安装目录，$GOPATH是项目目录 iota用于常量定义，初始值为0，可以自增 go特有的：申明变量时将变量的类型放在变量名的右边 可以根据变量的值推断变量的类型 day 3 格式化输出时%v使用类型的默认输出格式 与Printf相比，Sprintf会将格式化后的变量作为返回值 变量初始化的三种形式 123var a int = 30;//int 可省略，可自动识别var a = 30;a := 30; :=的初始化方式只能用于方法体内]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>go</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Magento后台配置攻略]]></title>
    <url>%2F2017%2F04%2F10%2Fmagento-system-config-summary%2F</url>
    <content type="text"><![CDATA[设置magento后台配置 magento后台配置保存后触发的事件 magento的后台配置以Core模块etc目录下的system.xml为例app/code/core/Mage/Cron/etc/system.xml1234567891011121314151617181920212223242526272829&lt;?xml version="1.0"?&gt;&lt;config&gt; &lt;sections&gt; &lt;system&gt; &lt;groups&gt; &lt;cron translate="label comment" module="cron"&gt; &lt;label&gt;Cron (Scheduled Tasks) - all the times are in minutes&lt;/label&gt; &lt;frontend_type&gt;text&lt;/frontend_type&gt; &lt;sort_order&gt;15&lt;/sort_order&gt; &lt;show_in_default&gt;1&lt;/show_in_default&gt; &lt;show_in_website&gt;0&lt;/show_in_website&gt; &lt;show_in_store&gt;0&lt;/show_in_store&gt; &lt;comment&gt;For correct URLs generated during cron runs please make sure that Web &gt; Secure and Unsecure Base URLs are explicitly set.&lt;/comment&gt; &lt;fields&gt; &lt;schedule_generate_every translate="label"&gt; &lt;label&gt;Generate Schedules Every&lt;/label&gt; &lt;frontend_type&gt;text&lt;/frontend_type&gt; &lt;sort_order&gt;10&lt;/sort_order&gt; &lt;show_in_default&gt;1&lt;/show_in_default&gt; &lt;show_in_website&gt;1&lt;/show_in_website&gt; &lt;show_in_store&gt;1&lt;/show_in_store&gt; &lt;/schedule_generate_every&gt; &lt;!--...省略其它fileds...--&gt; &lt;/fields&gt; &lt;/cron&gt; &lt;/groups&gt; &lt;/system&gt; &lt;/sections&gt;&lt;/config&gt; 配置文件有config - sections - groups - fields四个层级如上面的配置文件中，sections只有system一项，groups 只有cron一项，而fileds包括schedule_generate_every、schedule_lifetime、history_cleanup_every、history_success_lifetime、history_failure_lifetime 配置项 label 显示的标签 frontend_type 输入类型 text 文本框 sort_order 排序 数值越大，排在越后面 show_in_default 是否默认显示 1，是；0，否 show_in_website 是否在网站显示 1，是；0，否 show_in_store 是否在店铺显示 1，是；0，否 comment 备注说明 配置文件合并因为Magento在初始化的时候会将分散在所有模块中的system.xml文件合并成一个大的system.xml，所以sections、groups、fields的标签都要求是唯一的 配置项的数据存储在core_config_data中可以看到配置保存的内容如上图所示，表示cron模块在后台配置项的值我们可以直接修改数据库中的内容，这和在mangento后台编辑并保存的最终效果是一样的，只是不会触发下面介绍的配置保存的事件 取配置项的值还是上面数据库中的第四列表示配置项的路径，当我们要在代码中获取某个配置项，如schedule_generate_every的值的时候，可以用下面的方法 app/Mage.php123456public static function getStoreConfig($path, $store = null)&#123; return self::app()-&gt;getStore($store)-&gt;getConfig($path);&#125;//exampleMage::getStoreConfig('system/cron/schedule_generate_every',Mage::app()-&gt;getStore()); 如果配置项schedule_generate_every设置的frontend_type是boolean类型的话，那么最好用下面的方法取默认值 app/Mage.php1234567891011public static function getStoreConfigFlag($path, $store = null)&#123; $flag = strtolower(self::getStoreConfig($path, $store)); if (!empty($flag) &amp;&amp; 'false' !== $flag) &#123; return true; &#125; else &#123; return false; &#125;&#125;//example:Mage::getStoreConfigFlag('system/cron/schedule_generate_every',Mage::app()-&gt;getStore()); getStoreConfigFlag会将配置的值转化为true或false后返回给你 设置配置项的默认值前面提到了，我们建立了配置项之后，要么在后台设置它的值并保存，要么修改数据库 而当配置项需要在多个测试环境配置相同的值时，不管是上面的哪种方法，都挺烦人的，其实在建立配置项的同时就可以把默认值设置好了 系统自带的cron模块就采用了这种方法来设置默认值，在和system.xml同目录的config.xml中，有下面的代码：app/code/core/Mage/Cron/etc/config.xml123456789101112&lt;default&gt; &lt;system&gt; &lt;cron&gt; &lt;schedule_generate_every&gt;15&lt;/schedule_generate_every&gt; &lt;schedule_ahead_for&gt;20&lt;/schedule_ahead_for&gt; &lt;schedule_lifetime&gt;15&lt;/schedule_lifetime&gt; &lt;history_cleanup_every&gt;10&lt;/history_cleanup_every&gt; &lt;history_success_lifetime&gt;60&lt;/history_success_lifetime&gt; &lt;history_failure_lifetime&gt;600&lt;/history_failure_lifetime&gt; &lt;/cron&gt; &lt;/system&gt;&lt;/default&gt; 默认值的目录和system.xml中的config - sections - groups - fields是完全一致的 设置默认值之后没有生效，你可能要注意的一点是： 只有当默认值和配置项同时建立的时候，才能一次性的在magento后台展示出默认值。如果我们先建立的配置项，在后台看到的都是空白值之后才在config.xml中建立默认值并清除configration后，在magento看到的依然是空白我们可以尝试在magento后台重新保存一下配置 配置的缓存问题修改了congig.xml和system.xml文件后，永远不要忘记清除configration缓存，才能使得修改生效 magento后台配置修改后触发的事件app/code/core/Mage/Adminhtml/controllers/System/ConfigController.php1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374/** * Save configuration * */public function saveAction()&#123; $session = Mage::getSingleton('adminhtml/session'); /* @var $session Mage_Adminhtml_Model_Session */ $groups = $this-&gt;getRequest()-&gt;getPost('groups'); if (isset($_FILES['groups']['name']) &amp;&amp; is_array($_FILES['groups']['name'])) &#123; /** * Carefully merge $_FILES and $_POST information * None of '+=' or 'array_merge_recursive' can do this correct */ foreach($_FILES['groups']['name'] as $groupName =&gt; $group) &#123; if (is_array($group)) &#123; foreach ($group['fields'] as $fieldName =&gt; $field) &#123; if (!empty($field['value'])) &#123; $groups[$groupName]['fields'][$fieldName] = array('value' =&gt; $field['value']); &#125; &#125; &#125; &#125; &#125; try &#123; if (!$this-&gt;_isSectionAllowed($this-&gt;getRequest()-&gt;getParam('section'))) &#123; throw new Exception(Mage::helper('adminhtml')-&gt;__('This section is not allowed.')); &#125; // custom save logic $this-&gt;_saveSection(); $section = $this-&gt;getRequest()-&gt;getParam('section'); $website = $this-&gt;getRequest()-&gt;getParam('website'); $store = $this-&gt;getRequest()-&gt;getParam('store'); Mage::getSingleton('adminhtml/config_data') -&gt;setSection($section) -&gt;setWebsite($website) -&gt;setStore($store) -&gt;setGroups($groups) -&gt;save(); // reinit configuration Mage::getConfig()-&gt;reinit(); Mage::dispatchEvent('admin_system_config_section_save_after', array( 'website' =&gt; $website, 'store' =&gt; $store, 'section' =&gt; $section )); Mage::app()-&gt;reinitStores(); // website and store codes can be used in event implementation, so set them as well Mage::dispatchEvent("admin_system_config_changed_section_&#123;$section&#125;", array('website' =&gt; $website, 'store' =&gt; $store) ); $session-&gt;addSuccess(Mage::helper('adminhtml')-&gt;__('The configuration has been saved.')); &#125; catch (Mage_Core_Exception $e) &#123; foreach(explode("\n", $e-&gt;getMessage()) as $message) &#123; $session-&gt;addError($message); &#125; &#125; catch (Exception $e) &#123; $session-&gt;addException($e, Mage::helper('adminhtml')-&gt;__('An error occurred while saving this configuration:') . ' ' . $e-&gt;getMessage()); &#125; $this-&gt;_saveState($this-&gt;getRequest()-&gt;getPost('config_state')); $this-&gt;_redirect('*/*/edit', array('_current' =&gt; array('section', 'website', 'store')));&#125; 保存configuration后 触发admin_system_config_section_save_after事件，事件会带website、store、section参数 稍后触发admin_system_config_changed_section_{$section}事件 当我们在后台修改cron的配置后，就会触发admin_system_config_changed_section_cron事件，在config.xml文件中监听这个事件，进行响应的逻辑处理 app/code/core/Mage/Cron/etc/config.xml1234567891011121314&lt;config&gt; &lt;global&gt; &lt;events&gt; &lt;admin_system_config_changed_section_cataloginventory&gt; &lt;observers&gt; &lt;cron&gt; &lt;class&gt;cron/observer&lt;/class&gt; &lt;method&gt;doSomethingAfterCronSave&lt;/method&gt; &lt;/cron&gt; &lt;/observers&gt; &lt;/admin_system_config_changed_section_cataloginventory&gt; &lt;/events&gt; &lt;/global&gt;&lt;/config&gt; 然后就可以在Cron/Model/Observers.php文件的doSomethingAfterCronSave方法中执行你想要的操作了]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MarkDown插入图片技巧]]></title>
    <url>%2F2017%2F04%2F07%2Fmarkdown-insert-image-skills%2F</url>
    <content type="text"><![CDATA[将图片上传到七牛云，获取图片的链接，粘贴到md文件中： 通过Alfred的Workflow实现 通过U图床或iPic工具实现 AutoHotkey Alfred使用方法：截图或复制图片到剪切板后，按workflow的快捷键，workflow自动上传图片并将图片链接保存在剪贴板中 workflow开发者下载页面：https://github.com/tiann/markdown-img-upload U图床/iPic（推荐）优点： 剪切板自动上传 拖拽上传，支持gif文件 AutoHotkey参考下面的文章 AutoHotkey&amp;qshell 实现图片自动上传七牛并返回markdown引用 typora]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MarkDown基础介绍]]></title>
    <url>%2F2017%2F04%2F07%2Fhow-to-use-markdown%2F</url>
    <content type="text"><![CDATA[一篇关于markdown的简单介绍。 编辑器 Mou MacDown（Mac推荐） Typora (Mac推荐，所见即所得，跟Macdown是两种不同风格的编辑器) Haroopad (Windows推荐) Sublime\Atom\VSC 标题123# 一级标题## 二级标题### 三级标题 效果： 一级标题二级标题三级标题字体效果123456**粗体***斜体*++下划线++==高亮==word^上标^word~下标~ 效果： 斜体++下划线++==高亮==word^上标^word~下标~ 代码使用 三个`符号各两行表示代码块，如下所示 在第一行后面可以备注代码的语言，大部分网站可以根据语言不通显示不同的配色效果 效果 12&lt;?phpecho 'Hello World'; 插入图片和网址12[一个普通的网址](http://www.baidu.com)![一张平凡的图片](![20170408149163204466917.png](how-to-use-markdown/20170408149163204466917.png) 效果： 一个普通的网址 列表有序列表1231. 第一件事2. 第二件事3. 第三件事 效果： 第一件事 第二件事 第三件事 无序列表123- 无序列表- 无序列表- 无序列表 效果： 无序列表 无序列表 无序列表 任务列表123- [x] 今天干了啥- [x] 今天干了啥- [ ] 今天有啥没干 效果： [x] 今天干了啥 [x] 今天干了啥 [ ] 今天有啥没干 目录不一定支持 1[TOC] [TOC] 如果你要用markdown写博客，推荐看此文]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Magento升级脚本常见问题]]></title>
    <url>%2F2017%2F04%2F07%2Fmagento-set-up-sql-common-problems%2F</url>
    <content type="text"><![CDATA[magento通过自带的升级脚本操作数据库，常见问题的解决方法如下 对表的修改（增删改等）没有生效？ sql目录下是否有升级脚 升级脚本是否正确（看Exception日志） config.xml中有没有升级版本号 有没有清magento的configration缓存 如果安装了redis，有没有清redis缓存 升级脚本升级成功了怎么修改？可能是想在升级脚本中对表插入一个叫customer_name的字段,不小心输入错误成了customer_wrong_name，然后提交了代码，脚本成功升级了,错误的字段也加上了，怎么修改呢？ 两种解决方法： 再写一个升级脚本，修改表字段名称 直接修改升级脚本，在core_resource表中将模块的版本号修改为升级前的版本号，清除congfigration缓存后重新升级 第一种方法适用于已经发布到线上的脚本第二种方法适用于本地开发，保证自己的代码都是正确的，没有修修补补的内容 表中新增字段成功了，但是对应的字段无法插入正确的值？如果你是通过$object-&gt;setData(&#39;a&#39;,123)-&gt;save();这样的对象方法进行的数据库操作没有成功，试试下面的方法： System/Cache Management/Flush Cache Storage 原理：Magento采用的是ORM模型，表的数据结构保存在DDL缓存里，对表的结构进行修改后要更新DDL缓存才能正确地进行值的插入]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpStorm格式化代码设置等号对齐]]></title>
    <url>%2F2017%2F04%2F06%2Fphpstorm-code-style-wrapping%3D-and-braces%2F</url>
    <content type="text"><![CDATA[格式化代码 变量按等号=对齐 数组键值对按=&gt;对齐 格式化代码选择Reformat Code后,phpStorm会按照设置好的code style，自动格式化代码 设置code style，实现等号对齐路径：Editor/Code Style/PHP/Wrapping and Braces勾选前 勾选后 设置code style,实现数组内键值对对齐路径：Editor/Code Style/PHP/Other 勾选前 勾选后]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Magento根据订单获取地址信息]]></title>
    <url>%2F2017%2F04%2F06%2Fmagento-get-address-data-by-order%2F</url>
    <content type="text"><![CDATA[根据orderid获取address信息 代码实现： 1234567891011$orderModel = Mage::getModel('sales/order')-&gt;loadByIncrementId($orderId);$address = $orderModel-&gt;getShippingAddress();$street = $address-&gt;getStreet();$address_data = array( 'name' =&gt; $address-&gt;getData('lastname').$address-&gt;getData('firstname'),//姓名 'phone' =&gt; $address-&gt;getData('telephone'),//手机号 'province' =&gt; $address-&gt;getData('region'),//省 'city' =&gt; $address-&gt;getData('city'),//市 'district' =&gt; $street[0],//区 'street' =&gt; $street[1],//街道); 原理： app/code/core/Mage/Sales/Model/Order.php12345678910111213141516171819202122232425public function getShippingAddress()&#123;foreach ($this-&gt;getAddressesCollection() as $address) &#123; if ($address-&gt;getAddressType()=='shipping' &amp;&amp; !$address-&gt;isDeleted()) &#123; return $address; &#125;&#125;return false;&#125; public function getAddressesCollection()&#123; if (is_null($this-&gt;_addresses)) &#123; $this-&gt;_addresses = Mage::getResourceModel('sales/order_address_collection') -&gt;setOrderFilter($this); if ($this-&gt;getId()) &#123; foreach ($this-&gt;_addresses as $address) &#123; $address-&gt;setOrder($this); &#125; &#125; &#125; return $this-&gt;_addresses;&#125; app/code/core/Mage/Customer/Model/Address/Abstract.php12345678910111213141516171819202122/** * get address street * * @param int $line address line index * @return string */public function getStreet($line=0)&#123; $street = parent::getData('street'); if (-1 === $line) &#123; return $street; &#125; else &#123; $arr = is_array($street) ? $street : explode("\n", $street); if (0 === $line || $line === null) &#123; return $arr; &#125; elseif (isset($arr[$line-1])) &#123; return $arr[$line-1]; &#125; else &#123; return ''; &#125; &#125;&#125;]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac下phpStorm配置使用phpmd]]></title>
    <url>%2F2017%2F04%2F01%2Fphpmd-in-phpstorm-on-mac%2F</url>
    <content type="text"><![CDATA[如果说phpcs规范了php代码的规范，那么phpmd就是aa检测php代码错误的利器 什么是phpmd phpmd,short of PHP Mess Detector,is a tool that checks if you aren’t making a mess of your code. Think of methods of hundreds of lines, classes that extend class after class after class, lack of documentation, nested loops, etc. PHP Mess Detector points out these culprits and aids into writing more manageable code. 安装phpmd1brew install phpmd 安装之后查看phpmd的路径路径就是/usr/local/bin/phpmd 配置phpmdPreferences/Languages &amp; Frameworks/PHP/Mess Detector点开Local后的...,输入phpmd的路径/usr/local/bin/phpmd,点击Validate进行验证 Preferences/Editor/Inspections/PHP/PHP Mess Detector validation 勾选中PHP Mess Detector validation,并选择右侧建议的Options规则，规则的说明参考：https://phpmd.org/rules/index.html： 使用phpmd]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
        <tag>phpmd</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[用phpStorm进行magento开发的几个Tips]]></title>
    <url>%2F2017%2F04%2F01%2Fphpstorm-develop-magento-skills%2F</url>
    <content type="text"><![CDATA[安装phpcs 安装phpmd 安装magicento插件 只索引有用的文件夹 常用magento代码片段 参考：https://mirasvit.com/blog/guide-for-setting-up-phpstorm-for-magento-2-developments.html 安装phpcsphpcs可以统一编码的规范，常用的是psr2 mac下phpStorm配置使用phpcs 安装phpmdphp代码纠错 mac下phpStorm配置使用phpmd 安装magicento插件 只对用的到的文件夹进行索引12345678/bin//dev//pub//setup//var/cache//var/log//var/page_cache/var/view_processed 建议将以上的文件夹标记为Excluded，这样就不会浪费phpStorm的性能对它们进行索引了 设置常用代码片段https://16bh.github.io/2017/04/01/phpstorm-live-template/]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>magento</tag>
        <tag>phpstorm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一些psr2规范示例]]></title>
    <url>%2F2017%2F04%2F01%2Fsome-psr-error%2F</url>
    <content type="text"><![CDATA[给phpStorm安装phpcs之后，碰到的psr问题都记录下来 A file SHOULD declare new symbols (classes, functions, constants, etc.) and cause no other side effects, or it SHOULD execute logic with side effects, but SHOULD NOT do both. PHP代码中应该只定义类、函数、常量等声明，或其他会产生 从属效应 的操作（如：生成文件输出以及修改.ini配置文件等），二者只能选其一； The closing brace for the class must go on the next line after the body 类的开始花括号({)必须写在函数声明后自成一行，结束花括号(})也必须写在函数主体后自成一行 123456789&lt;?phpclass Text&#123; public function test() &#123; test; &#125;&#125;//正确 12345678910&lt;?phpclass Text&#123; public function test() &#123; test; &#125;&#125;//错误,类的结束花括号应该紧邻body Each class must be in a namespace of at least one level(a top-level vendor name) 根据规范，每个类都独立为一个文件，且命名空间至少有一个层次：顶级的组织名称（vendor name） 12345678//正确写法&lt;?php// PHP 5.3及以后版本的写法namespace Vendor\Model;class Foo&#123;&#125; 123456//错误写法&lt;?phpclass Foo&#123;&#125; Class name “A_B_C_D” is not in camel caps format 类的命名要遵循大写开头的驼峰命名规范 参数以分布在多行，随后的行应该缩进一次。如果这么做，第一项应该 在下一行，而且每一个参数独占一行； 12//错误$className-&gt;funcName($param1, $param2, $param3mayhaveaveryverylongnamelongerthen120words); 123456//正确$className-&gt; funcName( $param1, $param2, $param3mayhaveaveryverylongnamelongerthen120words );]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>psr</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[xml error]Unescaped & or nonterminated character/entity reference]]></title>
    <url>%2F2017%2F04%2F01%2Fxml-error-Unescaped-or-nonterminated-character-entity-reference%2F</url>
    <content type="text"><![CDATA[xml的某个标签中的值包含了&amp;，会报下面的错误Unescaped &amp; or nonterminated character/entity reference 网上流传的解决方法如下： 用&amp;amp;代替&amp; 但是stackoverflow上有个小哥表示自己不想这么干，就发了个帖子：《我一定要用&amp;amp;替换&amp;符号吗》 下面是大佬的回复： &gt;Yes. Just as the error said, in HTML, attributes are #PCDATA meaning they’re parsed. This means you can use character entities in the attributes. Using &amp; by itself is wrong and if not for lenient browsers and the fact that this is HTML not XHTML, would break the parsing. Just escape it as &amp; and everything would be fine. HTML5 allows you to leave it unescaped, but only when the data that follows does not look like a valid character reference. However, it’s better just to escape all instances of this symbol than worry about which ones should be and which ones don’t need to be. Keep this point in mind; if you’re not escaping &amp; to &amp;, it’s bad enough for data that you create (where the code could very well be invalid), you might also not be escaping tag delimiters, which is a huge problem for user-submitted data, which could very well lead to HTML and script injection, cookie stealing and other exploits. Please just escape your code. It will save you a lot of trouble in the future.]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>xml</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac下phpStorm配置使用phpcs]]></title>
    <url>%2F2017%2F04%2F01%2Fphpcs-in-phpstorm-on-mac%2F</url>
    <content type="text"><![CDATA[phpStorm支持psr的规范 安装phpcs1brew install php-code-sniffer 那么安装完成后的路径就是：/usr/local/Cellar/php-code-sniffer/2.8.1/bin/phpcs 在phpstorm设置phpcsPreferences/Languages &amp; Frameworks/PHP/Code Sniffer 选择之前phpcs的路径，填写后可以点击Validate按钮验证 在phpstorm设置psr提示Preferences/Editor/Inspections/PHP/PHP Code Sniffer validation修改Severity后的错误级别，默认是Weak Warning点击Coding standard选项后的刷新按钮刷新列表，在列表中选择PSR2]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
        <tag>phpcs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpstorm使用代码片段]]></title>
    <url>%2F2017%2F04%2F01%2Fphpstorm-live-template%2F</url>
    <content type="text"><![CDATA[用过magento的人起码手动输入过上百次以下的代码了123Mage::log($test,null,'test.log');$order = Mage::getModel('sales/order')-&gt;loadByIncrementId($orderNumber);$customer = Mage::getModel('customer/customer')-&gt;load($customer_id); 其实这些常用的代码可以设置成代码片段路径：Editor/Live Templates 如图，点击右上角的+号可以新增代码片段Abbreviation表示设置的片段的关键字Description是关键字可以不填Template text是片段的内容 我们新建一个片段叫order，内容为： 12$order = Mage::getModel('sales/order')-&gt;loadByIncrementId($END$);//$END$是光标最后会停留的位置，可以输入用户自定义的订单编号 有两种触发片段的方法 按快捷键展开 直接输入片段的关键字，Enter确认后展开 可以将多个位置设置成同一变量，如下所示效果如图： 更新：2017年7月21日 看了一篇文章作者的设定,将最常用的符号也设置为代码片段 d 触发 $a 触发 =&gt;o 触发 -&gt;]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpStorm有哪些值得安装的插件]]></title>
    <url>%2F2017%2F03%2F31%2Fsome-awesome-phpstorm-plugins%2F</url>
    <content type="text"><![CDATA[phpStorm已经是集成度很高的php开发的IDE了，但是个别插件可以起到如虎添翼的作用 CodeGlance(叫minimap更恰当)让phpstorm支持sublime的minimap功能值得一提的是，你在页面内搜索内容时，在minimap上的对应位置也会高亮显示，如下图所示： IdeaVimvim插件 比sublime的的vim插件好用，没Atom的vim插件好用 better than none Power Mode II羡慕Atom的爆炸炫酷效果？phpStorm也可以比较消耗性能，可能造成电脑卡顿 Scorll From SourceScorll From Source指的是在左侧的Project目录中快速显示当前编辑区的文件所在的位置 看插件介绍，本来phpStorm是不支持给Scorll From Source功能设置快捷键的，安装了这个插件就可以了 Dash程序员必备 WakaTime最好用的码农记录插件 需要配置防止记录文件名和项目名]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo nexT主题新增分类页和标签页]]></title>
    <url>%2F2017%2F03%2F30%2Fhexo-nexT-theme-add-categories-and-tags%2F</url>
    <content type="text"><![CDATA[切换到nexT主题后，默认是没有分类页和标签页的，要自己新建。 新增菜单编辑主题配置文件 hexo/themes/next/_config.yml12345678menu: home: / categories: /categories #about: /about archives: /archives tags: /tags #sitemap: /sitemap.xml #commonweal: /404.html 新建页面在终端执行 12hexo new page tagshexo new page categories 编辑分类页标签页在分类页和标签页的md文件头部加上types指明页面的类型就行了 12345---title: categoriesdate: 2017-03-30 19:32:41type: &quot;categories&quot;--- hexo/source/tags/index.md12345---title: tagsdate: 2016-07-28 17:00:34type: "tags"---]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo语言设置未生效解决办法]]></title>
    <url>%2F2017%2F03%2F30%2Fhexo-language-setting-not-effective%2F</url>
    <content type="text"><![CDATA[修改了hexo的language没有生效，可能是你没有执行hexo clean！ 在Hexo的站点配置文件中设置如下1language: zh-Hans 如下图所示网站中显示如下，很明显不是简体中文 解决方法： 先将language设置为空 执行hexo g 执行hexo clean 将language设置为想要的语言 执行hexo g 执行上述操作后如下： 注：其他语言代码如下：]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[译]Magento中的12种设计模式]]></title>
    <url>%2F2017%2F03%2F30%2F12-design-patterns-in-magento%2F</url>
    <content type="text"><![CDATA[发现一篇介绍magento的设计模式的英文文章，有空的时候翻译了一下 原文地址:http://magenticians.com/12-design-patterns-magento Magento中的架构通常被认为是过度设计了。如果从架构的角度去看Magento的代码，很容易发现它至少使用了下面介绍的的十二种设计模式。 Magento its architecture is sometimes deemed overly engineered. If we look at it from a helicopter view, commonly used design patterns are easily spotted. Here are 12 of them. 介绍给出一个需求，解决的方案有很多，设计模式便是其中的最佳方法，可以解决特定环境下的同类问题。设计模式的代码是可重复利用的，对于提高工作效率大有裨益，那从长远角度考虑，是不是应当在代码中尽可能多的使用设计模式呢？明显不是，一名优秀的软件开发者知道何时使用设计模式，并不会无的放矢。早期Magento框架中的比较出色的一点是，其中的绝大部分（甚至所有）使用的设计模式的方式都有其用意所在（画外音：说明Magento的开发者是一名优秀的软件开发者，不然本文也就没有意义了）。 本文是根据@Ryan Street的系列博文整理而得的。 Introduction A software design pattern is a reusable solution to an often occurring problem. This doesn’t mean that software is better if it has more design patterns. Instead, a good software engineer should be able to spot the problem and implement the pattern instead of introducing implementations without purpose. The earlier behavior is leadingly noticeable in Magento, where most if not all design pattern-implementations have a purpose.This is a compilation of an article-series which originally appeared on Ryan Street’s blog (@ryanstreet). 模式1：MVC简易程度：使用场景： Model-View-Controller,即模型-视图-控制器,简称MVC，应该是最广为人知的一种设计模式（大多数使用者甚至都不会将它视为设计模式）。 这是一种将业务逻辑、页面展示、逻辑分离开来的设计模式。Mageno中使用了大量的xml文件作为逻辑模板，使用pthml（混合了HTML和PHP）文件作为它的视图，剩下的模型依赖Varien的ORM。大多数的业务逻辑发生在模型中，而控制器将模型数据映射到视图，Magento的视图包含了太多的逻辑而显示很笨重，不得不通过一个专门的php类（Block类）进行渲染。 Model View Controller Pattern Model View Controller, MVC for short, is a design pattern where business, presentation and coupling logic are separated. Magento heavily utilizes XML as templating-logic and HTML mixed with PHP files for its views. Models are backed by ORM. Most business logic happens in the models whereas the controllers map the model-data to the views.Because Magento its views are “fat” – they often contain a lot of logic – its not rare that views have an additional PHP class (the Block system) which will help with rendering 模式2： 前端控制器模式简易程度：使用场景： 前端控制器模式确保有且只有一个入口。所有的请求都会先从前端控制器那里走一遭，被识别后路由分发到指定的controller，进行特定的处理。在Magento唯一一个入口文件index.php就起到了前端控制器的作用，它通过Mage::app()方法实现应用环境的初始化并将请求路由到正确的controller中。 Front Controller Pattern The front controller pattern makes sure that there is one and only one point of entry. All requests are investigated, routed to the designated controller and then processed accordingly to the specification. The front controller is responsible of initializing the environment and routing requests to designated controllers.Magento has only one point of entry (index.php) which will initialize the application environment (Mage::app()) and route the request to the correct controller. 模式3：工厂模式简易程度：使用场景：工厂模式的“工厂”二字已经充分表露了它的功能————如工厂的流水线一般统一进行类的实例化。 它被广泛应用在Magento的代码库中，负责自动加载系统。在config.xml文件中定义一个module的别名后，工厂就悄咪咪的记录了别名对应的类及类所在的位置。 Mage核心类中有很多辅助实现工厂的方法，其中的Mage::getModel()方法可以接收一个类的别名返回类的实例，如Mage::getModel(&#39;catalog/product&#39;)返回产品类Mage_Catalog_Model_Product的实例。 区别于传统的在代码中直接引入类所在文件并调用类，工厂模式以统一的方式对类进行初始化。 Factory Pattern As implied by the name, the factory pattern is responsible of factorizing (instantiating) classes. It’s widely used through the Magento code base and leverages the autoloading system in Magento. By defining an alias in a module its config.xml you are letting the factory know where it can find classes.There are various factory-helper methods in the Mage core class and one of them is getModel(). It accepts an alias for a class and will then return an instance of it. Instead of having include calls scattered through the code base, the factory pattern will instantiate classes in an uniform way. 模式4：单例模式简易程度：使用场景： 另一种获取类的实例的方法是Mage::getSingleton()，它跟Mage::getModel()方法一样接收一个类的别名，不同之处在于getSingleton在返回实例之前，会先去注册表里瞄一眼，看看这个类是否已经实例化过了，如果实例化过了，那这个实例就可以被共享了。 例如，Magento中的session对象，（如customer session或checkout session）,被储存在注册表中，可以在代码不同地方重复使用，而不要每次都重新创建 Singleton Pattern Another way to retrieve an instance of a class, is to call Mage::getSingleton(). It accepts a class alias and before returning an instance, it checks the internal registry whether this class has already been instantiated before – this results in a shared instance. An example of where this is mandatory, is the session storage which should be shared through the code base instead of creating it anew every time. 模式5：注册模式简易程度：使用场景：（进程级别的） 所有的单例都存储在内部注册表中,这是全局的存储数据的地方,而且不仅限于内部使用。下面列举的注册相关的方法可以分别实现从注册表中存储，查询，删除数据。 123Mage::register($key,$value) //存储Mage::registry() //查询Mage::unregister() //删除 这种注册表的方法通常应用于数据不能传递时的场景下，进行数据的传输。并且数据格式是key-value的格式 比如订单生成的时候register一个key，然后在sales_order_save_after事件的observer方法中通过registry读取之前register的key Registry Pattern All the singletons are stored in the internal registry: a global scoped Container for storing data. It is not only for internal use. The Mage::register($key, $value),::registry($key) and ::unregister($key) methods can be respectively used for storing, retrieving and removing data from the registry. The registry is often used for transferring data between scopes when they cannot be passed on, otherwise. 模式6：原型模式简易程度：使用场景： 原型模式是对工厂模式功能的补充,它定义类的实例可以根据其父类（原型）检索其它类的实例。 举个栗子，Mage_Catalog_Model_Product类有一个getTypeInstance方法来获取特定的类Mage_Catalog_Model_Product_Type的对象，后者包含了不适用于其它产品的一系列的方法和属性。而Mage_Downloadable_Model_Product_Type这个Downloadable产品的类又最终继承了Mage_Catalog_Model_Product_Type类。如果您正在下单并想要调用Downloadable类型产品的特定方法，则需要首先使用原始的产品类的getTypeInstance方法对其进行实例化。 Prototype Pattern Where the factory pattern (#3 on our list) stops, is where the prototype pattern continues. It defines that instances of classes can retrieve a specific other class instance depending on its parent class (the prototype). A notable example is the Mage_Catalog_Model_Product class which has a getTypeInstance method to retrieve the specificMage_Catalog_Model_Product_Type with a specific subset of methods and properties not applicable to all products.For example, the Mage_Downloadable_Model_Product_Type ultimately extends the Mage_Catalog_Model_Product_Type. If you are iterating over an order and want to call a specific method of a downloadable product, you will need to factorize it first with the getTypeInstance method of the original product. 模式7：对象池模式简易程度：使用场景：对象池模式只是一个包含对象的集合，防止它们一次又一次被分配和销毁。 在Magento中，对象池模式并不常见，只会在处理严重影响服务器性能的重任务时被使用，例如批量导入产品的时候。 可以使用Mage::objects（）方法访问对象池（由Varien_Object_Cache类管理） Object Pool Pattern The object pool pattern is simply a box with objects so that they do not have to be allocated and destroyed over and over again. It’s not used a lot in Magento other than for heavy tasks where resources can get limited soon, like importing products. The object pool (managed by Varien_Object_Cache) can be accessed with Mage::objects(). 模式8 迭代器模式简易程度：使用场景：迭代器模式定义了一个公共方法来遍历具有对象的结合。 在Magento中，这是由Varien_Data_Collection类实现的，它依次使用各种baked-in的PHP类（如ArrayIterator）来为数组提供更多的OO接口。这样可以确保模型集合始终具有一个通用的API来遍历，而不依赖于实际的模型。 Iterator Pattern The iterator pattern defines that there is a shared way to iterate over a container with objects. In Magento, this is handled by the Varien_Data_Collection which on its turn uses various baked-in PHP classes (like ArrayIterator) for having a more OO-interface to arrays. This ensures that model-collections will always have a common API to iterate over without being dependent of the actual models. 模式9：延迟加载模式简易程度：使用场景： 延迟加载确保加载数据被延迟到实际需要的时间点,这导致更少的资源利用。 Magento的延迟加载行为之一就是collection集合。如果使用Mage::getModel（&#39;catalog/product&#39;)-&gt;getCollection()获取产品collection时，并没有操作数据库。只有当load之后，遍历collection中的product对象或者查询collection的数量时，才会对数据库进行读写操作。 Lazy Loading Pattern Lazy loading ensures that loading data is delayed until the point when it is actually needed. This results in less resources being used. One of the lazy loading behaviors of Magento is that of collections. If you were to retrieve a collection of products with Mage::getModel(‘catalog/product’)-&gt;getCollection(), the database will only be touched when you actually access the collection by, for example, iterating over it or retrieving the count of models found. 模式10：服务定位器模式简易程度：使用场景： 服务定位器模式抽取某个服务的检索。它遵守其抽象基础，可以在不破坏任何东西的情况下改变服务，而且可以看到适合其目的的服务。例如，Ryan的数据库连接。 另一个例子是Magento的缓存机制，通过Mage::getCache()存储缓存，Mage::getCache()是由Zend或其他供应商提供的缓存存储的代理服务定位器。 再如，队列的实现 Service Locator Pattern The service locator pattern abstracts away the retrieval of a certain service. This allows for changing the service without breaking anything (as it adheres to its abstract foundation) but also fetching the service as seen fit for its purpose.Ryan exemplifies this with database connections. Another example is that of Magento its caching mechanism where Mage::getCache() is a service locator by-proxy for the cache storage supplied by Zend or other vendors. 模式11：模块模式简易程度：使用场景： 任何熟悉Magento开发的人都会很自然的接触模块模式。它基本上定义了不同的功能被分组成独立的模块，它们彼此独立，并且可以根据需要插入到Magento主系统中。在理想情况下，模块模式的实现将确保每个元素都可以被删除或交换。 PHP中模块模式的主角之一是Composer软件包管理器。虽然Magento严重依赖于模块化架构，但它并不是模块化的。某些功能与核心密切相关，不能轻易改变。还大量使用超全局的Mage核心类，引入了各种不受监管的系统级依赖关系。 Module Pattern Anyone familiar with Magento development has stumbled upon the module pattern. It basically defines that different domains are grouped into separate modules which function independent of each other and can be plugged-in to the main system as deemed appropriate. In an ideal situation, an implementation of the module pattern would make sure that each element can be removed or swapped. One of the protagonists of the module pattern in PHP is the Composer package manager.Though Magento heavily relies on a modular architecture, its not modular to the bone. Certain functionality is heavily tied to the core and can not be easily changed. There is also the heavy usage of the super-global Mage core-class which introduces all sorts of system-wide dependencies not easily overseen. 模式12：观察者模式简易程度：使用场景： Magento的事件驱动架构是实现观察者模式的结果。通过定义观察者（或监听者），可以挂接额外的代码，随着观察到的事件触发，这些代码将被调用。 Magento使用config.xml存储并定义观察者。使用Mage::dispatchEvent（$eventName，$data）触发事件，eventName是事件名，data是参数。事件触发后会将查询数据存储，并触发相应的$event观察者。除了使用模块之外，还可以使用事件来定制现有的逻辑，而不用接触现有的代码。 举个栗子，下单完成后发送邮件通知用户，不需要将写邮件的代码跟下单的代码写在一起，只要下单完成后触发事件sales_order_save_after,在config.xml中定义sales_order_save_after事件的观察者，然后在观察者方法中写相应的发送邮件的代码 Observer Pattern Magento its event-driven architecture is a result of an implementation of the observer pattern. By defining observers (or listeners), extra code can be hooked which will be called upon as the observed event fires. Magento uses its XML-data storage to define observers. If an event is fired with Mage::dispatchEvent($eventName, $data), the data storage will be consulted and the appropriate observers for $event will be fired.In addition to using modules, events can be used to customize existing logic without touching the existing code.]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
        <tag>设计模式</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[magento]Order对象的save方法执行哪些操作？]]></title>
    <url>%2F2017%2F03%2F30%2Fwhat-does-magento's-order-model-save-function-do%2F</url>
    <content type="text"><![CDATA[保存订单对象时除了更新sales_flat_order表，还会执行下面的一坨子方法： _beforeSave方法 _afterSave方法 order_save_after事件 before save 检查state 设置店名 设置订单号 magento自带的通过对象的方式生成订单号的做法影响下单时的性能，可以通过redis的方式自动生成订单号 设置item数量 设置用户id 设置账单地址 设置物流地址 app/code/core/Mage/Sales/Model/Order.php123456789101112131415161718192021222324252627282930313233343536373839404142434445464748protected function _beforeSave() &#123; parent::_beforeSave();//触发model_save_before和core_abstract_save_before事件 $this-&gt;_checkState();//检查state，注1 if (!$this-&gt;getId()) &#123;//新建订单设置store名称 $store = $this-&gt;getStore(); $name = array($store-&gt;getWebsite()-&gt;getName(),$store-&gt;getGroup()-&gt;getName(),$store-&gt;getName()); $this-&gt;setStoreName(implode("\n", $name)); &#125; if (!$this-&gt;getIncrementId()) &#123;//没有订单号 $incrementId = Mage::getSingleton('eav/config') -&gt;getEntityType('order') -&gt;fetchNewIncrementId($this-&gt;getStoreId());//生成订单号，注2 $this-&gt;setIncrementId($incrementId);//设置订单号 &#125; /** * Process items dependency for new order */ if (!$this-&gt;getId()) &#123; $itemsCount = 0; foreach ($this-&gt;getAllItems() as $item) &#123; $parent = $item-&gt;getQuoteParentItemId(); if ($parent &amp;&amp; !$item-&gt;getParentItem()) &#123; $item-&gt;setParentItem($this-&gt;getItemByQuoteItemId($parent)); &#125; elseif (!$parent) &#123; $itemsCount++; &#125; &#125; // Set items count $this-&gt;setTotalItemCount($itemsCount); &#125; if ($this-&gt;getCustomer()) &#123; $this-&gt;setCustomerId($this-&gt;getCustomer()-&gt;getId()); &#125; if ($this-&gt;hasBillingAddressId() &amp;&amp; $this-&gt;getBillingAddressId() === null) &#123; $this-&gt;unsBillingAddressId(); &#125; if ($this-&gt;hasShippingAddressId() &amp;&amp; $this-&gt;getShippingAddressId() === null) &#123; $this-&gt;unsShippingAddressId(); &#125; $this-&gt;setData('protect_code', substr(md5(uniqid(mt_rand(), true) . ':' . microtime(true)), 5, 6)); return $this; &#125; 其中，checkState方法有一个注意事项：如果订单实付金额为0（使用了优惠券等情况下），订单的state不是canceled，也不是complete，那么就会被置为closed app/code/core/Mage/Sales/Model/Order.php1234567891011121314151617181920212223242526272829303132333435protected function _checkState() &#123; if (!$this-&gt;getId()) &#123;//新建的订单下面的代码不会生效 return $this; &#125; $userNotification = $this-&gt;hasCustomerNoteNotify() ? $this-&gt;getCustomerNoteNotify() : null;//通知顾客 if (!$this-&gt;isCanceled() &amp;&amp; !$this-&gt;canUnhold() &amp;&amp; !$this-&gt;canInvoice() &amp;&amp; !$this-&gt;canShip()) &#123; if (0 == $this-&gt;getBaseGrandTotal() || $this-&gt;canCreditmemo()) &#123; if ($this-&gt;getState() !== self::STATE_COMPLETE) &#123; $this-&gt;_setState(self::STATE_COMPLETE, true, '', $userNotification); &#125; &#125; /** * Order can be closed just in case when we have refunded amount. * In case of "0" grand total order checking ForcedCanCreditmemo flag */ elseif (floatval($this-&gt;getTotalRefunded()) || (!$this-&gt;getTotalRefunded() &amp;&amp; $this-&gt;hasForcedCanCreditmemo()) ) &#123; if ($this-&gt;getState() !== self::STATE_CLOSED) &#123; $this-&gt;_setState(self::STATE_CLOSED, true, '', $userNotification); &#125; &#125; &#125; if ($this-&gt;getState() == self::STATE_NEW &amp;&amp; $this-&gt;getIsInProcess()) &#123; $this-&gt;setState(self::STATE_PROCESSING, true, '', $userNotification); &#125; return $this; &#125; after saveapp/code/core/Mage/Sales/Model/Order.php123456789101112131415161718192021222324252627282930313233343536protected function _afterSave() &#123; if (null !== $this-&gt;_addresses) &#123; $this-&gt;_addresses-&gt;save(); $billingAddress = $this-&gt;getBillingAddress(); $attributesForSave = array(); if ($billingAddress &amp;&amp; $this-&gt;getBillingAddressId() != $billingAddress-&gt;getId()) &#123; $this-&gt;setBillingAddressId($billingAddress-&gt;getId()); $attributesForSave[] = 'billing_address_id'; &#125; $shippingAddress = $this-&gt;getShippingAddress(); if ($shippingAddress &amp;&amp; $this-&gt;getShippigAddressId() != $shippingAddress-&gt;getId()) &#123; $this-&gt;setShippingAddressId($shippingAddress-&gt;getId()); $attributesForSave[] = 'shipping_address_id'; &#125; if (!empty($attributesForSave)) &#123; $this-&gt;_getResource()-&gt;saveAttribute($this, $attributesForSave); &#125; &#125; if (null !== $this-&gt;_items) &#123; $this-&gt;_items-&gt;save(); &#125; if (null !== $this-&gt;_payments) &#123; $this-&gt;_payments-&gt;save(); &#125; if (null !== $this-&gt;_statusHistory) &#123; $this-&gt;_statusHistory-&gt;save(); &#125; foreach ($this-&gt;getRelatedObjects() as $object) &#123; $object-&gt;save(); &#125; return parent::_afterSave(); //触发model_save_after和core_abstract_save_after事件 &#125; 监控sales_order_save_after事件 最后，真爱生命，远离magento]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[magento]Order对象的cancel方法会执行哪些操作？]]></title>
    <url>%2F2017%2F03%2F29%2Fwhat-does-magento's-order-model-cancel-function-do%2F</url>
    <content type="text"><![CDATA[用户下单未付款，用户付款后申请取消，…，这些场景时我们需要取消magento中生成的订单，取消的方式如下： 12$order-&gt;cancel();//取消普通订单$order-&gt;cancelPaidOrder();//取消已付款订单 这种对象的方法实现的具体方式是怎样的呢？ 以cancel方法为例，cancelPaidOrder方法类似： 取消订单1$order-&gt;cancel(); cancel方法app/code/core/Mage/Sales/Model/Order.php1234567891011public function cancel() &#123; if ($this-&gt;canCancel()) &#123; //判断订单是否可以取消 $this-&gt;getPayment()-&gt;cancel();//取消订单 $this-&gt;registerCancellation();//修改订单表数据，取消item Mage::dispatchEvent('order_cancel_after', array('order' =&gt; $this));//抛出order_cancel_after事件 &#125; return $this; &#125; registerCancellation方法处理order表和item表的数据app/code/core/Mage/Sales/Model/Order.php123456789101112131415161718192021222324public function registerCancellation($comment = '', $graceful = true) &#123; if ($this-&gt;canCancel() || $this-&gt;isPaymentReview()) &#123; $cancelState = self::STATE_CANCELED; foreach ($this-&gt;getAllItems() as $item) &#123; if ($cancelState != self::STATE_PROCESSING &amp;&amp; $item-&gt;getQtyToRefund()) &#123; if ($item-&gt;getQtyToShip() &gt; $item-&gt;getQtyToCancel()) &#123; $cancelState = self::STATE_PROCESSING; &#125; else &#123; $cancelState = self::STATE_COMPLETE; &#125; &#125; $item-&gt;cancel(); //订单中的每件商品都要通过item对象的cancel方法处理一遍 &#125; $this-&gt;setSubtotalCanceled($this-&gt;getSubtotal() - $this-&gt;getSubtotalInvoiced());//以下是给order表中跟取消订单相关的字段赋值 ... ... $this-&gt;setBaseTotalCanceled($this-&gt;getBaseGrandTotal() - $this-&gt;getBaseTotalPaid()); $this-&gt;_setState($cancelState, true, $comment);//设置订单的状态 &#125; elseif (!$graceful) &#123; Mage::throwException(Mage::helper('sales')-&gt;__('Order does not allow to be canceled.')); &#125; return $this; &#125; item对象的cancel方法app/code/core/Mage/Sales/Model/Order/Item.php12345678910111213141516public function cancel() &#123; if ($this-&gt;getStatusId() !== self::STATUS_CANCELED) &#123; Mage::dispatchEvent('sales_order_item_cancel', array('item'=&gt;$this));//抛出sales_order_item_cancel事件,事件的参数是item对象 $this-&gt;setQtyCanceled($this-&gt;getQtyToCancel());//以下是给item表中跟取消item相关的字段赋值 $this-&gt;setTaxCanceled( $this-&gt;getTaxCanceled() + $this-&gt;getBaseTaxAmount() * $this-&gt;getQtyCanceled() / $this-&gt;getQtyOrdered() ); $this-&gt;setHiddenTaxCanceled( $this-&gt;getHiddenTaxCanceled() + $this-&gt;getHiddenTaxAmount() * $this-&gt;getQtyCanceled() / $this-&gt;getQtyOrdered() ); &#125; return $this; &#125; 监控sales_order_item_cancel事件，触发商品还库存操作app/code/core/Mage/CatalogInventory/etc/config.xml12345678&lt;sales_order_item_cancel&gt; &lt;observers&gt; &lt;inventory&gt; &lt;class&gt;cataloginventory/observer&lt;/class&gt; &lt;method&gt;cancelOrderItem&lt;/method&gt; &lt;/inventory&gt; &lt;/observers&gt; &lt;/sales_order_item_cancel&gt; Mage_CatalogInventory_Model_Observer类的refundOrderInventory方法还item库存：app/code/core/Mage/CatalogInventory/Model/Observer.php12345678910111213141516171819202122232425262728293031323334353637/** * Return creditmemo items qty to stock * * @param Varien_Event_Observer $observer */ public function refundOrderInventory($observer) &#123; /* @var $creditmemo Mage_Sales_Model_Order_Creditmemo */ $creditmemo = $observer-&gt;getEvent()-&gt;getCreditmemo(); $items = array(); foreach ($creditmemo-&gt;getAllItems() as $item) &#123; /* @var $item Mage_Sales_Model_Order_Creditmemo_Item */ $return = false; if ($item-&gt;hasBackToStock()) &#123; if ($item-&gt;getBackToStock() &amp;&amp; $item-&gt;getQty()) &#123; $return = true; &#125; &#125; elseif (Mage::helper('cataloginventory')-&gt;isAutoReturnEnabled()) &#123; $return = true; &#125; if ($return) &#123; $parentOrderId = $item-&gt;getOrderItem()-&gt;getParentItemId(); /* @var $parentItem Mage_Sales_Model_Order_Creditmemo_Item */ $parentItem = $parentOrderId ? $creditmemo-&gt;getItemByOrderId($parentOrderId) : false; $qty = $parentItem ? ($parentItem-&gt;getQty() * $item-&gt;getQty()) : $item-&gt;getQty(); if (isset($items[$item-&gt;getProductId()])) &#123; $items[$item-&gt;getProductId()]['qty'] += $qty; &#125; else &#123; $items[$item-&gt;getProductId()] = array( 'qty' =&gt; $qty, 'item' =&gt; null, ); &#125; &#125; &#125; Mage::getSingleton('cataloginventory/stock')-&gt;revertProductsSale($items); &#125; Mage_CatalogInventory_Model_Stock类的revertProductsSale方法app/code/core/Mage/CatalogInventory/Model/Stock.php123456public function revertProductsSale($items) &#123; $qtys = $this-&gt;_prepareProductQtys($items); $this-&gt;_getResource()-&gt;correctItemsQty($this, $qtys, '+'); return $this; &#125; Mage_CatalogInventory_Model_Resource_Stock类的correctItemsQty方法app/code/core/Mage/CatalogInventory/Model/Resource/Stock.php123456789101112131415161718192021222324252627public function correctItemsQty($stock, $productQtys, $operator = '-') &#123; if (empty($productQtys)) &#123; return $this; &#125; $adapter = $this-&gt;_getWriteAdapter(); $conditions = array(); foreach ($productQtys as $productId =&gt; $qty) &#123; $case = $adapter-&gt;quoteInto('?', $productId); $result = $adapter-&gt;quoteInto("qty&#123;$operator&#125;?", $qty); $conditions[$case] = $result; &#125; $value = $adapter-&gt;getCaseSql('product_id', $conditions, 'qty'); $where = array( 'product_id IN (?)' =&gt; array_keys($productQtys), 'stock_id = ?' =&gt; $stock-&gt;getId() ); $adapter-&gt;beginTransaction();//用事物的方法批量修改 cataloginventory_stock_item库存表中的库存数量 $adapter-&gt;update($this-&gt;getTable('cataloginventory/stock_item'), array('qty' =&gt; $value), $where); $adapter-&gt;commit(); return $this; &#125; ps:此处还库存有个坑，当并发量高的时候，会出现多次还库存的情况，建议通过redis的方式在此处加锁 监控order_cancel_after事件无，默认代码不会触发任何事件，可以自定义事件 比如订单取消后记录日志等 最后，珍爱生命，远离magento]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[PHP ERROR]:Arrays are not allowed in class constants]]></title>
    <url>%2F2017%2F03%2F27%2FPHP-ERROR-Arrays-are-not-allowed-in-class-constants%2F</url>
    <content type="text"><![CDATA[FastCGI sent in stderr: “PHP message: PHP Fatal error: Arrays are not allowed in class constants in xxxxx on line xx” while reading response header from upstream 错误原因：PHP5.6以下的版本不支持在常量中定义数组（当时我们线上的php版本是5.4）解决方案： 升级php版本 不在常量中定义数组 php5.6引入的新功能有： 可以使用表达式定义常量 使用 … 运算符定义变长参数函数 使用 ** 进行幂运算 use function 以及 use const 加入 hash_equals() 函数，以恒定的时间消耗来进行字符串比较，以避免时序攻击 加入 __debugInfo()]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Software List - IOS]]></title>
    <url>%2F2017%2F03%2F13%2Fios-software-list%2F</url>
    <content type="text"><![CDATA[列举个人使用的ios软件。 必备 Gboard  Google应用自带输入法 工作 网易邮箱大师  Mail  系统自带的邮件客户端 生活 财禅  记账软件，非常好用，支持为每笔支出建立tag，按tag或者日期统计 随手记 在线记账软件 即刻`  消息推送，选择感兴趣的话题即可获得推送 微博国际版  无广告版微博 花生地铁WiFi  哔哩哔哩 这还用说 豆瓣 查询电影、书籍，改版后好用了很多 Inoreader 免费RSS阅读 Reeder RSS阅读，支持包括inoreader在内的多项服务 Google相册 自动备份相册，智能！！！ 学习 五十音图  效率 Todolist  代办任务列表 微习惯  给自己建一些每日要完成的任务，每完成一项可以打卡，有助于培养良好的习惯 Today 习惯养成工具，单个任务可以多次签到，适用于上下班打卡等场景 Day One  日记，支持Mac同步，iphone买断，mac订阅 奇妙清单 清单工具，支持Mac同步 Workflow 工具流工具，2017年3月23日被苹果收购后免费，后更名捷径 LastPass Pin 锤子便签 自带截长图工具 bear 笔记 Evernote 游戏 三国杀OL  皇室战争  炉石传说  王者荣耀  阴阳师  龙之谷  工具 Clocks Calcbot 小米计算器 可以计算亲戚称呼 雨时 小历 微软识花 照片扫描仪 微软出品，将纸质照片识别成电子相片 Wingy 梯子工具 Picsew 长图工具]]></content>
      <categories>
        <category>Software</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Lua学习笔记]]></title>
    <url>%2F2017%2F01%2F03%2Flua-study-note%2F</url>
    <content type="text"><![CDATA[开始学习Lua啦。学会了就可以去搭建openApi平台 n(≧▽≦)n Lua快，LuaJIT更快 用源码的方式安装LuaJIT 2.1版本，虽然是beta版本，但是比正式版本的2.0的效率高 安装好Lua后运行ln -sf luajit-2.1.0-beta1 /usr/local/bin/luajit才能在命令行使用luajit命令 type()方法显示变量类型 nil表示空类型 boolean:0和false为假，其他为真 除单引号、双引号外可以用长括号的方式定义字符串,[[0级,[=[1级,[==[2级 字符串会内化（intern）,值相同的字符串存储在相同的地址中，比较两个字符串值是否相同即比较他们的地址是否一致 函数也是一种数据类型，有名函数的定义本质上是匿名函数对变量的赋值 ^指数 ~=不等于 a and b a为nil返回a,否则返回b a or b a为nil返回b,否则返回a 不要在循环中进行大量的字符串的拼接，会生成很多新的字符串，用table和table.contact代替，或使用table.new ..用来进行字符串的拼接 elseif和else if不同，else if表示在else中嵌套了if while语句有break，没有continue；没有do-while，有repeat repeat-until直到条件为真时结束 for var=begin,finish(,step) do step可省略,默认为1，不想设置上限时，可以让finish=math.huge for i,v in ipairs(array) do 通过迭代器ipairs遍历数组中的值 其他迭代器包括：io.lines迭代文件中的每行;pairs迭代table元素；string.gmatch迭代字符串 ipairs()可以被JIT编译，pairs()只能被解释执行。在性能敏感的场景，避免对表遍历 return只能写在语句块的最后，一旦执行了return语句，该语句之后的所有语句都不会再执行 全局变量会污染全局变量空间，有性能损耗，尽量使用局部变量和局部函数：local]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>lua</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[常用sql操作]]></title>
    <url>%2F2016%2F10%2F28%2Fsome-sql%2F</url>
    <content type="text"><![CDATA[几个sql操作 统计查询结果的数量 1select count(*) from table 查询时间时加8小时 1select * from table where date_add(time,interval 8 hour)&gt; '2016-10-01 10:00:00' 修改字段属性 12alter table `&#123;$installer-&gt;getTable('memebox_auth/device')&#125;` modify `device_id` varchar(256); 联合查询join 1select * from A left join B on A.id=B.id where A.ctime&gt;'2016-01-01' and B.status=0 分组group by 1select status,count(*) from order group by status]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ios\macOs技巧]]></title>
    <url>%2F2016%2F10%2F27%2Fios-and-mac-skills%2F</url>
    <content type="text"><![CDATA[随便提几个苹果电脑和手机的一些快捷键和小技巧 快捷键 快速打开文件 comm + o 在finder中显示隐藏文件 comm + shift + . 重命名文件 enter 打开任务管理器 comm + option + esc 显示文件简介 comm+i 隐藏除当前窗口之外的其他窗口 comm+option+h 打出苹果logo  option+shift+k 小技巧 修改文件默认打开方式：显示文件简介后，选择打开方式，选择全部更改 触发角路径：系统偏好设置 - 桌面与屏幕保护设置 - 触发角 可以设置光标移动到四个角落时触发的动作，如下图的设置，当光标移动到左下角的时候自动触发屏幕保护并锁定电脑 为了防止误操作，可以在设置的时候可以按住command、option、shift、ctrl辅助键，设置联合热键，如图只有当按住option键并将光标移动到右下角才会触发回到桌面 safari浏览器标签右侧的+ 长按可以显示最近打开的一批页面 按F1 F2GoSublime调节亮度或者F11 F12调节音量的时候，同时按shift+option键，可以一次只调节原来1/4 按住command键可以拖动菜单栏图标的问题 按住option键点击菜单栏上的通知中心图标可以关闭通知，重复操作开启通知 设置纯黑壁纸后， macOS 自带了一个暗色主题，打开「系统偏好设置 / 通用」勾选「使用暗色菜单栏与 Dock] 从官网下载的网易云播放器可以通过F7 F8 F9控制音乐播放 iphone技巧 手机插上自带的耳机并打开相机时，可是将耳机的音量键当快门使用 时钟 - 计时器可以设置到时间关闭音乐播放 2018-10-15补充： mac中需要插入图片时，可以通过iphone拍照插入 mac和iphone可以公用剪贴板 mac中需要输入手机验证码时，可以通过imessage自动填写]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento中查看某一段代码生成的sql]]></title>
    <url>%2F2016%2F10%2F27%2Fmagento-inspect-sql-of-specific-code%2F</url>
    <content type="text"><![CDATA[查看一段代码运行期间执行的sql语句便于查看sql性能 使用magento自带的读写适配器操纵数据库的时候，会调用lib/Zend/Db/Adapter/Abstract.php文件中的query方法,在query方法中将sql语句记入日志​12345public function query($sql, $bind = array())&#123;Mage::log($sql,null,'jim.log');//记日志&#125; 同时，在待测试的代码前后都加上标记，同样记入日志中 123456public function test()&#123; Mage::log('----------test sql start--------------',null,'jim.log'); $a = Mage::helper('test')-&gt;testSql(); //待测试代码 Mage::log('----------test sql end--------------',null,'jim.log');&#125; 最后运行程序后，打开日志文件jim.log查看test sql start和test sql end之间的sql语句，即为测试代码执行的sql语句]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[译]给用户grid表增加新的column]]></title>
    <url>%2F2016%2F08%2F29%2Fmagento-add-column-of-grid-table%2F</url>
    <content type="text"><![CDATA[来源：http://magento.stackexchange.com/questions/5973/adding-columns-to-customer-grid-using-observer-or-overriding-the-customer-grid 为了给用户grid新增一个column，需要重写block：Mage_Adminhtml_Block_Customer_Grid，并覆写block里的两个方法：​ - _prepareCollection：添加你的属性到collection中​ - _prepareColumns：添加column到grid中 新建模块并配置先新建一个模块Easylife_Customer,修改app/etc/module/Easylife_Customer.xml12345678910111213&lt;?xml version="1.0"?&gt;&lt;config&gt; &lt;modules&gt; &lt;Easylife_Customer&gt; &lt;active&gt;true&lt;/active&gt; &lt;codePool&gt;local&lt;/codePool&gt; &lt;depends&gt; &lt;Mage_Customer /&gt;&lt;!-- 添加的模块依赖该核心模块 --&gt; &lt;Mage_Adminhtml /&gt;&lt;!-- 添加的模块依赖该核心模块 --&gt; &lt;/depends&gt; &lt;/Easylife_Customer&gt; &lt;/modules&gt;&lt;/config&gt; 修改配置文件app/code/local/Easylife/Customer/etc/config.xml1234567891011121314151617&lt;?xml version="1.0"?&gt;&lt;config&gt; &lt;modules&gt; &lt;Easylife_Customer&gt; &lt;version&gt;0.0.1&lt;/version&gt; &lt;/Easylife_Customer&gt; &lt;/modules&gt; &lt;global&gt; &lt;blocks&gt; &lt;adminhtml&gt; &lt;rewrite&gt; &lt;customer_grid&gt;Easylife_Customer_Block_Adminhtml_Customer_Grid&lt;/customer_grid&gt;&lt;!-- 用我们自己建立的Easylife_Customer_Block_Adminhtml_Customer_Grid覆写原有的用户block --&gt; &lt;/rewrite&gt; &lt;/adminhtml&gt; &lt;/blocks&gt; &lt;/global&gt;&lt;/config&gt; 编辑block文件app/code/local/Easylife/Customer/Block/Adminhtml/Customer/Grid.php12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&lt;?phpclass Easylife_Customer_Block_Adminhtml_Customer_Grid extends Mage_Adminhtml_Block_Customer_Grid&#123; /** * 覆写_prepareCollection方法新增一个属性到collection中 * @return $this */ protected function _prepareCollection()&#123; $collection = Mage::getResourceModel('customer/customer_collection') -&gt;addNameToSelect() -&gt;addAttributeToSelect('email') -&gt;addAttributeToSelect('created_at') -&gt;addAttributeToSelect('group_id') //如果你要添加的属性是用户自身的属性，那么用下面的语句 -&gt;addAttributeToSelect('mobile') //如果你要添加的属性是用户地址表中的，参考下面的语句 //-&gt;joinAttribute('mobile', 'customer_address/mobile', 'default_billing', null, 'left') -&gt;joinAttribute('billing_postcode', 'customer_address/postcode', 'default_billing', null, 'left') -&gt;joinAttribute('billing_city', 'customer_address/city', 'default_billing', null, 'left') -&gt;joinAttribute('billing_telephone', 'customer_address/telephone', 'default_billing', null, 'left') -&gt;joinAttribute('billing_region', 'customer_address/region', 'default_billing', null, 'left') -&gt;joinAttribute('billing_country_id', 'customer_address/country_id', 'default_billing', null, 'left'); $this-&gt;setCollection($collection); //下面是替换了原有的parent::_prepareCollection的代码，原有的代码是调用了Mage_Adminhtml_Block_Customer_Grid的父类即Mage_Adminhtml_Block_Widget_Grid中的代码 //直接调用 parent::_prepareCollection 会使得上面的代码失效。 //而你又不能用这种语法来调用父类的父类的方法 parent::parent::_prepareCollection()，所以就只能将代码整个copy到此处 if ($this-&gt;getCollection()) &#123; $this-&gt;_preparePage(); $columnId = $this-&gt;getParam($this-&gt;getVarNameSort(), $this-&gt;_defaultSort); $dir = $this-&gt;getParam($this-&gt;getVarNameDir(), $this-&gt;_defaultDir); $filter = $this-&gt;getParam($this-&gt;getVarNameFilter(), null); if (is_null($filter)) &#123; $filter = $this-&gt;_defaultFilter; &#125; if (is_string($filter)) &#123; $data = $this-&gt;helper('adminhtml')-&gt;prepareFilterString($filter); $this-&gt;_setFilterValues($data); &#125; else if ($filter &amp;&amp; is_array($filter)) &#123; $this-&gt;_setFilterValues($filter); &#125; else if(0 !== sizeof($this-&gt;_defaultFilter)) &#123; $this-&gt;_setFilterValues($this-&gt;_defaultFilter); &#125; if (isset($this-&gt;_columns[$columnId]) &amp;&amp; $this-&gt;_columns[$columnId]-&gt;getIndex()) &#123; $dir = (strtolower($dir)=='desc') ? 'desc' : 'asc'; $this-&gt;_columns[$columnId]-&gt;setDir($dir); $this-&gt;_setCollectionOrder($this-&gt;_columns[$columnId]); &#125; if (!$this-&gt;_isExport) &#123; $this-&gt;getCollection()-&gt;load(); $this-&gt;_afterLoadCollection(); &#125; &#125; return $this; &#125; /** * 覆写_prepareColumns方法在email列后面新增一列 * 如果你想要改变新增列的位置，那么直接修改addColumnAfter方法的第三个参数就好了 */ protected function _prepareColumns()&#123; $this-&gt;addColumnAfter('mobile', array( 'header' =&gt; Mage::helper('customer')-&gt;__('Mobile'), 'index' =&gt; 'mobile' ),'email'); return parent::_prepareColumns(); &#125;&#125;]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SoftWare List - Mac]]></title>
    <url>%2F2016%2F08%2F16%2Fmac-software-list%2F</url>
    <content type="text"><![CDATA[列举一些个人使用的mac软件更新时间：2017年3月13日14:41更新内容：增加部分软件，并给软件打分 装机必备 LastPass  从此只要记住一个密码 Xee3  比系统自带图片浏览效果更佳,可以直接查看下一张图片 The Unarchiver  免费解压 Appcleaner  免费软件卸载 PDF Expert  PDF阅读工具，收费 Folx  下载工具 Evernote  云笔记，配合浏览器的剪裁插件，一键保存网页内容到笔记本中，有移动版本 Quiver  必装，程序员必备知识库整理工具 支持markdown语法，暂时没有移动端(破解版bug比较多) iTools  管理iphone工具 Mail  自带的邮件客户端 ShadowsocksX  必装,科学上网工具 f.lux  自动调节屏幕亮度 XCode  基础工具 开发工具 SourceTree  必装，git客户端 github desktop git客户端 Cornerstone  svn客户端 Sequel Pro  免费数据库管理工具 Navicat Premium  prosql数据库管理工具 Chrome  开发最佳浏览器（之一）必装插件 Charles 必备，抓包工具 Dash  收费开发参考手册，并且能与各种浏览器整合 devdocs  helloSwift推荐的Dash替代产品，免费 Gas Mask  管理hosts文件,最新版本系统不支持 iHosts  hosts管理工具 switchHosts  hosts管理工具，可以分组，我在用的 iThoughtsX  思维导图，收费 MindNode  思维导图工具，收费 Process On  在线制作流程图工具,免费，有次数限制，邀请好友可以增加次数 OmniGraffle 流程图制作，贼好用 postman  模拟post请求 Cocoa Rest Client DiffMerge  免费的代码比对工具,基本够用 Beyond Compare  代码比对 Medis  收费的redis交互软件 redis desk manager  免费的可视化redis工具，缺点是在mac系统容易crash，可能跟我用的是破解有关系 服务 php 系统自带了5.3版本的php，可以删除掉安装自己想要的版本，也可以安装多个版本 nginx/apache 系统自带了apache，启用即可，未默认安装nginx，需要手动安装 mysql homebrew/homebrew-cask 必备，用homebrew来安装常用的服务如php等，用homebrew-cask安装软件，运行一句命令行即可安装 效率 Quitter  自动隐藏或关闭闲置的窗口 spotlight  系统自带，启动软件，查找文件 Alfred  Spotlight替代，快速启动软件，workflow功能。（注：免费版够用了，没有workflow功能也能接受） 重点推荐以下workflow，可以自己google到扩展包 一是,b,可以直接在Alfred搜索chrome浏览器的书签 二是markdown image可以将剪贴板中的截图文件上传到七牛云，并转换为markdown可用的图片链接 此插件可以用U图床代替 三是Dash插件 直接dash+你要搜索的关键字 Yoink  收费，临时存放文件 Paste  收费，记录剪切历史，随时调用之前剪切的内容，甚至可以搜索你之前剪切的内容 PopClip  收费，选择文字会自动弹出菜单，提供复制、粘贴、保存到印象笔记等各种扩展功能 Moom  收费，调节窗口大小，并实现Windows经典功能，拖动窗口到屏幕的最左边或最右边的时候会自动半屏，拖动到屏幕左上边会自动全屏 Magnet  功能跟Moom一样，免费哦 Manico  快速启动dock栏软件，其实用Alfred就够了 HyperDock  预览软件打开的窗口，拖动窗口自动半屏、全屏 uBar windows任务栏效果,不过挺贵 Bartende  收费，整理菜单栏，将不常用的菜单栏图标隐藏起来 Vanilla  类似Bartender,免费的菜单栏工具，收费升级pro aText  收费，片段工具，输入简短的别名替换成复杂的终端命令、代码片段等 textExpander 收费，没用过功能同aText,更贵 奇妙清单(WunderList)  免费，清单工具，移动端同步 todoList  任务管理，和移动端同步 todolist 在终端显示任务列表安装方式： 1homebrew install todolist RescueTime  【拯救你的时间】，顾名思义，可以记录你的软件使用习惯，看你一天工作和娱乐的时间占比是多少，程序员的话更推荐下面的插件 wakatime  免费，收费服务更强大，超强插件，程序员编程习惯统计，可以统计你在不同的编辑器或者语言上分配的时间，支持几乎所有主流的编辑器 PixelScheduler  在屏幕右侧以线条的形式显示一天的日程，限免 Go2Shell  在Finder中打开终端并进入当前项目路径,支持默认终端，不支持iterm2,按住Command的键将app拖到finder菜单栏 TermHere  在Finder中打开终端并进入当前项目路径，支持iterm2 Pocket  延迟阅读，搭配浏览器插件使用，将别人分享或自己看到的好文章保存备用 工具 Fluid  将常用的网页转化成简易app的工具，如石墨、tower、网页版微信、v2ex、豆瓣音乐等 CheatSheet  长按Command键显示当前可用的快捷键 Snip  腾讯出品的截图小工具，简单实用，可以加注释,唯一的缺点是电脑外接显示器后无法使用 Jietu  腾讯出品的另一款截图工具，支持录屏 Teampaper Snip  在用的截图工具，完美支持多显示器🖥 SnapNDrag Pro  功能强大的截图工具，会将所有的截图保存在自己生成的文件夹中并分类，不可注释，外接显示器后也能使用 Noizio  生成白噪音 Boom2  音效增强，效果一般 Gemini 2  清除重复文件 Backgrouds+火萤  动态桌面，可能导致卡顿和耗电量增加 爱壁纸HD  更换壁纸 Caffeine  超实用，暂时关闭电脑自动休眠，当你看电影或放映ppt的时候，不会屏幕突然黑掉，再次点击可以关闭此功能。打开的时候图标上的咖啡杯是满的，关闭后是空的，细节满分 Keyboard Cleaner  键盘清洁工具，打开此软件时按键不会生效，脸滚键盘也没关系，Command+Q退出 Cal Cat  在桌面显示日历，并每日更新一张猫咪的图片 Tickeys  免费，模拟机械键盘音效 Reeder  收费，RSS阅读，阅读体验极佳 Leaf  RSS阅读，限免 scrollreveal  修改mac触摸板滚动方向，享受触控板自然滚动的方便又不改变鼠标的使用习惯 Memo  在桌面显示彩色便签 音乐 iTunes+Lyricsx  苹果自带音乐播放器，可按专辑分类，加上开源的歌词工具 XLD 将flac格式转换成Apple Lossless格式，以便导入iTunes Listen1聚合音乐，聚合了多个平台：网易·虾米·QQ·酷狗·酷我 编辑器 PHPStorm  功能最齐全的PHP开发IDE IntelliJ IDEA 装了php插件相当于phpstorm，装了go插件相当于goland，适用于多语言多项目开发。 vscode  微软出品的编辑器，潜力无穷 MacVim  编辑单个文件最强大的编辑器，缺点是需要进行超多的配置 sublime  最好用的轻量级编辑器,大量插件，写md文件体验也不错![20170329149077718029401.png](mac-software-list/20170329149077718029401.png ATOM  操作习惯于sublime完全相同，更多插件，更炫酷，卸载并重装过无数次，每次用起来都有点卡，期待不卡的时候 Mou  最轻量级的markdown编辑工具，国人开发（mac系统升级到Sierra后，无法使用），曾经发起众筹后跳票 MacDown  功能同Mou,作者本人也是自认模仿的Mou，推荐使用 MWeb  编辑markdown文件 Typora  免费，不同于之前的双栏md编辑器，Typora在编辑的同时进行渲染 ~Haroopad  markdown编辑器，在左侧提示常用操作，页面更美观，升级到最新版本的mac系统之后经常不会弹出界面,暂时雪藏~ qlmarkdown  以系统自带的预览方式查看md文件 PicU  U图床，支持上传图片(gif,png)到七牛云并将md格式的链接保存在剪切板中的小工具,灰常的好用 2018-10-15：七牛测试域名过期，此软件可以下岗了 读书 kindle  手机端pc端均可下载kindle客户端，正版图书可以自动同步阅读进度 Klib  将kindle或iBooks中的标注整理到一个软件中阅读 calibre  迄今为止，见过的最强大的本地图书管理工具 其它 科学上网 Agentneo]]></content>
      <categories>
        <category>Software</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[使用atom进行php开发]]></title>
    <url>%2F2016%2F08%2F03%2Fbuild-php-develop-environment-in-atom%2F</url>
    <content type="text"><![CDATA[特点 atom一个字形容：酷，搭配active-power-mode的爆炸效果码字效果爽的不行； github打造，完美支持git 插件支持及其丰富，但最好别装太多 截止16.7.12还存在以下问题： 目前atom运行php项目时方法跳转不方便，没有sublime好用 安装太多的插件后会卡，且无法在插件列表页加载出所有的插件 更新：2017年7月21日 又重装了一次，整理了下文章 安装插件 在atom设置界面安装插件 在终端通过apm命令安装插件(推荐) 1234567apm //显示所有命令apm search package_name //查找插件apm install package_name //安装包apm uninstall package_name //卸载包apm disable package_name //暂停使用包apm enable package_name //激活包apm list //查看所有已安装包 apm换用国内源编辑~/.atom/.apmrc文件如下： 12egistry=https://registry.npm.taobao.org/strict-ssl=false 推荐插件方案一这个方案的插件都是散装的 爆炸效果 activate-power-mode 爆炸效果 自动补全 autocomplete-php 自动补全代码 autocomplete-paths 自动补全文件路径 VIM vim-mode vim-mode &amp;&amp; ex-mode vim插件，ex-mode支持使用命令行 函数列表 symboles-tree-view 显示函数列表，点击函数名跳转到代码中对应的位置 如果不设置的话默认会显示类、变量、函数等混在一起的列表，在下面的设置中隐藏掉变量和类 symboles-view 默认安装，弹窗显示索引列表，无法屏蔽变量名、类名等 终端 terminal-plus tokamak-terminal 在atom中使用终端，可设置使用iterm2 记录代码习惯 wakatime 代码错误提示 linter linter-php 代码对齐 aligner aligner-php sublimie风格小地图 minimap minimap 在编辑区域右侧展示sublime风格的小地图 minimap-find-and-replace 小地图上显示查询结果所在的位置 minimap-git-diff 小地图上显示git更改 美化 color-picker 颜色拾取 file-icons 文件标识 推荐插件方案二根据一个老外的博客介绍，可以基于PHP Integrator来安装插件原文见：PHP IDE like features for Atom setup 自定义快捷键： 123&apos;atom-text-editor&apos;: &apos;cmd-left&apos;: &apos;symbols-view:return-from-declaration&apos; &apos;cmd-right&apos;: &apos;symbols-view:go-to-declaration&apos; 注意事项 atom单击临时打开文件，双击固定打开文件； 注释用代码片段（Snippets）注释文件Atom - Snippets]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>atom</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo的yelee主题设置]]></title>
    <url>%2F2016%2F07%2F27%2Fhexo-yelee-theme-setting%2F</url>
    <content type="text"><![CDATA[yeele主题是个比较成熟的主题，基本上不需要修改源代码，安装各种插件。只修改配置文件就可以得到很好的展示效果 主题配置hexo/themes/yelee/_config.yml123456789101112131415161718menu: #主页左侧的菜单栏 主页: / 所有文章: /archives/ Hexo: /tags/hexo #在菜单栏中展示一个标签 #标签云: /tags/ #这个会报404，关闭了 关于我: /about/subnav: #主页左侧展示的社交账号，如果是网址的话要加上`https://`或`http://` Email: "mailto:email_address" GitHub: "https://github.com/16bh"duoshuo: on: true domain: jimxu #这里填入的是多说账号的shortnamefriends: # 友情链接功能 stackoverflow的magento版块: http://magento.stackexchange.com 程序员技能树: http://skill.phodal.com/#_a2b2c2dekm2_1_Name 文章置顶功能修复 参考了Netcan的这篇文章解决Hexo置顶问题]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PHPer学习JS 语法]]></title>
    <url>%2F2016%2F07%2F22%2Fjs-study-note%2F</url>
    <content type="text"><![CDATA[学习廖雪峰老师的javaScript教程笔记。 重点关注js与PHP的异同点 入门变量用var申明变量，后面跟变量名称，在方法体内不使用var申明的是全局变量，在方法体外申明的变量也是全局变量1var a = 1; 在php中申明变量在变量名前面加上$符号1$a = 1; js中可以先申明变量再赋值，php中没有创建变量的命令，变量会在首次给它赋值的时候被创建 strict模式开启strict模式后，若不使用var申明变量，浏览器会报错1'use strict'; 查看变量类型12var a = 1;console.log(typeof a); 输出结果：number 12$a =1;echo getType($a); 输出结果：integer 变量类型对比如下： 类型 js php 整数 number integer 小数 number double 字符串 string string 布尔值 boolean boolean 数组 object array ==与=====会自动转换数据类型再比较，所以比较的时候用===与PHP中功能类似 浮点数要比较两个浮点数是否相等，只能计算它们之间的差值的绝对值是否小于某个阈值 1Math.abs(1 / 3 - (1 - 2 / 3)) &lt; 0.0000001; php中同理 数组可以用array()和[]两种表示方法，跟php相同 用[]表示数组是php``5.4版本之后才有的功能 对象用{}表示对象在php中不区分对象和数组，对象被视为一维数组，也用array()及[]表示 输出 js中用alert()方法在浏览器中弹窗显示文本，console.log()方法打印输出 php中用echo()或print()方法输出字符串，不同之处在于print()输出后会返回1，而echo()输出后返回void；用print_r()和var_dump()方法输出数组,二者的区别在于var_dump()会显示变量的类型，prinr_r无法区分0与0.0或false与&#39;&#39;,如下所示： 123$values = array(0, 0.0, false, '');var_dump($values);print_r ($values); 结果为：array(4) { [0]=&gt; int(0) [1]=&gt; float(0) [2]=&gt; bool(false) [3]=&gt; string(0) “”} Array(​ [0] =&gt; 0​ [1] =&gt; 0​ [2] =&gt;​ [3] =&gt;) 字符串单引号和双引号js和php都可以用&#39;&#39;和&quot;&quot;表示字符串，都可以在&quot;&quot;中直接使用&#39;&#39;,区别在于在php中，单引号字符串中的反斜杠只能转义单引号&#39;和反斜杠\ 如下所示:1.js1234console.log('I\'m \"aaa\"!'); //输出I'm "aaa"!，跟php不同console.log('bbbb'); //输出bbbb，同phpconsole.log("'cccc'"); //输出'cccc'，同phpconsole.log("\'dddd\""); //输出'dddd"，同php 1.php12345&lt;?phpecho 'I\'m \"aaa\"!'; //输出I'm \"aaa\"!,说明单引号中无法转义双引号字符echo 'bbbb'; //输出bbbbecho "'cccc'"; //输出'cccc'echo "\'dddd\""; //输出'dddd" 字符串函数 功能 php js 字符串长度 length属性 strlen() 转大写字母 toUpperCase() strtoupper() 转小写字母 toLowerCase() strtolower() 在字符串内搜索 indexOf() strpos() 截取字符串 substring() substr() 字符串连接 +符号 .符号 substring(2,4)是从第2位截取到第4位（不包括第4位）substr(2,4)是从第2为开始截取，总共截取4位 示例：2.js1234567var a = "abCDefg";console.log(a.length); //输出7console.log(a.toUpperCase()); //输出ABCDEFconsole.log(a.toLowerCase()); //输出abcdefconsole.log(a.indexOf('e')); //输出4console.log(a.substring(2,4)); //输出CD,注意与php的不同之处console.log('a'+'b'); //输出ab 2.php12345678&lt;?php$a = "abCDefg";echo strlen($a); //输出7echo strtoupper($a); //输出ABCDEFecho strtolower($a); //输出abcdefecho strpos($a,'e'); //输出4echo substr($a,2,4); //输出CDefecho 'a'.'b'; //输出ab 数组数组函数： 功能 js php 数组长度 length属性 count() 在数组中查找 indexOf() array_search() 数组截取 slice() array_slice() 数组尾部插入元素 push() array_push(),一般不用 数组尾部删除元素 pop() array_pop() 数组头部插入元素 unshift() array_unshift() 数组头部删除元素 shift() array_shift() 数组排序 sort() sort() 删除并替换数组中指定的元素 splice() array_splice() 数组合并 concat() array_merge() 将数组中的元素用字符连接成字符串 join() implode() js中的slice(2,4)截取第2位到第4位（不包括第4位）的元素;php中的array_slice(2,4)截取第2位到第4位（包括第4位）的元素 示例：3.js12345678910111213var arr = ['b','c','e','a','d'];console.log(arr.length); //输出5console.log(arr.indexOf('e')); //输出2var arr2 = arr.slice(2,4);console.log(arr2); //输出[ 'e', 'a' ]，注意与php的不同之处arr.push('F');console.log(arr); //输出[ 'b', 'c', 'e', 'a', 'd', 'F' ]arr.pop();console.log(arr); //输出[ 'b', 'c', 'e', 'a', 'd' ]arr.unshift('A');console.log(arr); //输出[ 'A', 'b', 'c', 'e', 'a', 'd' ]arr.shift();console.log(arr); //输出[ 'b', 'c', 'e', 'a', 'd' ]arr.sort();console.log(arr); //输出[ 'a', 'b', 'c', 'd', 'e' ]arr.reverse();console.log(arr); //输出[ 'e', 'd', 'c', 'b', 'a' ]arr.splice(2,3,'f');console.log(arr); //输出[ 'e', 'd', 'f' ]console.log(arr.concat(['g','h'])); //输出[ 'e', 'd', 'f' ]console.log(arr.join('-')); //输出e-d-f 3.php1234567891011121314$arr = ['b','c','e','a','d'];echo count($arr); //输出5echo array_search('e', $arr); //输出2$arr2 = array_slice($arr,2,4);print_r($arr2); //输出[ 'e', 'a','d']，注意与php的不同之处array_push($arr,'F');print_r($arr); //输出[ 'b', 'c', 'e', 'a', 'd', 'F' ]array_pop($arr);print_r($arr); //输出[ 'b', 'c', 'e', 'a', 'd' ]array_unshift($arr,'A');print_r($arr); //输出[ 'A', 'b', 'c', 'e', 'a', 'd' ]array_shift($arr);print_r($arr); //输出[ 'b', 'c', 'e', 'a', 'd' ]sort($arr);print_r($arr); //输出[ 'a', 'b', 'c', 'd', 'e' ]rsort($arr);print_r($arr); //输出[ 'e', 'd', 'c', 'b', 'a' ]array_splice($arr,2,3,'f');print_r($arr); //输出[ 'e', 'd', 'f' ]$arr2 = array_merge($arr,['g','h']);print_r($arr2); //输出[ 'e', 'd', 'f' ]print_r(implode('-',$arr)); //输出e-d-f 对象在js和php中的区别 js中的属性，相当于php中数组的键 js中的对象是key-value的形式，而数组不是,对象中的属性可以直接用对象名.属性名进行访问 js中若属性名中包含特殊字符，需要用&#39;&#39;括起来,php中键若不为数字，也要用&#39;&#39;括起来 对象方法 功能 js php 获取对象中属性 . 下标 删除属性 delete unset() 判断属性是否存在 in in_array() 判断属性是否存在且是自身的属性 hasOwnProperty() in_array js所有的对象都继承自object对象，所以也拥有object对象的属性，如toString,若要判断一个对象自身的属性是否存在时，用hasOwnProperty()方法 示例：4.js12345678910var obj = &#123; a2:1, 'a-2':2, test:3,&#125;;console.log(obj.a2); //输出2delete obj.test;console.log(obj); //输出&#123; a2: 1, 'a-2': 2 &#125;console.log('name' in obj); //输出falseconsole.log('toString' in obj); //输出trueconsole.log(obj.hasOwnProperty('toString')); //输出false 4.php12345678910&lt;?php$obj = array( 'a2' =&gt; 1, 'a-2' =&gt; 2, 'test' =&gt; 3, );echo $obj['a2']; //输出2unset($obj['test']);var_dump($obj); //输出&#123; 'a2' =&gt; 1, 'a-2'=&gt; 2 &#125;var_dump(in_array('name',$obj)); //输出falsevar_dump(in_array('toString',$obj)); //输出false 条件与循环条件语句if-else条件语句的使用方法完全一致 js把null、undefined、0、NaN和空字符串&#39;&#39;视为false，其他值包括[ ]、{}一概视为truephp把null、0、&#39;&#39;、[ ]视为false,NaN与undefined在php没有特定意义，会视为true 循环语句for、while、do...whild、break用法二者完全一致 更便捷的遍历数组的方法，js中有for in，php中有foreach示例： 5.js1234var arr = ['a','b','c'];for(var i in arr)&#123; console.log(i+'-'+arr[i]);&#125; 运行结果：0-a1-b2-c 5.php12345&lt;?php$arr = ['a','b','c'];foreach($arr as $key =&gt; $value)&#123; echo $key.'-'.$value."\n";&#125; 运行结果：0-a1-b2-c Map、Set、iterable(ES6) 从下面开始基本上已经找不到跟php类似的地方了函数函数的定义js中没有return语句会返回undefined,php则不会 123function abs(x)&#123; ... ...&#125; 等价于 123var abs = function (x) &#123; //定义匿名函数，没有函数名，通过变量名abs调用函数 ... ... &#125;; //以分号收尾 第二种定义函数的方式只有js支持，php不支持 函数入参 arguments指向当前函数的调用者传入的所有参数12345678function add()&#123; var sum=0; for(var i=0;i&lt;arguments.length;i++)&#123; sum +=arguments[i]; &#125; return sum;&#125;console.log(add(1,2,3)); //输出6 rest(ES6)指向当前函数的调用者传入的除已定义参数外的其它参数123456789101112131415function foo(a, b, ...rest) &#123; console.log('a = ' + a); console.log('b = ' + b); console.log(rest);&#125;foo(1, 2, 3, 4, 5);// 结果:// a = 1// b = 2// Array [ 3, 4, 5 ]foo(1);// 结果:// a = 1// b = undefined// Array [] 变量提升JavaScript的函数定义有个特点，它会先扫描整个函数体的语句，把所有申明的变量“提升”到函数顶部 意思是说如果你先使用变量，再在后面申明不会报错，但是前面使用的变量值是undefined,所以要用的变量最好提前声明 123456function foo() &#123; var x = 'Hello, ' + y; alert(x); var y = 'Bob';&#125;foo(); 输出：Hello, undefined 全局作用域默认的全局对象window，全局作用域的变量和方法都被绑定为window的一个属性 123456789'use strict';var a = 3;console.log(a);console.log(window.a);function func()&#123; console.log('test');&#125;func();window.func(); 输出：33testtest 块级作用域let比var的作用范围小，可以只在if、for的代码块中生效 变量的作用域：全局变量 &gt; 成员变量 &gt; 块级变量 s ES6可以用const声明常量用var来申明常量，属于一种约定,意思是告诉别人我申明的是一个常量，但修改它的值不会报错 如果常量是用const申明的话，修改它的值会报错 this函数内部this指向如果以对象的方法形式调用，如object.func(),那么func()方法中的this就指向object对象；单独调用func()方法中的this指向全局的window对象(strict模式下指向undefined) 高阶函数js中函数也可以当做变量以函数为入参的函数就是高阶函数 map 用指定的方法作用于数组中的每一个元素 123456var arr = [1,2,3,4];var add = function(x)&#123; return ++x;&#125;;var arr2 = arr.map(add); //相当于[1+1,2+1,3+1,4+1]alert(arr2); 结果为：2,3,4,5 如果map参数中使用的方法支持多个入参，需要小心，可能踩坑。看下面的例子（parseInt是字符串转换为整数的方法）：123var arr = ['1','2','3','4'];var arr2 = arr.map(parseInt);alert(arr2); 输出[ 1, NaN, NaN, NaN ] 为了帮助理解，我们看一下map方法向它向作为参数的函数传递的是怎样的参数1234var arr = ['1','2','3','4'];var arr2 = arr.map(function()&#123; alert(arguments);&#125;); 输出：{ ‘0’: ‘1’, ‘1’: 0, ‘2’: [ ‘1’, ‘2’, ‘3’, ‘4’ ] }{ ‘0’: ‘2’, ‘1’: 1, ‘2’: [ ‘1’, ‘2’, ‘3’, ‘4’ ] }{ ‘0’: ‘3’, ‘1’: 2, ‘2’: [ ‘1’, ‘2’, ‘3’, ‘4’ ] }{ ‘0’: ‘4’, ‘1’: 3, ‘2’: [ ‘1’, ‘2’, ‘3’, ‘4’ ] } map传递了三个参数：值、索引、数组 而parseInt函数说明如下： 之前的程序相当于依次执行下面的操作：1234parseInt(1,0);parseInt(2,1);parseInt(3,2);parseInt(4,3); reduce 指定的方法作用于数组的前两个元素，得到的结果与下一个元素重复此过程 123456var arr = [1,2,3,4];var add = function(x,y)&#123; return x+y;&#125;;var arr2 = arr.reduce(add); //相当于((1+2)+3)+4alert(arr2); 结果为：10 filter 在filter的入参中指定筛选的规则,最后返回数组中满足条件的部分 123456var arr = [1,2,3,4];var rule = function(x)&#123; return x % 2 == 0;&#125;;var arr2 = arr.filter(rule);alert(arr2); 输出:2,4 sort 默认的sort()方法先将要比较的对象先转为字符串再比较，比较字符串的时候会根据ASCII值进行比较 因此如果直接用sort方法比较整数数组数组时，可能会出现问题，如下 1alert([1,2,10].sort()); 输出结果：1,10,2 好在sort方法是个高阶函数，允许我们在使用的时候指定排序的规则： 12345alert([1,2,10].sort(function(x,y)&#123; if(x&gt;y)&#123;return 1;&#125; if(x=y)&#123;return 0;&#125; if(x&lt;y)&#123;return -1;&#125;&#125;)); 输出结果：1,2,10 闭包箭头函数gennerator]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sublime搭建js编译环境及自动根据文件后缀选择对应的编译环境]]></title>
    <url>%2F2016%2F07%2F21%2Fsublime-build-js-develop-environment%2F</url>
    <content type="text"><![CDATA[开始学习js,先在sublime上搭建js的编译环境 搭建js编译环境 确保你的电脑已经安装了node.js 编译环境的搭建同之前搭建php的编译环境 菜单栏Tools &gt; Build System &gt; New Build System 在新建的文件中编辑如下内容（删除自动生成的内容）： 1234&#123;&quot;cmd&quot;: [&quot;/usr/local/bin/node&quot;, &quot;$file&quot;],&quot;selector&quot;: &quot;source.js&quot;&#125; 保存并命名为js.sublime-build，此时sublime的所有编译环境列表在Tools &gt; Build System 中已经有js这一项了，选择它即可当你打开javascript文件时，按Command+B就可以编译程序了： sublime中编译js时执行alert命令报错解决方法sublime中无法执行浏览器的弹窗命令，代码中有alert的话会报如下错误： eferenceError: alert is not defined stackoverflow提供了解决方法,在sublime的js文件开头加入一下代码: 12345if((typeof alert) === 'undefined') &#123; global.alert = function(message) &#123; console.log(message); &#125;&#125; 其实就是用console.log命令替换了alert命令，将要再弹窗中展示的问题直接打印输出 效果如下： 让sublime自动选择编译环境我们可以在sublime中对不同的语言搭建不同的编译环境 当搭建了多个编译环境的时候，选择 Tools &gt; Build System &gt; Automatic可以根据文件的后缀名自动选择对应的编译环境。]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>sublime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento报错:Customer website ID must be specified when using the website scope]]></title>
    <url>%2F2016%2F07%2F21%2FCustomer-website-ID-must-be-specified-when-using-the-website-scope%2F</url>
    <content type="text"><![CDATA[根据邮件用户名获取顾客对象时，可以用Customer模块自带的loadByEmail方法。 app/code/core/Mage/Customer/Model/Customer.php12345public function loadByEmail($customerEmail) &#123; $this-&gt;_getResource()-&gt;loadByEmail($this, $customerEmail); return $this; &#125; 但是直接使用下面的方法 12$customer = Mage::getModel('customer/customer') -&gt;loadByEmail($email); 会报错，错误信息如下： Customer website ID must be specified when using the website 事实上，创建customer对象时需要指定websitId 正确的使用方法如下： 123$customer = Mage::getModel('customer/customer') -&gt;setWebsiteId(Mage::app()-&gt;getStore()-&gt;getWebsiteId()) -&gt;loadByEmail($email);]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[php浮点数取整]]></title>
    <url>%2F2016%2F07%2F20%2Fphp-float-to-int%2F</url>
    <content type="text"><![CDATA[ceil() 向上取整 floor() 向下取整 round() 四舍五入取整 test.php1234567&lt;?phpecho 'ceil(1.2):'.ceil(1.2)."\n";echo 'ceil(1.6):'.ceil(1.6)."\n";echo 'floor(1.2):'.floor(1.2)."\n";echo 'floor(1.6):'.floor(1.6)."\n";echo 'round(1.2):'.round(1.2)."\n";echo 'round(1.6):'.round(1.6)."\n";die; 运行结果如下：]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento设置后台配置的默认值]]></title>
    <url>%2F2016%2F07%2F20%2Fmagento-set-system-config-default-value%2F</url>
    <content type="text"><![CDATA[在《magento新建模块的后台配置》中设置了系统的后台配置选项后，可以在config.xml中设置后台配置的默认值 设置配置项的默认值magento-practise.local/app/code/local/Nano/App/etc/config.xml12345678&lt;default&gt; &lt;app_options&gt; &lt;app_setting&gt; &lt;user_name&gt;老王&lt;/user_name&gt; &lt;pass_word&gt;laowang&lt;/pass_word&gt; &lt;/app_setting&gt; &lt;/app_options&gt;&lt;/default&gt; 其中，app_options、app_setting、user_name、pass_word均为你在同一目录下的system.xml中配置的唯一标识符 打开后台，结果如下： 默认值不生效解决方法 配置默认值的优先级：数据库 &gt; xml配置文件 设置后台配置文件的默认值，需要将config.xml与systeml.xml同时提交后才会生效 若先提交了system.xml，并在后台查看配置已经生效了，此时系统会将配置存入core_config_data表中，存入的默认值为NULL,如下图所示，再提交config.xml的时候，由于数据库中已经存入默认值且为空，导致设置的默认值不生效 如果要让config.xml中设置的默认值生效，可以将数据库中配置的值对应的记录删除，清除magento缓存后重新进入后台查看，默认值生效此时查看表core_config_data中配置项的值，跟设置的默认值一样了]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[XML报错:XML declaration allowed only at the start of the document]]></title>
    <url>%2F2016%2F07%2F20%2Fxml-error-XML-declaration-allowed-only-at-the-start-of-the-document%2F</url>
    <content type="text"><![CDATA[错误信息:Warning: simplexml_load_string(): Entity: line 1: parser error : XML declaration allowed only at the start of the document 检查后发现，xml文件的头文件开头处出现了多余的空格 1&lt;?xml version="1.0"?&gt; 修改为： 1&lt;?xml version="1.0"?&gt; 问题解决]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>xml</tag>
        <tag>error</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento计划任务]]></title>
    <url>%2F2016%2F07%2F19%2Fmagento-cron%2F</url>
    <content type="text"><![CDATA[设置计划任务，定时运行脚本。 修改模块的配置文件config.xml： Module_Name/etc/config.xml12345678&lt;crontab&gt; &lt;jobs&gt; &lt;计划任务标识&gt; &lt;schedule&gt;&lt;cron_expr&gt;0 */1 * * *&lt;/cron_expr&gt;&lt;/schedule&gt; &lt;!--定时1分钟--&gt; &lt;run&gt;&lt;model&gt;你想要运行的脚本文件&lt;/model&gt;&lt;/run&gt; &lt;/计划任务标识&gt; &lt;/jobs&gt; &lt;/crontab&gt; 所有的计划任务存在cron_schedule表中]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
        <tag>crontab</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo文章的分类和标签]]></title>
    <url>%2F2016%2F07%2F19%2Fhexo-show-categories-and-tags%2F</url>
    <content type="text"><![CDATA[给博客文章增加分类和标签。 如何增加分类和标签在markdwon文件头部的一对---标记之间添加 categories: 分类名和tags:标签名 如本文的文件头部如下： 12345title: hexo文章的分类和标签toc: truedate: 2016-07-19 16:48:04categories:tags: hexo 多标签tags: [标签1,标签2,标签3] 多级目录categories: [一级目录,二级目录] 在侧边栏添加标签和目录修改主题配置文件： hexo/themes/landscape-plus/_config.yml12345# Sidebarsidebar: rightwidgets:- category- tag]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Magento数据库非EAV模型使用]]></title>
    <url>%2F2016%2F07%2F14%2Fmysql-in-magento%2F</url>
    <content type="text"><![CDATA[《深入理解Magento第四章 - 模型和ERM模型》指出，模型的使用分为四步： 启用模型 启用资源模型 在资源模型中添加实体(Entity)。对于简单的模型来说,实体就是数据表的名字 为资源模型设置读、写适配器 在magento中创建并使用一个记录用户信息的数据库 代码框架 配置文件 (1) 修改配置文件后需要清除mageno缓存方可生效(2) 读、写配置器可以不配置，magento会为没有适配器的资源模型启用默认的适配器，默认的适配器如下面的配置文件所示 magento-practise.local/app/code/local/Nano/App/etc/config.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;?xml version="1.0"?&gt;&lt;config&gt; &lt;modules&gt; &lt;Nano_App&gt; &lt;version&gt;0.0.1&lt;/version&gt; &lt;!--配置文件的版本号，很重要，跟我们后面的数据库安装程序有关--&gt; &lt;/Nano_App&gt; &lt;/modules&gt; &lt;frontend&gt; &lt;routers&gt; &lt;Nano_App&gt; &lt;use&gt;standard&lt;/use&gt; &lt;args&gt; &lt;module&gt;Nano_App&lt;/module&gt; &lt;!--配置路由规则--&gt; &lt;frontName&gt;app&lt;/frontName&gt; &lt;/args&gt; &lt;/Nano_App&gt; &lt;/routers&gt; &lt;/frontend&gt;&lt;global&gt; &lt;helpers&gt; &lt;nano_app&gt; &lt;class&gt;Nano_App_Helper&lt;/class&gt; &lt;/nano_app&gt; &lt;/helpers&gt; &lt;models&gt; &lt;app&gt; &lt;!--模型类唯一标识--&gt; &lt;class&gt;Nano_App_Model&lt;/class&gt; &lt;!--指定模型类--&gt; &lt;resourceModel&gt;app_mysql4&lt;/resourceModel&gt; &lt;!--指定资源模型类--&gt; &lt;/app&gt; &lt;app_mysql4&gt; &lt;!--资源模型唯一标识--&gt; &lt;class&gt;Nano_App_Model_Resource_Mysql4&lt;/class&gt; &lt;entities&gt; &lt;user&gt; &lt;table&gt;user_account&lt;/table&gt; &lt;!--实体，指定数据库中的表名称--&gt; &lt;/user&gt; &lt;/entities&gt; &lt;/app_mysql4&gt; &lt;/models&gt; &lt;resources&gt; &lt;app_setup&gt; &lt;!--指定app模型的安装程序--&gt; &lt;setup&gt; &lt;module&gt;Nano_App&lt;/module&gt; &lt;class&gt;Nano_App_Model_Setup_Mysql4_Setup&lt;/class&gt; &lt;/setup&gt; &lt;connection&gt; &lt;use&gt;core_setup&lt;/use&gt; &lt;/connection&gt; &lt;/app_setup&gt; &lt;app_write&gt; &lt;!-读配置器-&gt; &lt;connection&gt; &lt;use&gt;default_write&lt;/use&gt; &lt;/connection&gt; &lt;/app_write&gt; &lt;app_read&gt; &lt;!--写配置器--&gt; connection&gt; &lt;use&gt;default_read&lt;/use&gt; &lt;/connection&gt; &lt;/app_read&gt; &lt;/resources&gt; &lt;/global&gt; 数据库图形化界面调试的时候如果不想在终端执行sql语句，可以使用数据库软件 在mac环境可以用Sequel Prowindows环境可以用Navicat 创建mysql数据库 - 安装脚本 为了便于理解magento中的mysql，我们这里直接用magento自带的方法安装数据库，不手动建立数据库了 如代码结构图所示，在sql目录下创app_setup目录，并新建mysql4_install-0.0.1.php注意，安装程序的版本号需要和config.xml里的版本号保持一致编辑如下： magento-practise.local/app/code/local/Nano/App/sql/app_setup/mysql4-install-0.1.0.php1234567891011121314&lt;?php$installer = $this;$installer-&gt;startSetup();$installer-&gt;run("-- DROP TABLE IF EXISTS &#123;$this-&gt;getTable('app/user')&#125;;CREATE TABLE `&#123;$this-&gt;getTable('app/user')&#125;` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `user_name` varchar(32) DEFAULT NULL, `pass_word` varchar(32) DEFAULT NULL, `schoolName` varchar(32) DEFAULT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;");$installer-&gt;endSetup(); 这时候，访问你的magento主页，当加载到APP模块的时候就会执行安装脚本，并创建一张名为user_account的表，表中有四个字段，自增的id，用户名user_name,密码pass_word,学校名称schoolName(这里用驼峰型后面要用） 注1：从app/user到表user_account的过程如下：左边的app是模型名，右边的user是实体名，先寻找名为app的模型，再找它的默认资源模型：app_mysql4，资源模型下寻找名为user的实体，即为user_account 注2：如果安装程序没有生效，查看core_resource表，找到名为app_setup的一项，删除该项，并清空magento的缓存，即可 创建模型magento-practise.local/app/code/local/Nano/App/Model/User.php12345678&lt;?phpclass Nano_App_Model_User extends Mage_Core_Model_Abstract&#123; public function _construct() &#123; $this-&gt;_init('app/user'); &#125;&#125; 创建资源模型 模型类会自动调用资源模型类，资源模型类是与数据库进行对话的组件 magento-practise.local/app/code/local/Nano/App/Model/Resource/Mysql4/User.php12345678&lt;?phpclass Nano_App_Model_Resource_Mysql4_User extends Mage_Core_Model_Mysql4_Abstract&#123; public function _construct() &#123; $this-&gt;_init('app/user','id'); &#125;&#125; 创建模型集合 通过模型集合，可以同时操作多条记录 magento-practise.local/app/code/local/Nano/App/Model/Resource/Mysql4/User/Collection.php12345678&lt;?phpclass Nano_App_Model_Resource_Mysql4_User_Collection extends Mage_Core_Model_Mysql4_Collection_Abstract&#123; public function _construct() &#123; $this-&gt;_init('app/user'); &#125;&#125; 使用数据库 使用get, set, unset, has方法来进行进行数据的读取、写入、删除、判断是否存在 插入数据 magento-practise.local/app/code/local/Nano/App/controllers/IndexController.php1234567891011public function insertAction() &#123; $user = Mage::getModel("app/user"); // $user-&gt;setId(1); //我们已经设置了`id`字段为自增型，不用给它赋值 $user-&gt;setUserName('mengmeng'); $user-&gt;setPassWord('123'); // $user-&gt;setSchoolName('seu'); //这句话向数据库中插入的字段是`school_name` $user-&gt;setData('schoolName','seu'); //如果要插入名字是驼峰型的字段，需要使用`setData`方法 $user-&gt;save(); echo 'saved!'; &#125; (1) 对于名称为下划线格式的字段，setUserName(&#39;a&#39;)等价于setData(&#39;user_name&#39;,&#39;a&#39;)(2) setUserName这样的方法之所以能生效，是因为使用了__set()魔术方法 调用insert接口：查看数据库： 查询数据magento-practise.local/app/code/local/Nano/App/controllers/IndexController.php12345678public function selectAction() &#123; $user = Mage::getModel("app/user"); $user-&gt;load(1); echo $user-&gt;getUserName().'&lt;br/&gt;'; echo $user-&gt;getData('schoolName').'&lt;hr/&gt;'; //同理，驼峰型的字段只能用`getData`方法取值 echo 'selected!'; &#125; 调用select接口： getUserName这样的方法之所以能生效，是因为使用了__get()魔术方法 修改数据magento-practise.local/app/code/local/Nano/App/controllers/IndexController.php12345678public function updateAction() &#123; $user = Mage::getModel("app/user"); $user-&gt;load(1); $user-&gt;setUserName('xiamengmeng'); $user-&gt;save(); echo 'updated!'; &#125; 调用update接口：查看数据库： 删除数据magento-practise.local/app/code/local/Nano/App/controllers/IndexController.php1234567public function delete() &#123; $user = Mage::getModel("app/user"); $user-&gt;load(1); $user-&gt;delete(); echo 'deleted!'; &#125; 调用delete接口查看数据库： 获取所有数据magento-practise.local/app/code/local/Nano/App/controllers/IndexController.php12345678public function collectAction() &#123; $users = Mage::getModel("app/user")-&gt;getCollection(); foreach($users as $user)&#123; echo $user-&gt;getId().':'.$user-&gt;getUserName()."&lt;br/&gt;"; &#125; echo '&lt;hr/&gt;'.'get all data!'; &#125; 先向数据库中插入几条数据再调用collect接口 这里用到了前面创建的模型集合类 修改数据库 - 更新脚本想要对已经创建的数据库进行修改，如增加字段，改变字段属性等，最简单粗暴的方式是直接修改安装脚本，然后在core_resource脚本中删除模块对应的setup,如app_setup,模块就会重新执行安装脚本 这种方法只适合本地调试用 线上有需要修改数据库的，应当使用更新脚本 我们之前创建的表user_account，我们要增加一个字段age 首先修改config.xml的版本号 magento-practise.local/app/code/local/Nano/App/etc/config.xml1234567&lt;?xml version="1.0"?&gt;&lt;config&gt; &lt;modules&gt; &lt;Nano_App&gt; &lt;version&gt;0.0.2&lt;/version&gt; &lt;!--当需要增加数据库安装脚本时，修改此处的版本号--&gt; &lt;/Nano_App&gt; &lt;/modules&gt; 然后在App模块的sql文件夹下新建mysql4-upgrade-0.0.1-0.0.2.php，文件名表示你要从0.0.1版本升级到0.0.2版本 magento-practise.local/app/code/local/Nano/App/sql/app_setup/mysql4-upgrade-0.0.1-0.0.2.php1234567&lt;?php$installer = $this;$installer-&gt;startSetup();$installer-&gt;run("ALTER TABLE `&#123;$this-&gt;getTable('app/user')&#125;` ADD `age` INT(4) NOT NULL;");$installer-&gt;endSetup(); 清除缓存后，访问你本地的magento网站 这时，查看数据库，发现age字段已经出现了 再查看core_resource表app模块的版本号也已经成功升级到了0.2.0 FAQ core_resource表中能找到模块的setup字段，但是数据库的表没有新建成功？ 查看数据库安装脚本的版本号与config.xml头部的版本号是否一致]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[设置hexo404页面]]></title>
    <url>%2F2016%2F07%2F13%2Fhexo-404-page%2F</url>
    <content type="text"><![CDATA[不爽默认的404页面，那么就换一个吧 在主题的source目录下新建404.html，编辑如下，注意修改第10行homePageUrl的值。 /hexo/themes/landscape-plus/source/404.html123456789101112&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv="content-type" content="text/html;charset=utf-8;"/&gt; &lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /&gt; &lt;meta name="robots" content="all" /&gt; &lt;meta name="robots" content="index,follow"/&gt;&lt;/head&gt;&lt;body&lt;script type="text/javascript" src="http://www.qq.com/404/search_children.js" charset="utf-8" homePageUrl="http:/16bh.github.io" homePageName="回到我的主页"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento常用方法]]></title>
    <url>%2F2016%2F07%2F12%2Fmagneto-common-method%2F</url>
    <content type="text"><![CDATA[记录常用的Magento方法 调用助手类1Mage::helper()-&gt;functionInHelper(); 获取数据库对象1$object = Mage::Model(); 以及可用的方法： 12$object -&gt; getData();//取数据$object -&gt; setData();//写入数据 日志12Mage::log();Mage::logException(); 获取入参,可以设置默认值1$id = $this-&gt;getRequest()-&gt;getParam('id',null); 获取用户session对象1$session = Mage::getSingleton('customer/session'); 以及可以使用方法 1234$session-&gt;login($user,$pass); //登录$session-&gt;logout(); //登出$session-&gt;isLoggedIn(); //判断是否登录$customer = $session-&gt;getCustomer(); 获取系统session对象1$session = Mage::getSingleton('core/session'); 获取ip1$ip = Mage::helper('core/http')-&gt;getRemoteAddr() 获取顾客对象根据id获取对象12$customer = Mage::getModel('customer/customer') -&gt;load($id); 根据email获取对象123$customer = Mage::getModel('customer/customer') -&gt;setWebsiteId(Mage::app()-&gt;getStore()-&gt;getWebsiteId()) -&gt;loadByEmail($email); 获取产品对象1$product = Mage::getModel('catalog/product'); 获取订单对象1$order = Mage::getModel('sales/order'); 获取店铺对象1$store = Mage::app()-&gt;getStore(); 获取商品库存1$qty = (int)Mage::getModel('cataloginventory/stock_item')-&gt;loadByProduct($product)-&gt;getQty()； 获取类名1get_class() 输出magento的配置文件12header('Content-Type: text/plain'); echo $config = Mage::getConfig() -&gt;loadModulesConfiguration('config.xml') -&gt;getNode() -&gt;asXML(); exit; &#125; 获取storeId1Mage::app()-&gt;getStore() 获取websiteId1Mage::app()-&gt;getStore()-&gt;getWebsiteId()]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[在终端跳快速跳转到指定目录的oh-my-zsh插件：z与wd]]></title>
    <url>%2F2016%2F07%2F12%2Foh-my-zsh-plugin-wd%2F</url>
    <content type="text"><![CDATA[zsh的z插件可以随意跳转最近经常打开的文件夹zsh的wd插件可以任意跳转你标记过的文件夹 前提，你必须要先安装iTerm2和oh my zsh 试想一下这种场景：你想要修改nginx的配置，只知道大概在/usr/local目录下,不太清楚具体路径 你可能在终端这样输入： 123456789cd /usrllcd localllcd etcllcd nginxllvim nginx.conf 看完这篇文章的介绍，你的生活将发生翻天覆地的变化。 如果你的电脑安装了iterm2和oh－my－zsh，再安装z或wd插件之后你只需要执行： 1z nginx 或 1wd nginx 就能一秒直达nginx目录 安装z和wd插件安装zsh的插件 打开用户目录下的.zshrc文件 修改.zshrc文件,在plugins后面的括号中加入z wd，两个插件的功能是类似的，选择一个安装就可以了 1plugins=(git z wd) 保存并重新加载.zshrc文件 使用z插件安装完z插件后 输入命令 z 即可查看你最近访问最频繁的目录 按z+目录名称的部分内容即可跳转目录 使用wd插件常用命令： 1234wd //查看所有可用命令wd add (label_name) //标记目录wd rm (label_name) //去除目录标记wd list //查看所有标记 使用方法很简单进入一个你觉得很常用的目录,如上面提到的usr/local/etc/nginx,执行wd add nginx,相当于告诉终端：我喜欢这个目录，帮我记住它，什么还要取个名字，那就叫nginx吧。以后在任何位置，你只需要执行wd nginx，就能直接返回这个目录了 示例：]]></content>
      <tags>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[记录你的编程习惯 - 编辑器通用插件：WakaTime]]></title>
    <url>%2F2016%2F07%2F11%2Fwakatime-record-coding%2F</url>
    <content type="text"><![CDATA[和RescueTime等软件不同，WakaTime只专注于记录编程相关的活动，即所有你在编辑器中的操作 先上效果图： WakaTime的使用非常简单，先在wakaTime的网站注册一个账号，再根据编辑器的不同安装对应的插件就可以了 phpstorm安装wakatime Inside PhpStorm, select Preferences → Plugins → Browse Repositories…. Search for wakatime. Click the green Install Plugin button and confirm the installation. Re-launch PhpStorm. Enter your API key , then click Save. sublime安装wakatime Install Package Control. Inside Sublime, select Tools → Command Palette… Type install, then select Package Control: Install Package and press Enter. Type wakatime, then select WakaTime and press Enter. Enter your API key , then press Enter vim安装wakatime Install Vundle for Vim. From terminal run: echo “Plugin ‘wakatime/vim-wakatime’” &gt;&gt; ~/.vimrc &amp;&amp; vim +PluginInstall (Re-)start Vim and enter your API key , then press Enter. 隐私设置 wakatime默认会记录你编辑的项目文件名称，如果不想让它记录的话可以修改配置文件~/.wakatime.cfg，加上下面这句话： 12hide_file_names = truehide_project_names = true 所有的设置如下： 1234567891011121314151617181920212223[settings]debug = falseapi_key = your-api-keyhide_file_names = falsehide_project_names = falseexclude = ^COMMIT_EDITMSG$ ^TAG_EDITMSG$ ^/var/(?!www/).* ^/etc/include = .*include_only_with_project_file = falseoffline = trueproxy = https://user:pass@localhost:8080no_ssl_verify = falsetimeout = 30hostname = machinename[projectmap]projects/foo = new project name^/home/user/projects/bar(\d+)/ = project&#123;0&#125;[git]disable_submodules = false 参考此处： &lt;div class=”github-widget” data-repo=”wakatime/wakatime&gt;]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>wakatime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sublime插件 - markdown编辑和预览]]></title>
    <url>%2F2016%2F07%2F11%2Fsublime-plugin-markdown-preview%2F</url>
    <content type="text"><![CDATA[sublime支持markdwon的编辑和预览通过分别安装Markdown Preview和MarkdownEditing插件来实现跟其他markdown编辑器比较，sublime编写环境更加美观 MarkDownEditing如本文的编辑效果如图所示： MarkDown Preview安装插件完成后，设置快捷键： 打开Sublime Text&gt;Perferences&gt;Key Bindings - User,添加如下： 1&#123;&quot;keys&quot;: [&quot;alt+m&quot;], &quot;command&quot;: &quot;markdown_preview&quot;, &quot;args&quot;: &#123; &quot;target&quot;: &quot;browser&quot;&#125;&#125; 然后，就可以用Option+M快捷键通过默认浏览器查看markdown文件的预览]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>sublime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sublime3144版本搭建php开发环境]]></title>
    <url>%2F2016%2F07%2F11%2Fsublime3144-build-php-develop-environment%2F</url>
    <content type="text"><![CDATA[sublime是兼备美观、轻便、扩展性强为一身的最强大的编辑器之一（没有之一的话会被打的吧） 最新版的sublime自带的GOTO功能解决了php需要安装ctags插件才能进行跳转的不方便之处，无需手动生成tags文件即可跳转 配置环境为mac，部分内容可能不适合windows环境 sublime虽然也支持debug功能，但肯定没有phpstorm好用，如果经常需要debug功能的，建议切换到phpstorm使用 sublime下载直接从sublime的官网下载安装文件：https://www.sublimetext.com/ 万物的起始:安装插件管理工具package control 2017-5-12更新 最新版本的sublime在控制台直接输入install package control即可安装使用 使用Ctrl+、（数字1左边那个）快捷键或者通过View&gt;Show Console菜单打开命令行 输入以下内容： 1import urllib.request,os; pf = &apos;Package Control.sublime-package&apos;; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); open(os.path.join(ipp, pf), &apos;wb&apos;).write(urllib.request.urlopen( &apos;http://sublime.wbond.net/&apos; + pf.replace(&apos; &apos;,&apos;%20&apos;)).read()) 按确认后即开始安装package control 安装报错：No such file or directory: ‘/Users/jim/Library/Application Support/Sublime Text 3/Installed Packages/Package Control.sublime-package’参考https://packagecontrol.io/installation手动安装即可 不能获取插件列表 Package Control：There are no packages available for installation错误解决方案： cmd下输入ping sublime.wbond.net链接一下看下sublime.wbond.net这个域名的ip. 打开\etc\hosts文件。在最后面加上例如50.116.34.243 sublime.wbond.net这样的对应关系，IP是上面测试的。 然后请关闭Submine Text并重启，即不会再弹出更新提醒了。 配置和快捷键修改进入Sublime Text&gt;Perferences可以看到Settings - Default系统设置、Settings - User用户设置、Key Bindings - Default系统快捷键、Key Bindings - User用户快捷键 不管是修改Default还是User都可以，但是，推荐的做法（也是为了以后备份的需要），是先将Default里的内容拷贝一份到User中，再在User中进行修改 php开发插件推荐插件安装的方法及其简便，Command+Shift+P唤出命令面板，输入install,选择Package Control : Install Package，确认后过一段时间加载出包安装界面，输入扩展的名称搜索，选中你想安装的扩展确认即可自动安装 如果一直无法加载出包安装界面，说明你的网络存在问题 以下是推荐安装的插件 SideBarEnhancement 侧边栏增强插件 必装插件，安装完该插件后，在侧边栏文件上右击即可看到效果 Colorsublime 主题库插件 Why we use sublime? beacuse it is Cool! 安装colorsublime插件后，为自动为你下载近百套主题到本地，供你切换使用，你只需Command+Shift+P呼出控制面板，输入install theme，确认后出现主题列表，可以用上下键预览主题的效果，按确认键确定主题 SideBarFolders 项目列表插件 如果需要打开多个项目文件夹，切经常在多个项目之间切换工作空间，可以安装SideBarFolders插件，该插件在在菜单栏多出一个Folders选项，点击可查看所有项目文件夹 AllAutocomplete 代码自动补全插件 默认的补全只能根据当前文件进行补全，安装了AllAutocomplete插件后会根据你已经打开的标签文件进行补全 BracketHignlighter 高亮配对的括号插件 SyncedSidevarBg插件 修改侧边栏颜色插件 使用深色主题的时候，感觉白色的Sublime Text&gt;Perferences侧边栏与之颜色不搭，可以使用SyncedSidevarBg插件 该插件会使得侧边栏的颜色和编辑区背景颜色保持一致,配合主题切换插件使用效果更加 Seti_UI 自带精美的文件图标的主题 如图所示，会为侧边栏的文件生成不同样式的文件图标，同时不需要安装上面的SyncedSidevarBg插件也可以解决侧边栏颜色的问题 安装完成后，修改配置文件（Sublime Text&gt;Perferences&gt;Settings - User），加入以下内容启用Seti-UI主题123&#123; &quot;theme&quot;: &quot;Seti.sublime-theme&quot;&#125; SideBarGit 在侧边栏显示文件的git状态的插件 SublimeLinter和SublimeLinter-php php错误提示插件 Color Highlighter和ColorPicker css颜色插件 见单独介绍部分：sublime插件 - css颜色高亮与取色器 Markdown Preview和MarkdownEditing Markdown编辑插件见单独介绍部分:sublime插件 - markdown编辑和预览 WakaTime 记录编程习惯见单独介绍部分:记录你的编程习惯 - 编辑器通用插件：WakaTime AutoFileName 自动补全文件路径 Clickable URLs 链接可以点击 DashDoc 在Dash中查找光标所在的单词 outline 显示函数列表 其他配置显示所有已打开的文件 View &gt; Side Bar &gt; Show Open Files 配置php的编译环境见单独介绍部分：mac环境sublime配置php编译环境 开启vim模式sublime其实自带了vim的插件Vintage，但是被默认禁用了，只需要在配置文件中取消禁用即可 打开Sublime Text&gt;Perferences&gt;Settings - User 1&quot;ignored_packages&quot;: [&quot;Vintage&quot;], 修改为： 123&quot;ignored_packages&quot;: [], //取消禁用Vintage模块&quot;vintage_ctrl_keys&quot;: true, //在vim模式下支持ctrl快捷键的使用&quot;vintage_start_in_command_mode&quot;: true, //默认使用vim输入模式而不是插入模式 然后就可以欢快的像使用vim模式进行编辑了 sublime个人配置123456789101112131415161718192021&quot;auto_find_in_selection&quot;: true,&quot;bold_folder_labels&quot;: true,&quot;color_scheme&quot;: &quot;Packages/User/SublimeLinter/1337 (SL).tmTheme&quot;,&quot;disable_tab_abbreviations&quot;: true,&quot;draw_minimap_border&quot;: true, //在小地图上显示当前代码的位置&quot;draw_white_space&quot;: &quot;all&quot;, //显示不可见的空格字符&quot;fade_fold_buttons&quot;: false,&quot;font_size&quot;: 14, //字体大小&quot;highlight_line&quot;: true, //高亮当前行&quot;highlight_modified_tabs&quot;: true, //高亮已修改的标签页&quot;line_padding_bottom&quot;: 1,&quot;line_padding_top&quot;: 1,&quot;margin&quot;: 4,&quot;save_on_focus_lost&quot;: true, //自动保存&quot;show_full_path&quot;: true, //显示完成的文件目录&quot;tab_size&quot;: 4, //一个tab转4个空格&quot;theme&quot;: &quot;Seti.sublime-theme&quot;,&quot;translate_tabs_to_spaces&quot;: true, //tab键自动转空格&quot;vintage_ctrl_keys&quot;: true, //vim模式支持ctrl组合的快捷键&quot;vintage_start_in_command_mode&quot;: true //默认启动vim模式 sublime个人热键设置 设置了跳转到方法以及返回的快捷键为Command+[,Command+] 参照atom的快捷键，设置了隐藏侧边栏为Command+Shit+\,在侧边栏中显示当前文件为Command+\ 设置了预览在默认浏览器中预览markdown文件为Option+M 设置了在Dash中搜索光标所在词为Option+D 123456&#123; &quot;keys&quot;: [&quot;super+left&quot;], &quot;command&quot;: &quot;jump_back&quot; &#125;, &#123; &quot;keys&quot;: [&quot;super+right&quot;], &quot;command&quot;: &quot;goto_definition&quot; &#125;, &#123; &quot;keys&quot;: [&quot;super+shift+\\&quot;], &quot;command&quot;: &quot;toggle_side_bar&quot; &#125;, &#123; &quot;keys&quot;: [&quot;super+\\&quot;], &quot;command&quot;: &quot;reveal_in_side_bar&quot;&#125;, &#123; &quot;keys&quot;: [&quot;alt+m&quot;], &quot;command&quot;: &quot;markdown_preview&quot;, &quot;args&quot;: &#123; &quot;target&quot;: &quot;browser&quot;&#125;&#125;, &#123; &quot;keys&quot;: [&quot;alt+d&quot;], &quot;command&quot;: &quot;dash_doc&quot;&#125;, 备份sublime插件及设置将~/Library/Application Support/Sublime Text 3/Packages/User文件夹备份到可同步的云盘文件夹，如坚果云，即可自动备份sublime中已安装的插件和设置 # laravel作者的sublime配置文件作者：Summer链接：https://zhuanlan.zhihu.com/p/26656223来源：知乎著作权归作者所有，转载请联系作者获得授权。 1234567891011121314151617181920212223242526272829303132&#123; &quot;added_words&quot;: [ &quot;Laravel&quot; ], &quot;caret_style&quot;: &quot;phase&quot;, &quot;color_scheme&quot;: &quot;Packages/User/SublimeLinter/One Dark (SL).tmTheme&quot;, &quot;ensure_newline_at_eof_on_save&quot;: true, &quot;findreplace_small&quot;: true, &quot;font_face&quot;: &quot;OperatorMono-Book&quot;, &quot;font_size&quot;: 15, &quot;highlight_line&quot;: false, &quot;hot_exit&quot;: false, &quot;ignored_packages&quot;: [ &quot;SublimeLinter-jshint&quot;, &quot;Vintage&quot; ], &quot;line_numbers&quot;: true, &quot;line_padding_bottom&quot;: 9, &quot;line_padding_top&quot;: 9, &quot;phpunit-sublime-terminal&quot;: &quot;iTerm&quot;, &quot;remember_open_files&quot;: false, &quot;show_definitions&quot;: false, &quot;show_panel_on_build&quot;: false, &quot;tab_size&quot;: 4, &quot;tabs_small&quot;: false, &quot;theme&quot;: &quot;Soda Dark.sublime-theme&quot;, &quot;translate_tabs_to_spaces&quot;: true, &quot;trim_trailing_white_space_on_save&quot;: true, &quot;word_wrap&quot;: false&#125; 设置用sublime打开项目//todo 贴文章链接]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>sublime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento后台汉化]]></title>
    <url>%2F2016%2F07%2F11%2Fmagento-locale%2F</url>
    <content type="text"><![CDATA[通过安装中文语言包扩展的方法进行后台汉化 System&gt;Magento Connect&gt;Magento Connect Manager进入扩展安装界面 填写中文语言包key：http://connect20.magentocommerce.com/community/Mage_Locale_zh_CN,依次点击install&gt;Proceed 安装完成后，返回magento后台，左下角Interface Locale选择中文（中国） 最终效果：]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[git设置忽略对文件权限进行版本控制]]></title>
    <url>%2F2016%2F07%2F11%2Fgit-ignore-file-mode%2F</url>
    <content type="text"><![CDATA[git有哦时候会记录文件权限的改变，使得权限改变的文件出现在未暂存文件中这里，只需要修改git的配置文件就可以了. 进入项目根目录，有个.git隐藏文件夹，里面有个config文件，即是你这个项目的git的配置 1vim project_root/.git/config 打开config文件，编辑如下： project_root/.git/config123456repositoryformatversion = 0filemode = false //filemode设置为false就不会记录文件权限的变化了bare = falselogallrefupdates = trueignorecase = falseprecomposeunicode = true 注：git的配置文件共有三处：1)/etc/gitconfig全局配置 2)~/.gitconfig当前用户配置 3）project_root/.git/config当前项目配置]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento新建模块的后台配置]]></title>
    <url>%2F2016%2F07%2F10%2Fmagento-new-module-add-system-config%2F</url>
    <content type="text"><![CDATA[在后台配置一些常量，比硬编码的方式更加灵活，不需要重新改写代码并上线才能生效，直接修改后台的配置就可以了 后台配置文件在模块的etc文件夹下新建system.xml和adminhtml.xml 编辑如下： magento-practise.local/app/code/local/Nano/App/etc/system.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;?xml version="1.0"?&gt;&lt;config&gt; &lt;tabs&gt; &lt;appconfig translate="label" module="nano_app"&gt; &lt;!--nano_app是模块名--&gt; &lt;label&gt;App Options&lt;/label&gt; &lt;sort_order&gt;9999999&lt;/sort_order&gt; &lt;/appconfig&gt; &lt;/tabs&gt; &lt;sections&gt; &lt;app_options translate="label" module="nano_app"&gt; &lt;!--app_options是配置的唯一标识--&gt; &lt;label&gt;Settings&lt;/label&gt; &lt;tab&gt;appconfig&lt;/tab&gt; &lt;frontend_type&gt;text&lt;/frontend_type&gt; &lt;sort_order&gt;1000&lt;/sort_order&gt; &lt;!--sort_order是配置的顺序--&gt; &lt;show_in_default&gt;1&lt;/show_in_default&gt; &lt;show_in_website&gt;1&lt;/show_in_website&gt; &lt;show_in_store&gt;1&lt;/show_in_store&gt; &lt;groups&gt; &lt;app_setting translate="label"&gt; &lt;label&gt;app的后台配置&lt;/label&gt; &lt;frontend_type&gt;text&lt;/frontend_type&gt; &lt;sort_order&gt;1&lt;/sort_order&gt; &lt;show_in_default&gt;1&lt;/show_in_default&gt; &lt;show_in_website&gt;1&lt;/show_in_website&gt; &lt;show_in_store&gt;1&lt;/show_in_store&gt; &lt;fields&gt; &lt;user_name&gt; &lt;!--配置的用户名的唯一标识--&gt; &lt;label&gt;UserName&lt;/label&gt; &lt;frontend_type&gt;text&lt;/frontend_type&gt; &lt;comment&gt;用户名&lt;/comment&gt; &lt;sort_order&gt;1&lt;/sort_order&gt; &lt;show_in_default&gt;1&lt;/show_in_default&gt; &lt;show_in_website&gt;1&lt;/show_in_website&gt; &lt;show_in_store&gt;1&lt;/show_in_store&gt; &lt;/user_name&gt; &lt;pass_word&gt; &lt;!--配置的密码的唯一标识--&gt; &lt;label&gt;Password&lt;/label&gt; &lt;frontend_type&gt;text&lt;/frontend_type&gt; &lt;comment&gt;密码&lt;/comment&gt; &lt;sort_order&gt;2&lt;/sort_order&gt; &lt;show_in_default&gt;1&lt;/show_in_default&gt; &lt;show_in_website&gt;1&lt;/show_in_website&gt; &lt;show_in_store&gt;1&lt;/show_in_store&gt; &lt;/pass_word&gt; &lt;/fields&gt; &lt;/app_setting&gt; &lt;/groups&gt; &lt;/app_options&gt; &lt;/sections&gt;&lt;/config&gt; magento-practise.local/app/code/local/Nano/App/etc/adminhtml.xml12345678910111213141516171819202122&lt;?xml version="1.0"?&gt;&lt;config&gt; &lt;acl&gt; &lt;resources&gt; &lt;admin&gt; &lt;children&gt; &lt;system&gt; &lt;children&gt; &lt;config&gt; &lt;children&gt; &lt;app_options&gt; &lt;title&gt;App Options&lt;/title&gt; &lt;/app_options&gt; &lt;/children&gt; &lt;/config&gt; &lt;/children&gt; &lt;/system&gt; &lt;/children&gt; &lt;/admin&gt; &lt;/resources&gt; &lt;/acl&gt;&lt;/config&gt; Helper类这时候若访问magento的后台，会报下面的错误:说明我们需要建立App这个模块的helper类 先修改config.xml配置 magento-practise.local/app/code/local/Nano/App/etc/config.xml1234567&lt;global&gt; &lt;helpers&gt; &lt;nano_app&gt; &lt;class&gt;Nano_App_Helper&lt;/class&gt; &lt;/nano_app&gt; &lt;/helpers&gt;&lt;/global&gt; 再在App模块下建立Helper文件夹，新建Data.php 注：Data.php是默认访问的Helper类 magento-practise.local/app/code/local/Nano/App/Helper/Data.php123456&lt;?phpclass Nano_App_Helper_Data extends Mage_Core_Helper_Abstract&#123;&#125; 配置成功后就能在后台对App模块配置一些参数了配置的路径为：System &gt; Configuration &gt; APP OPTIONS &gt; Settings 使用后台配置配置完成后，如果要使用这个配置，可使用Mage::getStoreConfig()方法 12$userName = Mage::getStoreConfig("app_options/app_setting/user_name");$passWord = Mage::getStoreConfig("app_options/app_setting/pass_word");]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo菜单栏背景图片设置]]></title>
    <url>%2F2016%2F07%2F08%2Fhexo-landscape-plus-set-head-image%2F</url>
    <content type="text"><![CDATA[landscape-plus主题默认关闭了顶部的大图，如需开启，取消header.styl第33行的注释即可。 themes/landscape-plus/source/css/_partial/header.styl1background: url(banner-url) center #000 如需修改高度：hexo\themes\landscape-plus\source\css\_variables.styl1banner-height = 280px //修改menu图片高度 随机切换背景图片效果设置：hexo\themes\landscape-plus\source\css\_variables.styl12//banner-url = "images/banner.jpg"banner-url = "https://unsplash.it/1920/280/?random"]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo绑定DNSPOD代理的狗爹域名]]></title>
    <url>%2F2016%2F07%2F08%2Fhexo-bind-godaddy-host-name%2F</url>
    <content type="text"><![CDATA[在godday上购买域名的一次体验 购买域名在狗爹上购买域名,已有域名的可忽略然后修改成国内的DNS代理 VISIT MY ACCOUNT 管理域名： 管理DNS： 选择第二项Nameservers,修改代理地址为f1g1ns1.dnspod.net和f1g1ns2.dnspod.net 设置完成 设置DNSPOD代理去DNS注册账号后登陆 域名解析&gt;添加域名&gt;添加记录 如图所示，需要加入以下三条记录 123@ A 192.30.252.153@ A 192.30.252.154www CNAME your_github_username.github.io. 注意，当不需要使用github pages的时候 要将这三条都暂停 将jimxu.me指向github page的ip地址,记录类型为A将www.jimxu.me指向16bh.github.io，记录类型为CNAME 设置hexo编辑hexo/source/CNAME,在文件中写入域名 1jimxu.me 编辑配置文件hexo/_fonfig.yml 1url: http://jimxu.me 当想把域名切换回github.io的时候，要把这里改回去]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo的landscape-plus主题百度分享无法加载的bug]]></title>
    <url>%2F2016%2F07%2F08%2Ffix-hexo-baidu-share%2F</url>
    <content type="text"><![CDATA[在本地访问localhost:4000是正常的，如下图所示： 但是访问线上站点http://16bh.github.io的时候,评论和分享的图标无法加载出来，导致不能分享 问题已解决：启用新的域名后问题不见了]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac下phpstorm配置xdebug]]></title>
    <url>%2F2016%2F07%2F08%2Fxdebug-in-phpstorm-on-mac%2F</url>
    <content type="text"><![CDATA[给php安装xdebug扩展安装扩展(前提是你的php也是用brew安装的) 1brew install php55-xdebug --build-from-source 进入下面的目录打开xdebug配置文件：12cd /usr/local/etc/php/5.5/conf.dvim ext-xdebug.ini 编辑如下： 1234567891011[xdebug]zend_extension="/usr/local/opt/php55-xdebug/xdebug.so"xdebug.remote_enable=onxdebug.remote_handler=dbgpxdebug.remote_host=localhostxdebug.remote_port=9010xdebug.remote_log=/tmp/xdebug.logxdebug.profiler_enable=0xdebug.profiler_output_name=xdebug.cachegrind-out.%s.%pxdebug.idekey="PHPSTORM" 配置完成后要重启php-fpm: 1sudo php55-fpm restart 在index.php中加入phpinfo();die;并执行若能在php的配置页面中看到xdebug的模块说明配置成功 chrome或firefox浏览器安装扩展 安装xdebug-helper扩展并开启，直到在浏览器工具栏可以看到激活状态的图标 phpstorm设置进入phpstorm的偏好设置: （1）Languages &amp; Frameworks &gt; PHP &gt; Servers （2）Languages &amp; Frameworks &gt; PHP &gt; Debug &gt; DBGp Proxy (3) Languages &amp; Frameworks &gt; PHP &gt; Debug xdebug使用 在chrome上启用xdebug-helper扩展，输入网址或请求的接口地址 在phpstorm上开启xdeubg监听 刷新chrome,在phpstorm中弹出xdebug窗口 单步调试 跳入，进入调用的方法体 跳出，离开方法体，返回原来执行的代码 报错如果报下面的错误，说明端口号错误，确保设置的端口号与之前在ext-xdebug.ini中配置的是一致的。如果一致的还出现这种错误，那么换一个端口号试试]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>phpstorm</tag>
        <tag>xdebug</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[markdown图片链接生成的Alfred脚本微调整]]></title>
    <url>%2F2016%2F07%2F08%2Ffix-Alfred-markdown-workflow%2F</url>
    <content type="text"><![CDATA[注意：这是一篇过时的文章，博客的图片上传有更好的实践方式，见此文 github上有个天才作者，开发了一个方便的图片上传实用工具，可以方便、快速地在截图之后通过脚本把图片上传到七牛云然后得到一个图片链接 作者加入的这样的设定：markdwon里面的图片链接不是标准的markdown格式，而是html的img标签；这是因为在retina屏幕下截图的话，如果不做任何处理，在非retina屏幕下面，这个图片会直接扩大两倍，非常粗糙难看；因此，需要保存图片显示大小的信息，保证截图大小和显示大小一致；这里使用mac系统自带的sips工具拿到截图大小，然后直接把宽度放在img标签里面。这样在显示的时候，可以保证是和截图时大小一致。 然而我在使用的时候发现截图带上了尺寸，生成的如下所示的链接之后 1&lt;img src=&quot;/images/images/1467908925897.png&quot; width=&quot;120&quot;/&gt; 在网页上显示的效果不是很好，图片不点开的话经常看不清楚 看了一下作者写的python脚本，做了一些微小的调整： 去掉了图片的尺寸 将图片的链接改为标准的markdown格式 再次截图并粘贴之后得到的链接就是这样的了： 1![](/images/images/1467950738418.png) 修改之后的脚本代码如下： 1234567891011121314151617181920212223242526272829303132333435363738394041# coding: utf-8from clipboard import get_paste_img_filefrom upload import upload_qiniuimport utilimport osimport subprocessimport sysimport timeif not os.path.exists(util.CONFIG_FILE): util.generate_config_file()config = util.read_config()if not config: util.notice('请先设置你的七牛图床信息') util.open_with_editor(util.CONFIG_FILE) sys.exit(0)url = '%s/%s' % (config['url'], config['prefix'])img_file, need_format, format = get_paste_img_file()if img_file: # has image # use time to generate a unique upload_file name, we can not use the tmp file name upload_name = "%s.%s" % (int(time.time() * 1000), format) if need_format: #size_str = subprocess.check_output('sips -g pixelWidth %s | tail -n1 | cut -d" " -f4' % img_file.name, shell=True) #size = int(size_str.strip()) / 2 #markdown_url = '&lt;img src="%s/%s"/&gt;' % (url, upload_name) markdown_url = '![](%s/%s)' % (url, upload_name) else: markdown_url = '%s/%s' % (url, upload_name) # make it to clipboard os.system("echo '%s' | pbcopy" % markdown_url) os.system('osascript -e \'tell application "System Events" to keystroke "v" using command down\'') upload_file = util.try_compress_png(img_file, format!='gif') if not upload_qiniu(upload_file.name, upload_name): util.notice("上传图片到图床失败，请检查网络后重试")else: util.notice("剪切版里没有图片！")]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>afred</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python安装requests库]]></title>
    <url>%2F2016%2F07%2F07%2Fpython-install-requests%2F</url>
    <content type="text"><![CDATA[墙裂推荐史上最简单的markdown图片使用方法：markdown图片实用工具。通过Alfred的工作流和七牛云存储相结合的方法，复制图片粘贴到编辑器自动生成图片链接 其中，Alfred用到的python脚本依赖requests库,而网上很多人的pip安装方法不成功，其实因为你电脑安装了不同版本的python 安装python的requests，网上推荐的大部分是pip方法 12sudo easy_install pip //安装pipsudo pip install requests //安装requests 执行后在python控制台查看所有已安装的模块： 1&gt;&gt;&gt; help('modules') 未发现requests 先执行 1python 查看当前python的版本 如图，正运行的版本是2.7 再去python的根目录查看当前安装了几个版本 12cd /Library/pythonll 不出意外，电脑里有2.6和2.7两个版本，pip默认安装到了2.6版本 12345curl -OL https://github.com/kennethreitz/requests/zipball/mastermv ./master ./master.tar.gz //下载下来的文件没有后缀，手动加上`.tar`tar -xf ./master.tar.gzcd kennethreitz-requests-7700ecapython2.7 setup.py install //不要运行python命令，加上你的python版本号 这样，就为正在运行的python安装好requests库了]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento复写core中的model]]></title>
    <url>%2F2016%2F07%2F07%2Fmangeto-rewrite-core-model%2F</url>
    <content type="text"><![CDATA[与复写controller比较类似的功能,在config.xml的配置上有一些差异 以复写Captcha模块下的Model下的Observer.php为例: 先在Model文件夹下新建Nano_App_Model_Observer类文件，继承原有的类Mage_Captcha_Model_Observer： app/code/local/Nano/App/Model/Observer.php1234567&lt;?php/** * Rewrite Captcha Observer because error message should be given when captcha is not correct */class Nano_App_Model_Observer extends Mage_Captcha_Model_Observer&#123;&#125; 再修改app模块的配置文件config.xml,使得复写生效app/code/local/Nano/App/etc/config.xml12345678910&lt;models&gt; &lt;nano_app&gt; &lt;class&gt;Nano_App_Model&lt;/class&gt; &lt;/nano_app&gt; &lt;captcha&gt; &lt;rewrite&gt; &lt;observer&gt;Nano_App_Model_Observer&lt;/observer&gt; &lt;/rewrite&gt; &lt;/captcha&gt;&lt;/models&gt;]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento复写core中的controller]]></title>
    <url>%2F2016%2F07%2F07%2Fmagento-rewrite-core-controller%2F</url>
    <content type="text"><![CDATA[我们想要对core中的一些模块的controller里的一些方法进行修改，自然不能直接在controller中修改，要通过复写(rewrite)的方法在local中操作复写的原理是同名的模块会按优先级覆盖，优先级为：local &gt; community &gt; core 以复写Customer/AccountController.php为例 先在controllers目录下新建Customer文件夹,建立Nano_App_AccountController类文件，继承原有的Mage_Customer_AccountController类 app/code/local/Nano/App/controllers/Customer/AccountController.php123456789101112&lt;?phprequire_once Mage::getModuleDir('controllers', "Mage_Customer").DS."AccountController.php";class Nano_App_AccountController extends Mage_Customer_AccountController&#123; /** * Login post action */ public function loginPostAction() &#123; echo 'login post has been rewritten'; &#125;&#125; 再修改app模块的配置文件config.xml，在global标签下对AccountContoller进行复写 app/code/local/Nano/App/etc/config.xml12345678910&lt;global&gt; &lt;!-......--&gt; &lt;rewrite&gt; &lt;Nano_App&gt; &lt;from&gt;&lt;![CDATA[#^/customer/account/loginPost/#]]&gt;&lt;/from&gt; &lt;to&gt;/app/customer/account/loginPost/&lt;/to&gt; &lt;/Nano_App&gt; &lt;/rewrite&gt; &lt;!-......--&gt;&lt;/global&gt;]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento用户登录开启验证码功能]]></title>
    <url>%2F2016%2F07%2F07%2Fmagneto-enable-backend-login-captcha%2F</url>
    <content type="text"><![CDATA[访问magento后台，前台的验证码功能在这里启用和设置：System - Configration - Customer Configration - CAPTCHA 设置方法如下：]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac下nginx服务器设置虚拟主机]]></title>
    <url>%2F2016%2F07%2F07%2Fset-nginx-server%2F</url>
    <content type="text"><![CDATA[搭建好了php的开发环境之后,用localhost就可以访问nginx或apache的文件根目录了,如果想用域名来访问的话，就需要设置虚拟主机了 前提 已经搭建了nginx+mysql+php+php-fpm的开发环境 编辑hostsmac电脑上hosts文件位于/etc/hosts终端打开hosts文件 1vim /etc/hosts 编辑如下 1234127.0.0.1 localhost127.0.0.1 myblog.com //设置你想要用的域名255.255.255.255 broadcasthost::1 localhost 设置的域名甚至可以是线上已有的域名，如baidu.com，不过这样子设置之后就不能访问线上的真实网站了 启动nginx端口监听 进入nginx目录，如果你使用homebrew安装的nginx的话，那么目录是/usr/local/etc/nginx 1cd /usr/local/etc/nginx 查看配置文件nginx.conf确认最后一行有下面这句，没有的话就手动添加 1include servers/*; 打开nginx目录下的文件夹servers(如无，手动添加),新建一个server,命名为blog 12cd serversvim blog 编辑如下内容：12345678910111213141516171819202122232425262728293031323334353637server &#123; listen 8080; //此处修改端口号 server_name myblog.com; //此处添加hosts中设置的域名 root /Users/jim/blog; //此处设置项目根目录 location ~ \.php$ &#123; ## Execute PHP scripts expires off; ## Do not cache dynamic content fastcgi_pass 127.0.0.1:9000; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; ## See /etc/nginx/fastcgi_params &#125; location / &#123; index index.html index.php; ## Allow a static html file to be shown first try_files $uri $uri/ @handler; ## If missing pass the URI to Magento&apos;s front handler expires 30d; ## Assume all files are cachable if ($request_uri ~* &quot;\.(png|gif|jpg|jpeg|css|js|swf|ico|txt|xml|bmp|pdf|doc|docx|ppt|pptx|zip)$&quot;) &#123; expires max; &#125; # set fastcgi settings, not allowed in the &quot;if&quot; block include /usr/local/etc/nginx/fastcgi_params; fastcgi_split_path_info ^(.+\.php)(/.+)$; #this line fastcgi_param SCRIPT_FILENAME $document_root/index.php; fastcgi_param SCRIPT_NAME /index.php; fastcgi_param MAGE_RUN_CODE default; fastcgi_param MAGE_RUN_TYPE store; # rewrite - if file not found, pass it to the backend if (!-f $request_filename) &#123; fastcgi_pass 127.0.0.1:9000; break; &#125; &#125;&#125; 然后就可以用你设置的域名和端口号(此处为jim.practise.com:8080)来访问你的项目了若监听的是80端口那么域名后面的端口号可以省略 以后如果要使用别的域名，只需要在servers文件夹下面继续新增就可以了]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo如何让首页的文章只显示一部分并出现查看更多选项]]></title>
    <url>%2F2016%2F07%2F07%2Fhexo-set-read-more%2F</url>
    <content type="text"><![CDATA[编辑文章的时候，在想要截取的位置插入&lt;!--more--&gt; 比如我在这行后面加了&lt;!--more--&gt;，文章就会在这行被截取，并在左下角出现Read More按钮 这里的内容就不会出现在首页了 注意：&lt;!--more--&gt;中间不要有空格]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[landscape-plus主题代码高亮测试]]></title>
    <url>%2F2016%2F07%2F07%2Fhexo-landscapse-plus-code-highlight-test%2F</url>
    <content type="text"><![CDATA[IT博客怎么能没有代码高亮的功能呢hexo支持代码块的高亮，使用方式是在第一个```后面接空格+语言名称,还可以在语言名称后面加上代码块的标题 2018-10-16：回头看看，这tm不就是markdown自带的功能吗。真年轻 C语言 ``` cint main(){return main();}``` 123int main()&#123; return main();&#125; php ``` php 1.phparray_values();for($a=0;$a&lt;10;$a++){​ break;}``` 1.php1234array_values();for($a=0;$a&lt;10;$a++)&#123; break;&#125; ```array_values();for($a=0;$a&lt;10;$a++){​ break;}``` 1234array_values();for($a=0;$a&lt;10;$a++)&#123; break;&#125; 注意：去掉语言名称就不会高亮了 html ``` htmltest``` 1&lt;span&gt;test&lt;/span&gt; css ``` css.id:{​ border:1px solid red;}``` 123.id:&#123; border:1px solid red;&#125; yml ``` yml# Archives# 2: Enable pagination# 1: Disable pagination# 0: Fully Disablearchive: 1category: 1tag: 1``` 1234567# Archives# 2: Enable pagination# 1: Disable pagination# 0: Fully Disablearchive: 1category: 1tag: 1 xml ``` xml ​ Some Text​ ```` 123&lt;FirstElement&gt; Some Text&lt;/FirstElement&gt;]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sublime插件 - css颜色高亮与取色器]]></title>
    <url>%2F2016%2F07%2F06%2Fsublime-plugin-css-color-hignlighter%2F</url>
    <content type="text"><![CDATA[安装过程略，在package control里直接搜索插件名称就可以了 css颜色高亮插件 - Color Highlighter如图所示，将鼠标放在css颜色的值上时，会自动显示对应的颜色,如下图所示 css取色器 - ColorPicker将光标置于想要输入颜色的位置，打开sublime的控制台，输入color picker召唤出取色器，选择你想要的颜色，点击pick（也可以设置快捷键）]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>sublime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[分别设置hexo首页、标签页、归档页文章个数]]></title>
    <url>%2F2016%2F07%2F06%2Fset-hexo-page-size%2F</url>
    <content type="text"><![CDATA[开启关闭分页功能修改配置文件hexo/_config.yml，找到如下内容： 1234# Pagination## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page 其中，per_page即为你想要设置的分页个数，如果不想分页的话，设置per_page: 0即可。 个性化页面分页 一般希望首页展示文章的个数少一些，归档页等页面的文章数目多一些 需要安装一下插件： 1234hexo-generator-archive //归档页hexo-generator-category //分类页hexo-generator-index //首页hexo-generator-tag //标签页 安装方法：hexo3.0版本已安装手动安装方法： 1234npm install hexo-generator-archive --savenpm install hexo-generator-category --savenpm install hexo-generator-index --savenpm install hexo-generator-tag --save 安装完成后，修改配置文件hexo/_config.yml,添加如下内容 1234567891011121314# Pluginsindex_generator: per_page: 5 ##首页默认5篇文章标题，如果值为0不分页archive_generator: per_page: 20 ##归档页面默认20篇文章标题，如果值为0不分页 yearly: true ##生成年视图 monthly: true ##生成月视图tag_generator: per_page: 20 ##标签页面默认20篇文章，如果值为0不分页category_generator: per_page: 20 ##分类页面默认20篇文章，如果值为0不分页]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[解决hexo的landscape-plus主题标签和归档无法分页的bug]]></title>
    <url>%2F2016%2F07%2F06%2Ffix-hexo-landscape-plus-theme-cannot-split-page%2F</url>
    <content type="text"><![CDATA[主题自带的bug导致的 修改文件hexo/themes/landscape-plus/layout/_partial/archive.ejs，在倒数第二行加入如下内容： 1&lt;nav id="page-nav"&gt; &lt;%- paginator(&#123; prev_text: "&lt;&lt; Prev", next_text: "Next &gt;&gt;" &#125;) %&gt; &lt;/nav&gt; 其中，上一页和下一页的样式可自行修改 修改后的效果见：https://16bh.github.io/archives/]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[landscape-plus主题增加hexo文章目录功能]]></title>
    <url>%2F2016%2F07%2F06%2Fhexo-landscape-plus-add-post-toc%2F</url>
    <content type="text"><![CDATA[第一步，编辑themes\landscape-plus\layout\_partial\article.ejs文件，在&lt;%- post.content %&gt;这一行之前加入如下代码: 1234567&lt;!-- Table of Contents --&gt;&lt;% if (!index &amp;&amp; post.toc)&#123; %&gt; &lt;div id="toc" class="toc-article"&gt; &lt;strong class="toc-title"&gt;文章目录&lt;/strong&gt; &lt;%- toc(post.content) %&gt; &lt;/div&gt;&lt;% &#125; %&gt; 插入后为： 123456789 &lt;% &#125; else &#123; %&gt; &lt;!-- Table of Contents --&gt;&lt;% if (!index &amp;&amp; post.toc)&#123; %&gt; &lt;div id="toc" class="toc-article"&gt; &lt;strong class="toc-title"&gt;文章目录&lt;/strong&gt; &lt;%- toc(post.content) %&gt; &lt;/div&gt;&lt;% &#125; %&gt; &lt;%- post.content %&gt; 第二步，编辑文件themes\landscape-plus\source\css\_partial\article.styl，在最后添加如下代码： 12345678910111213141516171819202122/*toc*/.toc-article background #eee border 1px solid #bbb border-radius 10px margin 1.5em 0 0.3em 1.5em padding 1.2em 1em 0 1em max-width 28%.toc-title font-size 120%#toc line-height 1em font-size 0.9em float right .toc padding 0 margin 1em line-height 1.8em li list-style-type none .toc-child margin-left 1em]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo默认文章的模板修改]]></title>
    <url>%2F2016%2F07%2F06%2Fhexo-new-post-template%2F</url>
    <content type="text"><![CDATA[新增了文章目录功能后，每次新建文章时都需要加上toc: true，修改默认的文章模板，下次新建时就不用手动输入了 直接修改/scaffolds/post.md,加入toc: true即可 123456---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;tags:toc: true---]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo侧边栏安装最近评论小物件]]></title>
    <url>%2F2016%2F07%2F06%2Fhexo-landscape-pluas-add-recent-comment%2F</url>
    <content type="text"><![CDATA[前提：你的hexo已经配置了多说 多说已经倒闭很多年了 先themes/landscape-plus/layout/_widget目录下新建小物件duoshuo_recent_comments.ejs，编辑如下： 12345678&lt;% if (theme.duoshuo_shortname)&#123; %&gt;&lt;div class="widget-wrap"&gt; &lt;h3 class="widget-title"&gt;最近评论&lt;/h3&gt;&lt;div class="widget"&gt;&lt;ul class="ds-recent-comments" data-num-items="5" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="70"&gt;&lt;/ul&gt;&lt;/div&gt; &lt;/div&gt;&lt;% &#125; %&gt; 再修改主题的配置themes/landscape-plus/_config.yml 12345678910# Sidebarsidebar: rightwidgets:- recent_posts- category- tag- tagcloud- archive- links- duoshuo_recent_comments //与小物件的名称保持一致]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo菜单栏创建留言板]]></title>
    <url>%2F2016%2F07%2F06%2Fhexo-new-page%2F</url>
    <content type="text"><![CDATA[在命令行里面输入： 1hexo new page "message" 然后你会发现source里面多了个目录message，里面有个index.md 再编辑themes/landscape-plus/_config.yml，加入留言板: /message,如下所示： 123456# Headermenu: 本站首页: / 所有文章: /archives 留言板: /messagerss: /atom.xml 最后，将改动提交 1hexo g -d]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[运行hexo报错解决方案]]></title>
    <url>%2F2016%2F07%2F06%2Fhexo-error-FATAL-Permission-denied-publickey%2F</url>
    <content type="text"><![CDATA[记录几个常见的hexo报错 FATAL Permission denied (publickey)其实这是git的错误，与hexo木有关系 原因：未配置git 解决方式： 先运行 1npm install hexo-deployer-git --save 再修改_config.yml: 123type: git repository: git@name.github.com:name/name.github.io.git branch: master ssh: connect to host github.com port 22: Operation timed out.fatal: Could not read from remote repository.原因：ssh连接方式失效 解决方式：换成https连接方式 将_config.yml中的 1repository: git@name.github.com:name/name.github.io.git 修改为： 1https://github.com/name/name.github.io.git name指的是你github账号 YAMLException: can not read a block mapping entry; a multiline key may not be an implicit key at line 512categories:tags: hexo 文章头部的categories和tags后面写内容的时候要有空格]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo的landscape-plus主题安装不蒜子访问量统计插件]]></title>
    <url>%2F2016%2F07%2F06%2Fhexo-landscape-plus-busuanzi-plugin%2F</url>
    <content type="text"><![CDATA[修改themes/landscape-plus/layout/_partial/footer.ejs如下： 123456789101112131415161718&lt;footer id="footer"&gt; &lt;% if (theme.sidebar === 'bottom')&#123; %&gt; &lt;%- partial('_partial/sidebar') %&gt; &lt;% &#125; %&gt; &lt;div class="outer"&gt; &lt;div id="footer-info" class="inner"&gt; &amp;copy; &lt;%= date(new Date(), 'YYYY') %&gt; &lt;%= config.author || config.title %&gt;&lt;br&gt; Powered by &lt;a href="http://hexo.io/" target="_blank"&gt;Hexo&lt;/a&gt; . Theme by &lt;a href="https://github.com/xiangming/landscape-plus" target="_blank"&gt;Landscape-plus&lt;/a&gt; &lt;!-- 不蒜统计 --&gt; &lt;br&gt; &lt;span style="display: inline;" id="busuanzi_container_site_uv"&gt;本站总访客数 &lt;span id="busuanzi_value_site_uv" font="微软雅黑" style="color:white"&gt;&lt;/span&gt; 次&lt;/span&gt; &lt;span style="display: inline;" id="busuanzi_container_site_pv"&gt;本站总访问量 &lt;span id="busuanzi_value_site_pv" font="微软雅黑" style="color:white"&gt;&lt;/span&gt; 次&lt;/span&gt; &lt;/div&gt; &lt;/div&gt;&lt;/footer&gt;&lt;script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt;]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo侧边栏增加链接小物件]]></title>
    <url>%2F2016%2F07%2F06%2Fhexo-landscape-theme-add-friends%2F</url>
    <content type="text"><![CDATA[1. 新建widget themes/landscape/layout/_widget目录下新建文件links.ejs,并写入一下内容 1234567891011121314&lt;% if (site.posts.length)&#123; %&gt; &lt;div class="widget-wrap"&gt; &lt;h3 class="widget-title"&gt;友情链接&lt;/h3&gt; &lt;div class="widget"&gt; &lt;ul&gt; &lt;% for (var i in (config.links || theme.links))&#123; %&gt; &lt;li&gt; &lt;a href="&lt;%- theme.links[i] %&gt;" target="_blank"&gt;&lt;%= i %&gt;&lt;/a&gt; &lt;/li&gt; &lt;% &#125; %&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt;&lt;% &#125; %&gt; 2. 修改配置文件 themes/landscape/_config.yml 这里是要展示的链接的内容 123# Linkslinks: 谷歌: g.cn 这里在侧边栏启动widget 1234# Sidebarsidebar: rightwidgets:- links //上面新建的文件是links.ejs,这里用links，保持一致]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[在Finder中查看隐藏文件]]></title>
    <url>%2F2016%2F07%2F05%2Fshow-hidden-file-in-finder%2F</url>
    <content type="text"><![CDATA[##方法1：在终端中执行： 1defaults write com.apple.Finder AppleShowAllFiles YES 再按住Option键，单击Finder的图标不放，选择重新开启,即可看到隐藏文件 要取消的话，执行： 1defaults write com.apple.Finder AppleShowAllFiles NO 再重启Finder即可 方法2(推荐)使用快捷键：command+shif+.]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>finder</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo支持多说评论]]></title>
    <url>%2F2016%2F07%2F05%2Fhexo-enable-duoshuo%2F</url>
    <content type="text"><![CDATA[2018-10-16：多说已经倒闭很多年了 只需要三步即可让你的hexo主题支持评论 去多说登录，设置short name 将上面的short name加入配置themes/landscape/_config.yml中 1duoshuo_shortname: 你站点的short_name 修改themes\landscape\layout\_partial\article.ejs删除下面的disqus评论的代码： 1234567&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt; &lt;section id="comments"&gt; &lt;div id="disqus_thread"&gt; &lt;noscript&gt;Please enable JavaScript to view the &lt;a href="//disqus.com/?ref_noscript"&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt; &lt;/div&gt; &lt;/section&gt; &lt;% &#125; %&gt; 加入多说评论的代码 1234567891011121314151617181920&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.duoshuo_shortname)&#123; %&gt; &lt;section id="comments"&gt; &lt;!-- 多说评论框 start --&gt; &lt;div class="ds-thread" data-thread-key="&lt;%= post.layout %&gt;-&lt;%= post.slug %&gt;" data-title="&lt;%= post.title %&gt;" data-url="&lt;%= page.permalink %&gt;"&gt;&lt;/div&gt; &lt;!-- 多说评论框 end --&gt; &lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt; &lt;script type="text/javascript"&gt; var duoshuoQuery = &#123;short_name:'&lt;%= config.duoshuo_shortname %&gt;'&#125;; (function() &#123; var ds = document.createElement('script'); ds.type = 'text/javascript';ds.async = true; ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js'; ds.charset = 'UTF-8'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds); &#125;)(); &lt;/script&gt; &lt;!-- 多说公共JS代码 end --&gt; &lt;/section&gt; &lt;% &#125; %&gt;]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[第一次使用Hexo]]></title>
    <url>%2F2016%2F07%2F05%2Fhow-to-use-hexo%2F</url>
    <content type="text"><![CDATA[通过github和hexo搭建博客 解决在同一台电脑上使用github与gitlab的问题参考这篇博文:https://github.com/xirong/my-git/blob/master/use-gitlab-github-together.md 方法是一个仓库使用git的全局配置，一个仓库使用git的本地配置 生成公钥的时候指定生成的文件名就可以分别生成github和gitlab的公钥了 1ssh-keygen -t rsa -f ~/.ssh/id_rsa.github -C "sample@126.com" 安装node.js最快捷的方式还是用brew来安装 1brew install node.js 安装hexo1npm install -a hexo 常用hexo命令输入hexo可获取所有常用命令 12345678910111213clean Removed generated files and cache.config Get or set configurations.d(eploy) Deploy your website.g(enerate) Generate static files.help Get help on a command.init Create a new Hexo folder.list List the information of the sitemigrate Migrate your site from other system to Hexo.new Create a new post.publish Moves a draft post from _drafts to _posts folder.render Render files with renderer plugins.server Start the server.version Display version information. 生成博客后快速用Mou打开博客的方法1open test.md 注：open命令会用默认的方式打开指定的文件，相当于双击打开该文件。配置文件默认打开方式的方法：选中.md文件,command+I显示简介，选择打开方式为Mou，点击全部更改，如下图所示 安装完成后写一篇博客的过程1234hexo new 'test.md' //新建博客open source/_posts/test.md //用mou打开，编辑hexo g //更新本地库hexo d //提交本地修改 update: 2017年7月11日17:11 切换主题以yilia主题为例 将主题clone到本地 123cd path-to-hexocd themesgit clone https://github.com/litten/hexo-theme-yilia 修改站点配置文件_config.yml,启用新的主题 1theme: hexo-theme-yilia 清缓存和老的数据 12cd path-to-hexohexo clean 重新generate 1hexo g -d 2018-10-16： hexo new生成文章后，会在命令行显示文章的路径，此时，按住command键并单击就可以用默认的markdown编辑器打开了 node_modules要加入.gitignore 如果不修改主题的话，themes最好也忽略掉 不需要经常更新node package，否则因为不兼容的问题很容易报错，专注于写作就好了]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo如何安装主题]]></title>
    <url>%2F2016%2F07%2F05%2Fhow-to-install-hexo-theme%2F</url>
    <content type="text"><![CDATA[以landscape-plus主题为例,该主题是在默认主题landscape结合国人的使用习惯改进的 主题安装终端执行命令12cd hexo; //进入你的hexo博客的根目录git clone https://github.com/xiangming/landscape-plus.git themes/landscape-plus 主题使用修改配置文件 hexo/_config.yml 1234# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: landscape-plus 网站生效切换主题后，网站不会立刻生效，需要用下面的命令删除缓存 1hexo clean; 然后就可以 1hexo g -d]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[把VIM打造成php开发的IDE需要哪些插件]]></title>
    <url>%2F2016%2F07%2F01%2Fbuild-php-develop-environment-in-macvim%2F</url>
    <content type="text"><![CDATA[2018-10-16：现在老实多了，基本只用IDE，不瞎折腾编辑器了 php开发必备插件列表： （一）Vundle：管理vim插件的插件，必备 （二）nerdtree：文件目录 （三）nerdtree-git-plugin：在文件目录窗口显示git状态 （四）vim-gitgutter：在编辑区显示文件中的改动，可以查看diff （五）tagbar：显示php文件中的方法，点击跳转到该方法 （六）bufexplorer.zip：管理缓冲区，列出所有你打开的文件 （七）vim-airline： 状态栏美化 （八）YouCompleteMe： 代码自动补全 （九）ctrlp.vim： 查找文件 （十）ctags：方法跳转 （十一）syntastic：语法错误分析 （十二）nerdcommenter：代码注释 （十三）~ultisnips：代码片段~ 用aText软件替代]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[安装redis后清除magento缓存失效解决方案]]></title>
    <url>%2F2016%2F06%2F30%2Fflush-magento-cache-after-use-redis%2F</url>
    <content type="text"><![CDATA[在《如何清除magento缓存》一文中介绍了清除magento缓存的三种方法 2016.6.27 前几天给mac安装了redis服务器之后，今天在开发的过程中，先修改了一些配置文件，然后像往常一样用删除var下的cache目录的方法清除缓存后，发现配置文件未生效 原因：magento缓存和redis缓存解决方法：清除所有redis的缓存 12redis-cli //打开redis服务器的客户端flushall //清除所有redis服务内容]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[访问模块中的controller]]></title>
    <url>%2F2016%2F06%2F30%2Fhow-to-visit-magento-controller%2F</url>
    <content type="text"><![CDATA[magento与别的框架的不同之处之一：路由规则通过xml文件进行配置参考：《深入理解magento 第二章》 简单介绍magento的控制器。 controller文件 之前我们新成立的Nano公司建了如下的模块， 完善一下HelloWorldController magento-practise.local/app/code/local/Nano/App/controllers/HelloWorldController.php12345678910111213141516&lt;?php//自己定义的前台的控制器都应继承Mage_Core_Controller_Front_Action//类名称的格式为：模块名字空间_模块名称_controller名称class Nano_App_HelloWorldController extends Mage_Core_Controller_Front_Action&#123; //默认控制器 public function indexAction() &#123; echo '默认的action，如果没有指定action的话就会访问它'; &#125; public function sayAction() &#123; echo "Hello World!"; &#125;&#125; 如何访问controllers下的HelloWorldController.php呢? #修改模块配置文件的路由规则编辑app\etc\config.xml magento-practise.local/app/code/local/Nano/App/etc/config.xml123456789101112131415161718192021&lt;?xml version="1.0"?&gt;&lt;config&gt; &lt;modules&gt; &lt;Nano_App&gt; &lt;version&gt;0.0.1&lt;/version&gt; &lt;/Nano_App&gt; &lt;/modules&gt; &lt;frontend&gt;&lt;!--frontend是网站前台，admin是网站后台，install是magento的安装程序--&gt; &lt;routers&gt; &lt;Nano_App&gt;&lt;!--路由的标识，要唯一 --&gt; &lt;use&gt;standard&lt;/use&gt; &lt;args&gt; &lt;module&gt;Nano_App&lt;/module&gt;&lt;!--模块--&gt; &lt;frontName&gt;app&lt;/frontName&gt;&lt;!--在url中通过app就可以访问到Nano_App--&gt; &lt;/args&gt; &lt;/Nano_App&gt; &lt;/routers&gt; &lt;/frontend&gt;&lt;/config&gt; 同样，清除magento的缓存使得配置文件生效之后，我们在浏览器上请求jim.practise.com/index.php/app/helloWorld/say那么就会访问到HelloWorldController下的sayAction了而请求 jim.practise.com/index.php/app/helloWorld或jim.practise.com/index.php/app/helloWorld/index就会访问到HelloWorldController下的indexAction 注：本地域名需要根据本地电脑的配置进行替换,jim.practise.com是我本地配置的域名，指向项目文件的根目录]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[禁用magento模块]]></title>
    <url>%2F2016%2F06%2F30%2Fdisable-module-in-magento%2F</url>
    <content type="text"><![CDATA[有时候，我们需要禁用一些不用的模块，如magento核心模块中的Authorizenet模块是国外支付用的一个模块，国内商城是用不上的，可以禁用，让magento更轻便 访问magento后台localhost/magento/admin选择System/Configuration在左侧选择ADVANED/Advanced，在右侧展示的是所有已激活的模块列表 找到你要禁用的模块，将模块右侧的状态从‘Enable’改成‘Disable’就可以禁用该模块了，如图所示]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[新增magento模块]]></title>
    <url>%2F2016%2F06%2F30%2Fhow-to-add-module-in-magento%2F</url>
    <content type="text"><![CDATA[模块是magento的基本功能单位因为业务的需求而新增一个模块是常见的需求，网上也有很多的教程，推荐《深入理解magento第二章》 一切的开始 首先，成立一个公司，就叫Nano吧（- - 说到底不过是为了存放模块用的吧）然后，就建立一个app的模块好了，一个好的公司怎么能没有app应用呢 模块的结构 按如下路径建立文件夹和文件： 其中， local是本地模块的路径 Nano是模块的名字空间，一般是公司名 App是建立的模块名称，一般以它的功能进行命名 App目录下的是一个模块 修改模块配置文件编辑模块的配置文件Nano/App/etc/config.xml 12345678&lt;?xml version="1.0"?&gt;&lt;config&gt; &lt;modules&gt; &lt;Nano_App&gt;&lt;!--模块的名字空间与模块名称用下划线分隔开--&gt; &lt;version&gt;0.0.1&lt;/version&gt;&lt;!--配置文件的版本号是0.0.1，后面进行数据库操作的时候，修改数据库就要将版本号递增一次--&gt; &lt;/Nano_App&gt; &lt;/modules&gt;&lt;/config&gt; #激活模块在app/etc/modules中新增Nano_App.xml并编辑: 123456789&lt;?xml version="1.0"?&gt;&lt;config&gt; &lt;modules&gt; &lt;Nano_App&gt;&lt;!--模块的名字空间与模块名称用下划线分隔开--&gt; &lt;active&gt;true&lt;/active&gt;&lt;!--模块的激活状态，若为false，则模块未启用--&gt; &lt;codePool&gt;local&lt;/codePool&gt;&lt;!--模块的位置属性，分为核心core、社区community、本地local--&gt; &lt;/Nano_App&gt; &lt;/modules&gt;&lt;/config&gt; 查看模块是否新增成功先清除magento的缓存，使得上述配置文件生效 然后访问magento后台localhost/magento/admin，如果已经登录后台了，那么可能需要退出登录重新登录后台选择System/Configuration然后在左边的菜单栏选择Advanced 在右侧展示的是所有模块 如果能在列表中找到刚建立的模块 Tecent_App,那么就说明模块新建成功了]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[开启开发者模式]]></title>
    <url>%2F2016%2F06%2F30%2Fenable-magento-develop-model%2F</url>
    <content type="text"><![CDATA[开启了开发者模式后，可以直接在页面上显示错误信息。 项目根目录/errors下的local.xml.sample 修改为local.xml 修改index.php 123456if (isset($_SERVER['MAGE_IS_DEVELOPER_MODE'])) &#123; Mage::setIsDeveloperMode(true);&#125;#ini_set('display_errors', 1); 改为 12Mage::setIsDeveloperMode(true);ini_set('display_errors', 1);]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[初识magento框架代码结构]]></title>
    <url>%2F2016%2F06%2F30%2Fmagento-code-structure%2F</url>
    <content type="text"><![CDATA[安装好magento之后，用IDE打开所在文件夹，会看到如下所在的代码结构： 12345678910111213141516171819202122232425262728293031/app –程序根目录/app/etc –全局配置文件目录/app/code –所有模块安装其模型和控制器的目录/app/code/core –核心代码或经过认证得模块，如果要升级不要这里的代码/app/code/community –社区版的模块目录/app/code/local –定制代码目录/app/code/core/Mage –magento默认命名空间/app/code/core/Mage/&#123;Module&#125; –模块根目录/app/code/core/Mage/&#123;Module&#125;/etc –模块的配置文件目录/app/code/core/Mage/&#123;Module&#125;/controllers –模块的控制器/app/code/core/Mage/&#123;Module&#125;/Block –显示块的逻辑类/app/code/core/Mage/&#123;Module&#125;/Model –模块的对象模型/app/code/core/Mage/&#123;Module&#125;/Model/Mysql4 –模块的资源模型/app/code/core/Mage/&#123;Module&#125;/sql –模块各个版本的安装和升级用sql/app/code/core/Mage/&#123;Module&#125;/sql/&#123;resource&#125;/ - 升级是需要的资源模型/app/code/core/Mage/&#123;Module&#125;/sql/&#123;resource&#125;/&#123;type&#125;-&#123;action&#125;-&#123;versions&#125;.(sql|php) –资源升级文件例如: mysql4-upgrade-0.6.23-0.6.25.sql/app/design –设计包目录(layouts, templates, translations)/app/design/frontend –前端的设计/app/design/adminhtml –后台管理设计/app/design/&#123;area&#125;/&#123;package&#125;/&#123;theme&#125; –定制的主题/app/design/&#123;area&#125;/&#123;package&#125;/&#123;theme&#125;/layout –定义显示块的 .xml 文件/app/design/&#123;area&#125;/&#123;package&#125;/&#123;theme&#125;/template – .phtml (html with php tags)模版/app/design/&#123;area&#125;/&#123;package&#125;/&#123;theme&#125;/locale –Zend_Translate 兼容的主题用的文字翻译/app/locale –本地化文件/app/locale/&#123;locale (en_US)&#125; –Zend_Translate 兼容的模块用的文字翻译/skin/&#123;area&#125;/&#123;package&#125;/&#123;theme&#125;/- css和图像/lib –公用库/js – javascripts/media –上传文件存放目录/tests –测试目录/var –临时文件目录 说明： app/code目录下分为三部分：core、community、local core里的是核心模块，修改了这部分的话magento就没法升级了 commutiy里的是社区模块，就是别人开发的，有免费的也有收费的 local里的是我们自己开发的模块，在新建模块之前先建立一个名字空间，一般是公司的名称，如tecent，然后就可以在app/code/local/tecent/目录下新建模块了，如何新建模块，参考 media和var文件需要有写入的权限，在安装magento的时候如果这两个文件权限不够的话会报错，需要chmod 777修改文件夹的权限 2018-10-16 用tree命令展示整个目录会更清晰，当时还不知道这个命令。]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac下php开发环境搭建:nginx+mysql+php+php-fpm]]></title>
    <url>%2F2016%2F06%2F30%2Fbuid-php-develope-environment-on-mac-include-nginx-mysql-php-php-fpm%2F</url>
    <content type="text"><![CDATA[#关于集成环境 如果要使用apache服务器的话，可以考虑windows环境下可以安装集成环境，phpstudy、xamppmac下也有集成环境：MAMP,基础功能不能切换php版本，高级功能收费 另外，mac自带了apache和php，如果对php版本要求不高，线上服务器使用的是apache的话，只需要启用并进行简单的配置，搭配上mysql数据库就拥有一套开发环境了 至于到底是安装集成环境还是逐项安装，我的建议是跟线上服务器保持一致：线上使用nginx，那我们本地就使用nginx,不然远程服务器上的nginx日志都不知道在哪里线上使用php5，我们也用php5，就不要图新鲜安装php7了（可以在虚拟机里单独搭建一套测试环境，那想装什么样的都ok） 一 准备工作安装homebrew 二 安装配置mysql 在终端通过命令行安装 1brew install mysql 设置mysql开机启动 12ln -sfv /usr/local/opt/mysql/*.plist ~/Library/LaunchAgentslaunchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist 通过安全方式设置mysql的密码输入以下命令后 1/usr/local/opt/mysql/bin/mysql_secure_installation 根据提示输入密码,密码要记住，下面登录的时候要用 登录mysql数据库 安装mysql客户端推荐使用Sequel安装方法：搜索下载安装文件或用命令行下载 1brew cask install sequel-pro 效果图： #三 安装配置php及php-fpm 系统自带的php版本不一定能满足我们的需要，一般我们会选择重新安装php，安装的版本应当与线上环境的php版本保持一致。这样就可以避免本地与线上php版本不一致产生的bug，比如老版本的一些方法在新版本中已经被淘汰了，而新版本增加了许多实用的功能老版本并不支持举个小例子：php5.4之后，可以用[]表示数组 1234$a = [ 'a' =&gt; 1, 'b' =&gt; 2,]; 安装php(若要使用系统自带的php可跳过这一步)，以php5.5为例 1brew install php55 --with-fpm --with-gmp --with-imap --with-tidy --with-debug --with-mysql --with-libmysql 安装php扩展，也可以先不急，等后面要用到什么扩展的时候再安装也可以安装扩展的方法(以xdebug扩展为例)： 1brew install php55-xdebug --build-from-source; 最后的--build-from-source是一定要加上的，我看很多教程里都漏了这一句。加上这句可以保证安装的扩展与php版本保持一致 备注：要卸载通过homebrew安装的php扩展，参考这篇文章：mac环境下通过homebrew安装的php报错解决 配置环境变量，使我们安装的5.5版本的php覆盖系统自带的php 在文件中写入下面的内容 123export PATH=&quot;$(brew --prefix php55)/bin:$PATH&quot;export PATH=&quot;$(brew --prefix php55)/sbin:$PATH&quot;export PATH=&quot;/usr/local/bin:/usr/local/sbin:$PATH&quot; 觉得这样麻烦的，可以直接删除mac自带的老版本的php后再安装 php-fpm配置打开你的php目录，一般在usr/local/etc/php/5.5，需要配置php-fpm.conf和php.ini php-fpm开机启动 12ln -sfv /usr/local/opt/php55/*.plist ~/Library/LaunchAgentslaunchctl load ~/Library/LaunchAgents/homebrew.mxcl.php55.plist 四 安装配置nginx 安装nginx 1brew install nginx --with-http_geoip_module 启动nginx 1sudo nginx 重新加载配置|重启|停止|退出 nginx 1nginx -s reload/reopen/stop/quit 设置nginx开机启动 12ln -sfv /usr/local/opt/nginx/*.plist ~/Library/LaunchAgentslaunchctl load ~/Library/LaunchAgents/homebrew.mxcl.nginx.plist 五 配置快捷键123456alias nginx.start=&quot;sudo nginx&quot;alias fpm.start=&quot;sudo php-fpm -D&quot;alias redis.start=&quot;redis-server /usr/local/etc/redis.conf&quot;alias nginx.stop=&quot;sudo nginx -s quit&quot;alias fpm.stop=&apos;sudo pkill php-fpm&apos;]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>环境</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac环境sublime配置php编译环境]]></title>
    <url>%2F2016%2F06%2F28%2Fsublime-php-build-system-on-mac%2F</url>
    <content type="text"><![CDATA[有时候在写php代码的时候，需要写一些短小的脚本测试，比如empty(),is_null()函数碰到null、false、0等变量时的结果 这些脚本可能就两三句话，想要运行的话，比较麻烦,幸好sublime自带的编译环境也支持php,不过需要我们进行一些配置 先确认你的php已经加入了环境变量 选择Tools&gt;Build System&gt;New Build System 在弹出的文件中添加如下内容： /Users/jim/Library/Application Support/Sublime Text 3/Packages/User/php.sublime-build12345&#123; &quot;cmd&quot;: [&quot;php&quot;, &quot;$file&quot;], &quot;file_regex&quot;: &quot;php$&quot;, &quot;selector&quot;: &quot;source.php&quot;&#125; 保存并命名为php.sublime-build 新建一个测试的php文件,输入以下内容，按Command+B即可编译]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>sublime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[如何清除magento缓存]]></title>
    <url>%2F2016%2F06%2F24%2Fflush-magento-cache%2F</url>
    <content type="text"><![CDATA[手动删除直接删除文件夹：项目根目录/var/cache(需要先暂停nginx服务) 终端删除缓存在终端删除的命令行： 1rm -rf 项目根目录/var/cache 可以建立别名，后面快捷删除 123vim ~/.zshrcalias cache.clear="rm -rf 项目根目录/var/cache"source ~/.zshrc 注意：如果没有安装过oh my zsh，那么需要将上面命令中的.zshrc换成 .bash_profile建立别名后，直接在终端输入 1cache.clear 即可清缓存 后台删除缓存进入后台，选择System &gt; Cache Management 其中Configuration表示配置文件，如local.xml、config.xml的缓存 清除redis缓存当magento接入redis之后，清除redis的缓存会清除magento的所有缓存，清除方法 12&gt;redis-cliFLUSHALL 注：最好不要这样做，会清除产品、列表、fpc以及其它所有缓存]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[定位前台的template和block]]></title>
    <url>%2F2016%2F06%2F24%2Fshow-name-of-template-and-block-in-magento%2F</url>
    <content type="text"><![CDATA[背景： 关于template和block Magento 的执行控制器不直接将数据传给试图,相反的视图将直接引用模型,从模型取数据。这样的设计就导致了视图被拆分成两 部 分,块(Block)和模板(Template)。块是 PHP 对象,而模板是原始 PHP 文件,混合了 XHTML 和 PHP 代码(也就是把 PHP 作为模板语言 来使用了)。每 一个块都和一个唯一的模板文件绑定。在模板文件 phtml 中,“$this”就是指 该模板文件对应的块对象。 ​ -引用自《深入理解magento第三章》 方法一：直接在项目中搜索模板中的关键字直接在代码库中搜索前台出现的关键字，如登陆页面的“用户名”、“密码”；首页的的“联系我们”之类的缺点是可能会搜索到很多相关的文件，需要仔细的甄别 方法二： ［推荐］修改后台配置，直接在前台看到模板的名称打开后台你的magento网址/admin选择：System - Configuration再选择ADVANCED下的Developer，如图先在左上角选择Default Store View，如图再修改右边的Debug模块，如图然后在前台就会显示对应的template和block了效果图： 方法三：安装开发者插件（不可用） 注：从水水的博客看到的方法，见http://blog.csdn.net/shuishui8310/article/details/5223383 安装要用的key: magento-community/HM_DeveloperToolbar]]></content>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[安装magento]]></title>
    <url>%2F2016%2F06%2F24%2Fhow-to-install-magento%2F</url>
    <content type="text"><![CDATA[准备工作 搭建开发环境：nginx(apache)+php+php-fpm+mysql 在mysql中新建magento要用的数据库 注册magento官网账号，并下载magentohttps://magento.com 选择社区版，在打开的页面点Download Now 选择带sample data的版本（即测试数据，不然安装好了啥都没有，要自己从头弄起，安装好了） 下载完成后解压到本地根目录，文件夹名称修改成你的项目名称，如’jimPractiseMagento’,即可以通过localhost访问到的目录 安装mageno访问localhost/jimPractiseMagento会自动跳转到安装页面 第一步，【用户协议】，勾选agree，选择continue 第二步，【语言】， 选择continue 第三步，【检测问题】一般出问题的都在这一步 常见的错误有两种： 缺乏php扩展 文件路径不可写，如下图所示 缺乏php扩展的时候，根据提示安装对应的扩展即可 如果像图示一样提示：xxx/media或xxx/var路径不可写的时候，执行下面的命令修改根目录的文件权限 1chmod -R 777 文件根目录路径 注：修改权限以后，git可能会将改了权限的文件视为一种修改，并出现在sourceTree的未暂存文件中，这里就需要修改git的配置 12cd 项目根目录vim .git/config 将.git/config文件中的filemode = true改为filemode = false即可 解决页面提示的错误后刷新下页面，没有错误后点continue 第四步，【数据库】，填写数据库信息后，点continue，安装完成（这里比较简单，故略去）]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac下快速输入长命令行的两种方法]]></title>
    <url>%2F2016%2F06%2F24%2Ffast-type-long-shell-command%2F</url>
    <content type="text"><![CDATA[本文介绍两种在mac下快捷输入长命令行的方法以启动redis服务的命令/usr/local/bin/redis-server /etc/redis.conf为例 方法一： alias123456cd ~ //进入用户目录vim .zshrc //如果安装了zsh的话，打开这个配置，否则使用 vim .bash_profile//编辑配置文件alias redis.start="/usr/local/bin/redis-server /etc/redis.conf"//注意，等号左右不能有空格//完成编辑source .zshrc //保存配置，同理，未安装zsh的使用 source .bash_profile 这样，别名就设置好了直接在终端使用redis.start就可以启动你的redis服务了甚至，你还可以将多个alias结合起来使用（见文末） 方法二：atext 注：也可以使用其他类似的软件，如TextExpander 1.下载并安装atext 略 2.atext设置 先在偏好设置里设置触发片段的热键，如ctrl+\然后打开atext，新建一个片段组New Group，并如下图所示设置组的属性 这样设置之后，我们输入片段+热键就能触发命令，展开片段对应的内容 3.编辑常用命令如图所示，在组下面新建常用的片段4.使用这时候，在终端输入设置好的片段名称，如redis.start，再按设置好的热键，如 ctrl+\ ,就会自动展开成/usr/local/bin/redis-server /etc/redis.conf，按return即可使用该命令了 两种方法的比较第一种alias的方法比较快捷，不用再输入热键，可以可以将多个alias组合起来使用，如：123alias fpm.start="sudo php55-fpm start"alias fpm.stop="sudo php55-fpm stop"alias fpm.restart='fpm.stop &amp;&amp; fpm.start' 局限性：只能在自己的终端上使用，不能在别的地方用，只能给命令行设置别名 第二种atext的使用范围很广，不但可以在自己的终端上使用，还可以在远程服务的终端上使用，还可以记录常用的代码片段，在coding的时候使用（话说最后才是atext最常用的功能吧：）- 来自本人的吐槽）]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[在oh my zsh的基础上添加终端的欢迎界面]]></title>
    <url>%2F2016%2F06%2F24%2Foh-my-zsh-cow-welcome%2F</url>
    <content type="text"><![CDATA[2018-10-16：虽然现在不用这个了，但是还是觉得很有趣 先上效果图，就是这只萌萌哒的小牛以及牛说的每日格言啦，怎么做出这种效果呢，往下看。 准备工作假设你已经完成了下面的准备工作 *安装了items2+zsh+oh my zsh(安装过程在这里不赘述了，网上一堆教程,推荐迟建强老师的教程：终极 Shell) *安装了homebrew 开始安装zsh的欢迎界面第一步，先用homebrew安装两个依赖的包 12brew install fortunebrew install cowsay 第二步，安装oh my zsh的chucknorris插件打开终端配置文件 vim ~/.zshrc 修改plugins = ( )这一行括号里表示你安装过的插件，以空格区分，只要加上chucknorris就可以了，下面是我安装的所有的oh my zsh的插件，以供参考 1plugins=(brew git z extract history catimg wd last-working-dir chucknorris ) 再在.zshrc文件的最后一行添一句命令： chuck_cow即可 保存并退出，重新加载配置文件 source ~/.zshrc 重启终端，牛牛就出来啦 enjoy it!]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac环境下通过homebrew安装的php报错解决：PHP Startup: Unable to load dynamic library]]></title>
    <url>%2F2016%2F06%2F23%2Fbrew-install-php-error-PHP-Startup-Unable-to-load-dynamic-library%2F</url>
    <content type="text"><![CDATA[背景 注：可以直接查看最下面的解决方案 事情的起因是这样的：通过下面的命令安装imagic扩展（不要问我为什么装这玩意儿，抽风了可能） brew install php55-imagick 运行 php --version发现报错信息 注：此处解决方案参考了这里https://github.com/Homebrew/homebrew-php/issues/1556 报错原因是因为安装的imagick扩展与php版本不匹配，通过下面的命令重新安装 1brew reinstall php55-imagick --build-from-source 运行 php --version发现新的报错信息 这个原因一直没找到 然后我一想：我管它什么原因，这玩意儿我压根就不需要吧，卸载了就是了执行1brew uninstall php55-imagick 果然，又报错了： 在stackoverflow上搜索了半天，几乎所有提供的解决方案都是重装imagickbut，前面装过了还是会报错啊 先是在php.ini文件中看看在哪里启用了imagick这个扩展，并没有发现 附：php.ini的路径是：/usr/local/etc/php/5.5(如果你跟我一样是通过homebrew安装的php的话) 最终解决方案 注：最后的解决方法参考这里 http://stackoverflow.com/questions/5282264/php-warning-php-startup-unable-to-load-dynamic-library 先执行下面的命令，获取所有跟php配置相关的文件的路径，终于找到了通过homebrew安装的扩展的位置1php -i | grep ini 接下来就简单了,打开ext-imagick.ini文件 12cd /usr/local/etc/php/5.5/conf.d/vim ext-imagick.ini 注销掉extentions=&quot;&quot;这行就可以了 这下，世界终于安静了，每次启动php的时候静悄悄的，再也没有烦人的warning提示了]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>brew</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[在php中使用json]]></title>
    <url>%2F2016%2F06%2F23%2Fhow-to-use-json%2F</url>
    <content type="text"><![CDATA[关于json 为什么要使用jsonjson字符串容易存储，尤其是要将一个数组存入数据库或缓存或记录日志的时候 json_encode 1$str = json_encode($arr); json_decode在Dash中的函数格式如下 1mixed json_decode ( string $json [, bool $assoc = false [, int $depth = 512 [, int $options = 0 ]]] ) 注意第二个参数，当json_decode()的第二个参数不填的时候，json解析的到的结果是个object对象，只有当第二个参数是true的时候，json解析的结果才是list数组即 12$object = json_decode($str);$array = json_decode($str,true); 如果是做API接口开发，经常和客户端联调的筒子们肯定就知道，object类型和list类型对于安卓来说相差甚远，直接关系到接口是否能够解析 关于json工具 在线json解析（1）Json Parser Online:http://json.parser.online.fr/优势：界面简洁美观,json解析框够大，适用于解析很长的json字符串 （2） Be Json 优势：json解析出错时会给出错误提示 Chrome的json解析扩展 - JSONVIEW安装完成后调用接口直接在页面上显示json解析后的内容 下载链接：https://chrome.google.com/webstore/detail/jsonview/chklaanhfefbnpoihckbnefhakgolnmc 效果图：]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>json</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[magento日志]]></title>
    <url>%2F2016%2F06%2F22%2Fmagento-log%2F</url>
    <content type="text"><![CDATA[一 关于错误日志使用magento的过程中经常出现图示的错误页面红框中的部分是错误日志的编号，以下是查看对应的错误日志的方法： 在项目根目录/var/report/错误日志编号文件中即可查看对应的错误信息 在页面上直接显示错误信息的方法：将项目根目录/errors/local.xml.sample修改为local.xml即可(最好保留原文件)附：通过终端命令行复制文件12cd 你的项目根目录路径/errorscp local.xml.sample local.xml 二 关于日志 为什么要记日志（1）使用var_dump(),print()等方法无法输出想要输出的内容时；（2）监控线上接口的使用情况；（3）调试线上错误；（4）其它情况； 怎么记日志在magento代码中通过如下方法记录日志 1Mage::log($tmp); //$tmp是你想要记录的内容，string类型 记录的日志可以在项目根目录/var/log/system.log中查看 在日志中记录数组 1Mage::log(print_r($array,true)); //print_r()的第二个参数为true时，则不打印$array，而是将$array作为函数的返回值 6.29日更正：在日志中记录数组，直接记录就可以了 1Mage::log($array); system.log是系统日志，如果想要将自己的日志与系统的日志区分开，那么可以这样记日志 1Mage::log($log_content,null,'jim.log'); jim.log 即是自定义的log文件名称，可以自定义日志记录的位置在项目根目录/var/log/jim.log]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[在magento中配置使用redis缓存]]></title>
    <url>%2F2016%2F06%2F21%2Fredis-in-magento%2F</url>
    <content type="text"><![CDATA[php常用的缓存工具：memcached和redis,本文讲的是在magento框架中借助magento的模块来使用redis 准备工作确保你的电脑安装并启动了redis服务、配置了php的redis扩展 magento配置reids 确保magento框架中安装并启用了Cm_Cache_Backend_Redis模块 修改以下路径中的local配置文件项目根目录/app/etc/local.xml在config/global下添加子节点cache如下 12345678910111213141516171819&lt;cache&gt; &lt;backend&gt;Cm_Cache_Backend_Redis&lt;/backend&gt; &lt;backend_options&gt; &lt;server&gt;127.0.0.1&lt;/server&gt; &lt;!-- or absolute path to unix socket --&gt; &lt;port&gt;6379&lt;/port&gt; &lt;persistent&gt;&lt;/persistent&gt; &lt;!-- Specify unique string to enable persistent connections. E.g.: sess-db0; bugs with phpredis and php-fpm are known: https://github.com/nicolasff/phpredis/issues/70 --&gt; &lt;database&gt;0&lt;/database&gt; &lt;!-- Redis database number; protection against accidental data loss is improved by not sharing databases --&gt; &lt;password&gt;&lt;/password&gt; &lt;!-- Specify if your Redis server requires authentication --&gt; &lt;force_standalone&gt;0&lt;/force_standalone&gt; &lt;!-- 0 for phpredis, 1 for standalone PHP --&gt; &lt;connect_retries&gt;1&lt;/connect_retries&gt; &lt;!-- Reduces errors due to random connection failures; a value of 1 will not retry after the first failure --&gt; &lt;read_timeout&gt;10&lt;/read_timeout&gt; &lt;!-- Set read timeout duration; phpredis does not currently support setting read timeouts --&gt; &lt;automatic_cleaning_factor&gt;0&lt;/automatic_cleaning_factor&gt; &lt;!-- Disabled by default --&gt; &lt;compress_data&gt;1&lt;/compress_data&gt; &lt;!-- 0-9 for compression level, recommended: 0 or 1 --&gt; &lt;compress_tags&gt;1&lt;/compress_tags&gt; &lt;!-- 0-9 for compression level, recommended: 0 or 1 --&gt; &lt;compress_threshold&gt;20480&lt;/compress_threshold&gt; &lt;!-- Strings below this size will not be compressed --&gt; &lt;compression_lib&gt;gzip&lt;/compression_lib&gt; &lt;!-- Supports gzip, lzf, lz4 (as l4z) and snappy --&gt; &lt;use_lua&gt;0&lt;/use_lua&gt; &lt;!-- Set to 1 if Lua scripts should be used for some operations --&gt; &lt;/backend_options&gt;&lt;/cache&gt; 清空magento缓存使得配置文件生效，关于如何清空magento缓存，参考《magento二次开发 - 如何清除magento缓存》 可能遇到的问题 6-22:今天上午打开本地网站时报如下错误connection to Redis failed： 发现是因为redis服务没有开启导致的，开启redis即可 说明magento在配置了redis之后那么要保持reids服务一直处于开启状态 参考：[1]在magento中配置redis文档： http://devdocs.magento.com/guides/m1x/ce18-ee113/using_redis.html [2]Cm_Cache_Backend_Redis配置 https://github.com/colinmollenhour/Cm_Cache_Backend_Redis/blob/master/README.md 7-26:在redis-cli中执行keys *命令没有看到任何缓存信息 查看local.xml的配置：1&lt;session_save&gt;db&lt;/session_save&gt; session存储的方式设置为db而不是file的时候，需要指定数据库的编号0-15,默认的数据库是1 可以用如下的命令打开redis客户端1redis-cli -n 1 也可以在客户端中选择数据库12redis-cliselect 1]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>magento</tag>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac下安装redis]]></title>
    <url>%2F2016%2F06%2F20%2Finstall-redis-on-mac%2F</url>
    <content type="text"><![CDATA[在mac上安装redis服务。 一 准备工作安装了homebrew安装了php、nginx（或apache）或集成环境 二 安装redis服务器 通过homebrew安装 1brew install redis 直接下载安装本人是用这种方法安装的，安装完后才发现可以用homebrew安装 12345678curl -O http://redis.googlecode.com/files/redis-2.8.7.tar.gzsudo tar -zxf redis-2.8.7.tar.gzmv redis-2.8.7 /usr/local/rediscd redissudo makesudo make testsudo make installmv redis.conf /etc/reds.conf 安装成功 三 redis服务器的启动、使用和退出 1 启动redis服务执行以下命令1/usr/local/bin/redis-server /etc/redis.conf 出现下面的界面说明redis服务器安装成功 进入/usr/local/bin目录可以看到以下文件 dump.rdb 用于将缓存以文件的形式存储在硬盘中，需要设置权限，见文末redis-cli 用于启动redis客户端 2 查看redis服务是否启动123➜ 16bh.github.io git:(gh-pages) ✗ ps aux |grep redisjimxu 3196 96.9 0.0 4321720 1500 ?? Rs 11:02PM 0:02.34 redis-server 127.0.0.1:6379jimxu 3207 0.0 0.0 4258736 192 s000 R+ 11:02PM 0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn redis 3 使用redis服务 注：启动redis服务器后终端所在的窗口就不能输入别的命令了(如下图所示)，需要在终端打开新的窗口才能使用客户端功能 2018-10-15：补充，可以设置redis后台，这样就不影响终端窗口的使用 配置文件redis.conf 1daemonize yes 通过redis-cli命令可以启动redis客户端 1redis-cli 常用命令 keys * 查看所有键值set (key) (value) 设置键key的值为valueappend (key) (value2) 在键key的值后面加上value2get (key) 查看键key的值 redis客户端使用举例： 6.23补充：如何设置和查看缓存时间 set a 123;//设置缓存：a=&gt;123EXPIRE a 3600;//设置缓存时间（秒）TTL a；//查看缓存剩余时间 6.24补充：如何清空所有缓存 flushall //执行该命令后会清空redis服务器的所有缓存，一般用于应急处理，不应该作为常用命令 4 退出redis服务（1）客户端退出执行1redis-cli shutdown （2）关闭pid先运行1ps -u jim(替换成你的用户名) -o pid,rss,command | grep redis-server 查看所有redis服务的pid号 16.6.24日补充：还可以通过mac自带的活动监视器查看pid如下图所示通过Spotlight或alfred搜索activity monitor打开活动监视器在活动监视器中搜索redis-server，即可得到pid号 补充：如果你的电脑安装了oh my zsh那么只需要在终端输入1kill redis 按tab，会自动替换成对应的pid（喜大普奔啊，各位） 再运行1kill -9 27355 关闭redis服务对应的pid号，即可关闭redis服务 四 配置php使用redis服务 安装php的redis扩展1brew install php55-redis --build-from-source php55是本机安装的php的版本（5.5）,--build-from-source是让安装的扩展与php的版本保持一致 查看phpinfo()，出现redis选项说明redis配置成功 在php代码中使用redis服务 123456$redis = new Redis();$redis-&gt;connect('127.0.0.1','host');//redis服务器ip及端口号$redis-&gt;set($key,$value,$timeout);//设置缓存:键-值-缓存时间$redis-&gt;get($key);//查找缓存$redis-&gt;del($key);//删除缓存$redis-&gt;delete($key);//删除缓存 ##五 常见问题（1）Redis: Failed opening .rdb for saving: Permission deniedredis服务器会生成dump.rdb文件存储缓存，如果文件权限不够则无法读写该文件1cd /usr/loal/bin 在/usr/local/bin/（默认文件目录）下执行命令1chmod 777 dump.rdb]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[重新排序Launchpad图标]]></title>
    <url>%2F2016%2F06%2F16%2Freset-launchpad-icon%2F</url>
    <content type="text"><![CDATA[在终端执行： 1defaults write com.apple.dock ResetLaunchPad -bool true; killall Dock 复原： 1defaults write com.apple.dock ResetLaunchPad -bool false; killall Dock]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>launchpad</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[homebrew、homebrew-cask及cakebrew]]></title>
    <url>%2F2016%2F06%2F16%2Fhomebrew%E3%80%81homebrew-cask%E5%8F%8Acakebrew%2F</url>
    <content type="text"><![CDATA[一 用homebrew安装常用包1/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" 在终端运行brew命令可得到常用命令 Example usage: 查询包是否存在：brew search [TEXT|/REGEX/] 查询包信息及可用安装命令：brew (info|home|options) [FORMULA…] 安装包：brew install FORMULA… 更新homebrew：brew update 更新包：brew upgrade [FORMULA…] 卸载包：brew uninstall FORMULA… 查看已安装包：brew list [FORMULA…] Troubleshooting: brew config 检查homebrew状况：brew doctor brew install -vd FORMULA Brewing: brew create [URL [–no-fetch]] brew edit [FORMULA…] https://github.com/Homebrew/brew/blob/master/share/doc/homebrew/Formula-Cookbook.md Further help: man brew brew help [COMMAND] brew home 如：​1234brew search brew-caskbrew install nginxbrew search phpbrew uninstall mysql ​ 二 用homebrew-cask安装常用软件比在网上下载安装文件安装的优势在于：（1）节省下载安装包的过程，一行命令即可安装（2）一些在网上搜不到安装文件的软件也可以通过这种方法安装 12brew tap phinze/homebrew-caskbrew install brew-cask 使用方法：将上面的brew换成brew-cask即可，如 1brew-cask install qq 三 用cakebrew可视化你的homebrew如果你不熟悉终端命令，可以下载cakebrew，它是homebrew的客户端，可以实现常用的搜索、安装、卸载操作官网下载安装 https://www.cakebrew.com 或执行以下命令 1brew cask install cakebrew 效果图：]]></content>
      <tags>
        <tag>brew</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2016年4月php面试笔记]]></title>
    <url>%2F2016%2F04%2F22%2Fphp-review-note-on-2016-04%2F</url>
    <content type="text"><![CDATA[面试岗位：web开发工程师时间： 2016-04-22 面试总结： 前端和后端数据库部分掌握不足 1、get和post区别以及另外的两个 1). get是从服务器上获取数据，post是向服务器传送数据。2). get是把参数数据队列加到提交表单的ACTION属性所指的URL中，值和表单内各个字段一一对应，在URL中可以看到。post是通过HTTP post机制，将表单内各个字段与其内容放置在HTML HEADER内一起传送到ACTION属性所指的URL地址。用户看不到这个过程。3）. 对于get方式，服务器端用Request.QueryString获取变量的值，对于post方式，服务器端用Request.Form获取提交的数据。4）. get传送的数据量较小，不能大于2KB。post传送的数据量较大，一般被默认为不受限制。但理论上，IIS4中最大量为80KB，IIS5中为100KB。5）. get安全性非常低，post安全性较高。但是执行效率却比Post方法好。 建议：1）、get方式的安全性较Post方式要差些，包含机密信息的话，建议用Post数据提交方式；2）、在做数据查询时，建议用Get方式；而在做数据添加、修改或删除时，建议用Post方式；2、cookie和session的区别和联系 2、cookie 和session 的区别：1）cookie数据存放在客户的浏览器上，session数据放在服务器上。2）cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗 考虑到安全应当使用session。3）session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能 考虑到减轻服务器性能方面，应当使用COOKIE。4）单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。 cookie 和session 的联系：session是通过cookie来工作的session和cookie之间是通过$_COOKIE[‘PHPSESSID’]来联系的，通过$_COOKIE[‘PHPSESSID’]可以知道session的id，从而获取到其他的信息。在购物网站中通常将用户加入购物车的商品联通session_id记录到数据库中，当用户再次访问是，通过sessionid就可以查找到用户上次加入购物车的商品。因为sessionid是唯一的，记录到数据库中就可以根据这个查找了。 3、魔术方法:call()、tostring() call()函数是php类的默认魔法函数，call() 在一个对象的上下文中，如果调用的方法不存在的时候，它将被触发 __toString() 方法用于一个类被当成字符串时应怎样回应。例如 echo $obj; 应该显示些什么。此方法必须返回一个字符串，否则将发出一条 E_RECOVERABLE_ERROR 级别的致命错误 4、css中的position属性，如何让几个div并排显示，overflow属性 css的position属性文档说明 position 最主要的两个属性：属性 absolute(绝对定位) relative(相对定位） 用float属性让div并排显示 overflow属性是指当区域中的内容超出边界时如何展示 5、数据库中的存储引擎 6、svn和git svn和git的区别： 1）git是分布式的，没有网络时也可以提交； 2）git把内容按元数据方式存储，而SVN是按文件； 7、向数据库中插入一个字段 ALTER TABLE [表名] ADD COLUMN [字段名] DATATYPE 8、设计模式 9、array_walk()用法 对数组中每个元素应用用户自定义函数 见文档 10、abstruct类与接口的区别 区别： 1、对接口的使用是通过关键字implements。对抽象类的使用是通过关键字extends。当然接口也可以通过关键字extends继承。 2、接口中不可以声明成员变量（包括类静态变量），但是可以声明类常量。抽象类中可以声明各种类型成员变量，实现数据的封装。（另Java接口中的成员变量都要声明为public static final类型） 3、接口没有构造函数，抽象类可以有构造函数。 4、接口中的方法默认都是public类型的，而抽象类中的方法可以使用private,protected,public来修饰。 5、一个类可以同时实现多个接口，但一个类只能继承于一个抽象类。 选择抽象类还是接口。 如果要创建一个模型，这个模型将由一些紧密相关的对象采用，就可以使用抽象类。如果要创建将由一些不相关对象采用的功能，就使用接口。如果必须从多个来源继承行为，就使用接口。如果知道所有类都会共享一个公共的行为实现，就使用抽象类，并在其中实现该行为。11、REST接口调用方法 12、面向对象中的多态性 所谓多态性是指一段程序能够处理多种类型对象的能力，比如说在公司上班，每个月财务发放工资，同一个发工资的方法，在公司内不同的员工或是不同职位的员工，都是通过这个方法发放的，但是所发的工资都是不相同的。所以同一个发工资的方法就出现了多种形态。对于面向对象的程序来说，多态就是把子类对象赋值给父类引用，然后调用父类的方法，去执行子类覆盖父类的那个方法，但在PHP 里是弱类型的，对象引用都是一样的不分父类引用，还是子类引用。 13、php新版本的改动 php7新特性 官方说明文档 1）返回值类型，严格模式 2）??运算符\&lt;=&gt;组合比较符，当$a小于、等于或大于$b时它分别返回-1、0或1 3）use批量引入 14、MVC模型及常用的框架 回答：MVC由Model（模型）, View（视图）和Controller（控制器）组成，PHP MVC可以更高效地管理好3个不同层的PHP代码。 Model：数据信息存取层。 View：view层负责将应用的数据以特定的方式展现在界面上。 Controller：通常控制器负责从视图读取数据，控制用户输入，并向模型发送数据。]]></content>
      <categories>
        <category>IT</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>review</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[通过Fiddler工具进行接口代理-改变线上网页的显示结果]]></title>
    <url>%2F2016%2F01%2F18%2Fuse-fiddler-to-change-website-cotent%2F</url>
    <content type="text"><![CDATA[Fiddler是抓取请求的工具的一种，类似的还有Charles等，使用Fidder之前应先关闭其他的代理工具 需求如下： 网站前端和服务端配合开发了一个页面，会调取接口A的数据并在页面上呈现，现在由于业务要求需要开发新的接口B，在原有的前端逻辑下正常展示。那么，在开发的过程中，在没有前端配合的情况下，服务端如何让这个页面调取B的接口并呈现呢？ 解决方案是这样： 以去哪儿的某款产品为例：http://szgq1.package.qunar.com/user/id=187688454&amp;abt=a#tf=tejiaqunar 用chrome打开该链接，打开开发者工具，依次选择Network -XHR可以看到页面调用的服务端的接口列表 以getBottomRecommend接口为例， 右击该接口地址并在新的页面中打开，会显示该接口的出入参。 接口的请求地址：http://szgq1.package.qunar.com/user/recommend/getBottomRecommend.json?pId=187688454 入参是产品idpId=187688454 出参是推荐的产品的list数组： 出参的显示结果如下图所示：假设，我们本地开发了一个新的产品推荐接口，接口地址为user/recommend/newGetBottomRecommend.json 在网站前端修改接口地址并上线之前（有时候，情况更加复杂，我们进行的app服务端的开发，为app的某个页面提供接口，在app修改接口地址并打包给我们之前，我们只能通过观察数据的结构来想象展示的效果，而一般情况下pc或M站上是有这样的页面提供给我们测试使用的），我们本地开发的时候需要在原有的界面显示新接口返回的数据 打开Fiddler软件，刷新刚才的产品详情页，此时在fiddler窗口中会抓取所有的请求 A区域中显示了页面在刷新后发起的所有的请求，我们在其中找到我们要修改的请求 1、在右侧的区域里选择AutoResponder添加代理 2、勾选这三项 3、Add rule添加代理 4、在4中输入原有的接口地址 http://szgq1.package.qunar.com/user/recommend/getBottomRecommend.json?pId=187688454 5、在5中输入现在代理的接口地址，我们先选择自带的404_Plain.dat试一试，理论上调用这一接口会报404错误（查找不到文件） 6、保存操作，刷新接口请求发现接口返回值是 此时，页面中产品推荐模块的展示结果为： 可见，此时，该模块对应的线上接口调的是我们代理的404的新接口。 7、我们也可以用json文件来代替接口的请求，比如我们将原有的json文件复制下来，进行修改 1&#123;"ret":true,"data":&#123;"group":[&#123;"min_price":0,"count":1024,"short_arr":"我家+","arr":"日本,大阪,京都","departure":"博客园","takeoff_date":"今天","url":"/search/group-a-a-%E4%B8%8A%E6%B5%B7-----%E6%97%A5%E6%9C%AC-4812----20160127-10758"&#125;]&#125;&#125; 保存为newReturn.json,并在新接口请求的位置选择这个文件 此时，接口的请求结果为我们输入的内容：页面的显示结果为：]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>fiddler</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[windows下通过charles和夜神模拟器对安卓app进行抓包]]></title>
    <url>%2F2015%2F12%2F21%2Fhow-to-use-charles-on-windows%2F</url>
    <content type="text"><![CDATA[通过charles对手机app进行抓包，应该算是客户端、服务端、测试应该掌握的基本技能了。如果你没有一台安卓手机，又想抓取安卓app的请求的话，可以考虑在电脑上安装安卓模拟器，然后通过charles或fiddler进行抓包 介绍在windows系统上通过安卓模拟器和charles进行抓包操作。 准备工作 安装抓包工具charles（或fiddler） 安装安卓模拟器 开始装的是bluestacks，但不支持安装内核低的安卓包，卸载的时候还费了老大的劲，完全卸载可参考http://www.ptbus.com/view/41755/。 后来选择了夜神安卓模拟器，效果很赞，免费软件 设置夜神模拟器安装完成后 点设置-wlan 注意：这里说的设置不是安卓模拟器软件顶端的这个设置 而是在模拟的安卓系统内的设置选择设置中的wifi鼠标长按默认的wifi进入修改界面 点修改网络，选择“显示高级选项”，设置网络代理：主机名设置成你电脑的ip，端口填8888，保存这样，我们就设置好代理了，然后只要启动抓包工具就可以抓包了。 注意：在设置过代理后，只有先打开下面的抓包工具，安卓模拟器才能正常联网。 抓包打开charles，界面如下A：清空所有请求 B：打开\关闭 获取请求，在不抓包的时候点B关闭获取请求，降低系统负担 C：获取的请求列表 点击选中一个请求后，在右侧可以看到请求的详细数据overview包含请求的链接 request：请求的入参 response：请求的出参 在respons的最下方可以选择展示的出参的类型：]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>charles</tag>
      </tags>
  </entry>
</search>